/*! For license information please see vendors-17c34557.335befee.js.LICENSE.txt */
"use strict";(self.webpackChunk_reneos_slider_editor=self.webpackChunk_reneos_slider_editor||[]).push([[466],{641:(e,n,t)=>{t.d(n,{$V:()=>Be,$u:()=>nn,$y:()=>fn,BA:()=>o.BA,Bi:()=>ye,Bs:()=>ur,C4:()=>r.C4,CE:()=>_o,Df:()=>me,Dl:()=>C,E:()=>Vn,E3:()=>Mo,EW:()=>sr,EY:()=>co,FK:()=>so,Fv:()=>Ao,Fw:()=>$t,GM:()=>Pn,Gc:()=>o.Gc,Gt:()=>ot,Gw:()=>mr,Gy:()=>le,H4:()=>u,HF:()=>Rn,Ht:()=>In,IG:()=>o.IG,IJ:()=>o.IJ,Ic:()=>en,Im:()=>ee,K9:()=>xt,KC:()=>Je,KR:()=>o.KR,Kf:()=>r.rU,Kh:()=>o.Kh,LJ:()=>vr,LM:()=>Nt,Lk:()=>Oo,Lu:()=>An,MZ:()=>ge,Mw:()=>io,NP:()=>$n,Ng:()=>Fo,OA:()=>wn,OW:()=>de,PP:()=>o.PP,PR:()=>De,PS:()=>lt,PT:()=>r.PT,Pn:()=>we,Pr:()=>o.Pr,Q3:()=>$o,QP:()=>ce,QW:()=>o.QW,QZ:()=>o.QZ,Qi:()=>B,R1:()=>o.R1,R8:()=>dr,RG:()=>_n,SS:()=>rn,Tb:()=>Cn,Tm:()=>o.Tm,Tq:()=>Le,Tr:()=>r.Tr,U4:()=>s,U_:()=>Ut,Ul:()=>o.Ul,Vq:()=>vo,WQ:()=>rt,Wv:()=>bo,X2:()=>o.X2,Y4:()=>Ke,Y5:()=>yr,YY:()=>V,Yj:()=>Sn,Yv:()=>o.Yv,ZH:()=>r.ZH,ZQ:()=>fr,_B:()=>r._B,aT:()=>_r,bF:()=>So,bU:()=>ar,bj:()=>ln,bn:()=>Hn,bo:()=>j,ch:()=>o.ch,ci:()=>Et,dA:()=>Ue,dY:()=>y,ds:()=>o.ds,eW:()=>Po,eX:()=>yn,fE:()=>o.fE,fn:()=>Vt,g2:()=>pn,g8:()=>o.g8,gN:()=>hn,gW:()=>xo,gh:()=>i,h:()=>cr,hi:()=>on,i9:()=>o.i9,iD:()=>gr,jC:()=>ao,jr:()=>o.jr,jt:()=>H,ju:()=>o.ju,k6:()=>D,lW:()=>o.lW,lt:()=>hr,mu:()=>o.mu,n:()=>Ze,nD:()=>o.nD,nI:()=>Do,nT:()=>It,o5:()=>o.o5,p9:()=>wt,pI:()=>vn,pM:()=>ve,pR:()=>ue,qG:()=>cn,qL:()=>a,qP:()=>Fn,qR:()=>sn,rE:()=>pr,rO:()=>Nn,rU:()=>Ie,rY:()=>o.rY,rk:()=>be,sV:()=>ze,tB:()=>o.tB,tC:()=>zo,tG:()=>c,tY:()=>eo,uX:()=>fo,uY:()=>o.uY,ux:()=>o.ux,v6:()=>Uo,v_:()=>r.v_,vv:()=>Co,wB:()=>Lt,wX:()=>er,wk:()=>Mn,xo:()=>tn,y$:()=>ir,yC:()=>o.yC,zz:()=>Bn});var o=t(953),r=t(33);const l=[];function s(e,n){}const c={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"};function i(e,n,t,o){try{return o?e(...o):e()}catch(e){u(e,n,t)}}function a(e,n,t,o){if((0,r.Tn)(e)){const l=i(e,n,t,o);return l&&(0,r.yL)(l)&&l.catch(e=>{u(e,n,t)}),l}if((0,r.cy)(e)){const r=[];for(let l=0;l<e.length;l++)r.push(a(e[l],n,t,o));return r}}function u(e,n,t,l=!0){n&&n.vnode;const{errorHandler:s,throwUnhandledErrorInProduction:c}=n&&n.appContext.config||r.MZ;if(n){let r=n.parent;const l=n.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;r;){const n=r.ec;if(n)for(let t=0;t<n.length;t++)if(!1===n[t](e,l,c))return;r=r.parent}if(s)return(0,o.C4)(),i(s,null,10,[e,l,c]),void(0,o.bl)()}!function(e,n,t,o=!0,r=!1){if(r)throw e;console.error(e)}(e,0,0,l,c)}const p=[];let d=-1;const f=[];let h=null,g=0;const m=Promise.resolve();let v=null;function y(e){const n=v||m;return e?n.then(this?e.bind(this):e):n}function _(e){if(!(1&e.flags)){const n=E(e),t=p[p.length-1];!t||!(2&e.flags)&&n>=E(t)?p.push(e):p.splice(function(e){let n=d+1,t=p.length;for(;n<t;){const o=n+t>>>1,r=p[o],l=E(r);l<e||l===e&&2&r.flags?n=o+1:t=o}return n}(n),0,e),e.flags|=1,b()}}function b(){v||(v=m.then(k))}function C(e){(0,r.cy)(e)?f.push(...e):h&&-1===e.id?h.splice(g+1,0,e):1&e.flags||(f.push(e),e.flags|=1),b()}function T(e,n,t=d+1){for(;t<p.length;t++){const n=p[t];if(n&&2&n.flags){if(e&&n.id!==e.uid)continue;p.splice(t,1),t--,4&n.flags&&(n.flags&=-2),n(),4&n.flags||(n.flags&=-2)}}}function x(e){if(f.length){const e=[...new Set(f)].sort((e,n)=>E(e)-E(n));if(f.length=0,h)return void h.push(...e);for(h=e,g=0;g<h.length;g++){const e=h[g];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}h=null,g=0}}const E=e=>null==e.id?2&e.flags?-1:1/0:e.id;function k(e){r.tE;try{for(d=0;d<p.length;d++){const e=p[d];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),i(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;d<p.length;d++){const e=p[d];e&&(e.flags&=-2)}d=-1,p.length=0,x(),v=null,(p.length||f.length)&&k(e)}}let O,S=[],F=!1;function M(e,...n){O?O.emit(e,...n):F||S.push({event:e,args:n})}function P(e,n){var t,o;O=e,O?(O.enabled=!0,S.forEach(({event:e,args:n})=>O.emit(e,...n)),S=[]):"undefined"!=typeof window&&window.HTMLElement&&!(null==(o=null==(t=window.navigator)?void 0:t.userAgent)?void 0:o.includes("jsdom"))?((n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(e=>{P(e,n)}),setTimeout(()=>{O||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,F=!0,S=[])},3e3)):(F=!0,S=[])}const A=w("component:added"),$=w("component:updated"),N=w("component:removed"),I=e=>{O&&"function"==typeof O.cleanupBuffer&&!O.cleanupBuffer(e)&&N(e)};function w(e){return n=>{M(e,n.appContext.app,n.uid,n.parent?n.parent.uid:void 0,n)}}let U=null,L=null;function R(e){const n=U;return U=e,L=e&&e.type.__scopeId||null,n}function B(e){L=e}function H(){L=null}const V=e=>D;function D(e,n=U,t){if(!n)return e;if(e._n)return e;const o=(...t)=>{o._d&&vo(-1);const r=R(n);let l;try{l=e(...t)}finally{R(r),o._d&&vo(1)}return $(n),l};return o._n=!0,o._c=!0,o._d=!0,o}function j(e,n){if(null===U)return e;const t=rr(U),l=e.dirs||(e.dirs=[]);for(let e=0;e<n.length;e++){let[s,c,i,a=r.MZ]=n[e];s&&((0,r.Tn)(s)&&(s={mounted:s,updated:s}),s.deep&&(0,o.hV)(c),l.push({dir:s,instance:t,value:c,oldValue:void 0,arg:i,modifiers:a}))}return e}function Z(e,n,t,r){const l=e.dirs,s=n&&n.dirs;for(let c=0;c<l.length;c++){const i=l[c];s&&(i.oldValue=s[c].value);let u=i.dir[r];u&&((0,o.C4)(),a(u,t,8,[e.el,i,e,n]),(0,o.bl)())}}const K=Symbol("_vte"),W=e=>e.__isTeleport,G=e=>e&&(e.disabled||""===e.disabled),X=e=>e&&(e.defer||""===e.defer),Y=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,Q=e=>"function"==typeof MathMLElement&&e instanceof MathMLElement,q=(e,n)=>{const t=e&&e.to;return(0,r.Kg)(t)?n?n(t):null:t},J={name:"Teleport",__isTeleport:!0,process(e,n,t,o,r,l,s,c,i,a){const{mc:u,pc:p,pbc:d,o:{insert:f,querySelector:h,createText:g,createComment:m}}=a,v=G(n.props);let{shapeFlag:y,children:_,dynamicChildren:b}=n;if(null==e){const e=n.el=g(""),a=n.anchor=g("");f(e,t,o),f(a,t,o);const p=(e,n)=>{16&y&&(r&&r.isCE&&(r.ce._teleportTarget=e),u(_,e,n,r,l,s,c,i))},d=()=>{const e=n.target=q(n.props,h),t=te(e,n,g,f);e&&("svg"!==s&&Y(e)?s="svg":"mathml"!==s&&Q(e)&&(s="mathml"),v||(p(e,t),ne(n,!1)))};v&&(p(t,a),ne(n,!0)),X(n.props)?(n.el.__isMounted=!1,Tt(()=>{d(),delete n.el.__isMounted},l)):d()}else{if(X(n.props)&&!1===e.el.__isMounted)return void Tt(()=>{J.process(e,n,t,o,r,l,s,c,i,a)},l);n.el=e.el,n.targetStart=e.targetStart;const u=n.anchor=e.anchor,f=n.target=e.target,g=n.targetAnchor=e.targetAnchor,m=G(e.props),y=m?t:f,_=m?u:g;if("svg"===s||Y(f)?s="svg":("mathml"===s||Q(f))&&(s="mathml"),b?(d(e.dynamicChildren,b,y,r,l,s,c),Mt(e,n,!0)):i||p(e,n,y,_,r,l,s,c,!1),v)m?n.props&&e.props&&n.props.to!==e.props.to&&(n.props.to=e.props.to):z(n,t,u,a,1);else if((n.props&&n.props.to)!==(e.props&&e.props.to)){const e=n.target=q(n.props,h);e&&z(n,e,null,a,0)}else m&&z(n,f,g,a,1);ne(n,v)}},remove(e,n,t,{um:o,o:{remove:r}},l){const{shapeFlag:s,children:c,anchor:i,targetStart:a,targetAnchor:u,target:p,props:d}=e;if(p&&(r(a),r(u)),l&&r(i),16&s){const e=l||!G(d);for(let r=0;r<c.length;r++){const l=c[r];o(l,n,t,e,!!l.dynamicChildren)}}},move:z,hydrate:function(e,n,t,o,r,l,{o:{nextSibling:s,parentNode:c,querySelector:i,insert:a,createText:u}},p){function d(e,n,i,a){n.anchor=p(s(e),n,c(e),t,o,r,l),n.targetStart=i,n.targetAnchor=a}const f=n.target=q(n.props,i),h=G(n.props);if(f){const c=f._lpa||f.firstChild;if(16&n.shapeFlag)if(h)d(e,n,c,c&&s(c));else{n.anchor=s(e);let i=c;for(;i;){if(i&&8===i.nodeType)if("teleport start anchor"===i.data)n.targetStart=i;else if("teleport anchor"===i.data){n.targetAnchor=i,f._lpa=n.targetAnchor&&s(n.targetAnchor);break}i=s(i)}n.targetAnchor||te(f,n,u,a),p(c&&s(c),n,f,t,o,r,l)}ne(n,h)}else h&&16&n.shapeFlag&&d(e,n,e,s(e));return n.anchor&&s(n.anchor)}};function z(e,n,t,{o:{insert:o},m:r},l=2){0===l&&o(e.targetAnchor,n,t);const{el:s,anchor:c,shapeFlag:i,children:a,props:u}=e,p=2===l;if(p&&o(s,n,t),(!p||G(u))&&16&i)for(let e=0;e<a.length;e++)r(a[e],n,t,2);p&&o(c,n,t)}const ee=J;function ne(e,n){const t=e.ctx;if(t&&t.ut){let o,r;for(n?(o=e.el,r=e.anchor):(o=e.targetStart,r=e.targetAnchor);o&&o!==r;)1===o.nodeType&&o.setAttribute("data-v-owner",t.uid),o=o.nextSibling;t.ut()}}function te(e,n,t,o){const r=n.targetStart=t(""),l=n.targetAnchor=t("");return r[K]=l,e&&(o(r,e),o(l,e)),l}const oe=Symbol("_leaveCb"),re=Symbol("_enterCb");function le(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ze(()=>{e.isMounted=!0}),tn(()=>{e.isUnmounting=!0}),e}const se=[Function,Array],ce={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:se,onEnter:se,onAfterEnter:se,onEnterCancelled:se,onBeforeLeave:se,onLeave:se,onAfterLeave:se,onLeaveCancelled:se,onBeforeAppear:se,onAppear:se,onAfterAppear:se,onAppearCancelled:se},ie=e=>{const n=e.subTree;return n.component?ie(n.component):n};function ae(e){let n=e[0];if(e.length>1){let t=!1;for(const o of e)if(o.type!==io){n=o,t=!0;break}}return n}const ue={name:"BaseTransition",props:ce,setup(e,{slots:n}){const t=Do(),r=le();return()=>{const l=n.default&&me(n.default(),!0);if(!l||!l.length)return;const s=ae(l),c=(0,o.ux)(e),{mode:i}=c;if(r.isLeaving)return fe(s);const a=he(s);if(!a)return fe(s);let u=de(a,c,r,t,e=>u=e);a.type!==io&&ge(a,u);let p=t.subTree&&he(t.subTree);if(p&&p.type!==io&&!To(p,a)&&ie(t).type!==io){let e=de(p,c,r,t);if(ge(p,e),"out-in"===i&&a.type!==io)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,8&t.job.flags||t.update(),delete e.afterLeave,p=void 0},fe(s);"in-out"===i&&a.type!==io?e.delayLeave=(e,n,t)=>{pe(r,p)[String(p.key)]=p,e[oe]=()=>{n(),e[oe]=void 0,delete u.delayedLeave,p=void 0},u.delayedLeave=()=>{t(),delete u.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return s}}};function pe(e,n){const{leavingVNodes:t}=e;let o=t.get(n.type);return o||(o=Object.create(null),t.set(n.type,o)),o}function de(e,n,t,o,l){const{appear:s,mode:c,persisted:i=!1,onBeforeEnter:u,onEnter:p,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:h,onLeave:g,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:y,onAppear:_,onAfterAppear:b,onAppearCancelled:C}=n,T=String(e.key),x=pe(t,e),E=(e,n)=>{e&&a(e,o,9,n)},k=(e,n)=>{const t=n[1];E(e,n),(0,r.cy)(e)?e.every(e=>e.length<=1)&&t():e.length<=1&&t()},O={mode:c,persisted:i,beforeEnter(n){let o=u;if(!t.isMounted){if(!s)return;o=y||u}n[oe]&&n[oe](!0);const r=x[T];r&&To(e,r)&&r.el[oe]&&r.el[oe](),E(o,[n])},enter(e){let n=p,o=d,r=f;if(!t.isMounted){if(!s)return;n=_||p,o=b||d,r=C||f}let l=!1;const c=e[re]=n=>{l||(l=!0,E(n?r:o,[e]),O.delayedLeave&&O.delayedLeave(),e[re]=void 0)};n?k(n,[e,c]):c()},leave(n,o){const r=String(e.key);if(n[re]&&n[re](!0),t.isUnmounting)return o();E(h,[n]);let l=!1;const s=n[oe]=t=>{l||(l=!0,o(),E(t?v:m,[n]),n[oe]=void 0,x[r]===e&&delete x[r])};x[r]=e,g?k(g,[n,s]):s()},clone(e){const r=de(e,n,t,o,l);return l&&l(r),r}};return O}function fe(e){if(Ve(e))return(e=Mo(e)).children=null,e}function he(e){if(!Ve(e))return W(e.type)&&e.children?ae(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:n,children:t}=e;if(t){if(16&n)return t[0];if(32&n&&(0,r.Tn)(t.default))return t.default()}}function ge(e,n){6&e.shapeFlag&&e.component?(e.transition=n,ge(e.component.subTree,n)):128&e.shapeFlag?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function me(e,n=!1,t){let o=[],r=0;for(let l=0;l<e.length;l++){let s=e[l];const c=null==t?s.key:String(t)+String(null!=s.key?s.key:l);s.type===so?(128&s.patchFlag&&r++,o=o.concat(me(s.children,n,c))):(n||s.type!==io)&&o.push(null!=c?Mo(s,{key:c}):s)}if(r>1)for(let e=0;e<o.length;e++)o[e].patchFlag=-2;return o}function ve(e,n){return(0,r.Tn)(e)?(()=>(0,r.X$)({name:e.name},n,{setup:e}))():e}function ye(){const e=Do();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function _e(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function be(e){const n=Do(),t=(0,o.IJ)(null);if(n){const o=n.refs===r.MZ?n.refs={}:n.refs;Object.defineProperty(o,e,{enumerable:!0,get:()=>t.value,set:e=>t.value=e})}return t}const Ce=new WeakMap;function Te(e,n,t,l,s=!1){if((0,r.cy)(e))return void e.forEach((e,o)=>Te(e,n&&((0,r.cy)(n)?n[o]:n),t,l,s));if(Re(l)&&!s)return void(512&l.shapeFlag&&l.type.__asyncResolved&&l.component.subTree.component&&Te(e,n,t,l.component.subTree));const c=4&l.shapeFlag?rr(l.component):l.el,a=s?null:c,{i:u,r:p}=e,d=n&&n.r,f=u.refs===r.MZ?u.refs={}:u.refs,h=u.setupState,g=(0,o.ux)(h),m=h===r.MZ?r.NO:e=>(0,r.$3)(g,e);if(null!=d&&d!==p)if(xe(n),(0,r.Kg)(d))f[d]=null,m(d)&&(h[d]=null);else if((0,o.i9)(d)){d.value=null;const e=n;e.k&&(f[e.k]=null)}if((0,r.Tn)(p))i(p,u,12,[a,f]);else{const n=(0,r.Kg)(p),l=(0,o.i9)(p);if(n||l){const o=()=>{if(e.f){const t=n?m(p)?h[p]:f[p]:p.value;if(s)(0,r.cy)(t)&&(0,r.TF)(t,c);else if((0,r.cy)(t))t.includes(c)||t.push(c);else if(n)f[p]=[c],m(p)&&(h[p]=f[p]);else{const n=[c];p.value=n,e.k&&(f[e.k]=n)}}else n?(f[p]=a,m(p)&&(h[p]=a)):l&&(p.value=a,e.k&&(f[e.k]=a))};if(a){const n=()=>{o(),Ce.delete(e)};n.id=-1,Ce.set(e,n),Tt(n,t)}else xe(e),o()}}}function xe(e){const n=Ce.get(e);n&&(n.flags|=8,Ce.delete(e))}let Ee=!1;const ke=()=>{Ee||(console.error("Hydration completed but contains mismatches."),Ee=!0)},Oe=e=>{if(1===e.nodeType)return(e=>e.namespaceURI.includes("svg")&&"foreignObject"!==e.tagName)(e)?"svg":(e=>e.namespaceURI.includes("MathML"))(e)?"mathml":void 0},Se=e=>8===e.nodeType;function Fe(e){const{mt:n,p:t,o:{patchProp:l,createText:s,nextSibling:c,parentNode:i,remove:a,insert:u,createComment:p}}=e,d=(t,o,l,a,p,b=!1)=>{b=b||!!o.dynamicChildren;const C=Se(t)&&"["===t.data,T=()=>m(t,o,l,a,p,C),{type:x,ref:E,shapeFlag:k,patchFlag:O}=o;let S=t.nodeType;o.el=t,(0,r.yQ)(t,"__vnode",o,!0),(0,r.yQ)(t,"__vueParentComponent",l,!0),-2===O&&(b=!1,o.dynamicChildren=null);let F=null;switch(x){case co:3!==S?""===o.children?(u(o.el=s(""),i(t),t),F=t):F=T():(t.data!==o.children&&(ke(),t.data=o.children),F=c(t));break;case io:_(t)?(F=c(t),y(o.el=t.content.firstChild,t,l)):F=8!==S||C?T():c(t);break;case ao:if(C&&(S=(t=c(t)).nodeType),1===S||3===S){F=t;const e=!o.children.length;for(let n=0;n<o.staticCount;n++)e&&(o.children+=1===F.nodeType?F.outerHTML:F.data),n===o.staticCount-1&&(o.anchor=F),F=c(F);return C?c(F):F}T();break;case so:F=C?g(t,o,l,a,p,b):T();break;default:if(1&k)F=1===S&&o.type.toLowerCase()===t.tagName.toLowerCase()||_(t)?f(t,o,l,a,p,b):T();else if(6&k){o.slotScopeIds=p;const e=i(t);if(F=C?v(t):Se(t)&&"teleport start"===t.data?v(t,t.data,"teleport end"):c(t),n(o,e,null,l,a,Oe(e),b),Re(o)&&!o.type.__asyncResolved){let n;C?(n=So(so),n.anchor=F?F.previousSibling:e.lastChild):n=3===t.nodeType?Po(""):So("div"),n.el=t,o.component.subTree=n}}else 64&k?F=8!==S?T():o.type.hydrate(t,o,l,a,p,b,e,h):128&k&&(F=o.type.hydrate(t,o,l,a,Oe(i(t)),p,b,e,d))}return null!=E&&Te(E,null,a,o),F},f=(e,n,t,s,c,i)=>{i=i||!!n.dynamicChildren;const{type:u,props:p,patchFlag:d,shapeFlag:f,dirs:g,transition:m}=n,v="input"===u||"option"===u;if(v||-1!==d){g&&Z(n,null,t,"created");let u,b=!1;if(_(e)){b=Ft(null,m)&&t&&t.vnode.props&&t.vnode.props.appear;const o=e.content.firstChild;if(b){const e=o.getAttribute("class");e&&(o.$cls=e),m.beforeEnter(o)}y(o,e,t),n.el=e=o}if(16&f&&(!p||!p.innerHTML&&!p.textContent)){let o=h(e.firstChild,n,e,t,s,c,i);for(;o;){Ae(e,1)||ke();const n=o;o=o.nextSibling,a(n)}}else if(8&f){let t=n.children;"\n"!==t[0]||"PRE"!==e.tagName&&"TEXTAREA"!==e.tagName||(t=t.slice(1)),e.textContent!==t&&(Ae(e,0)||ke(),e.textContent=n.children)}if(p)if(v||!i||48&d){const n=e.tagName.includes("-");for(const o in p)(v&&(o.endsWith("value")||"indeterminate"===o)||(0,r.Mp)(o)&&!(0,r.SU)(o)||"."===o[0]||n)&&l(e,o,null,p[o],void 0,t)}else if(p.onClick)l(e,"onClick",null,p.onClick,void 0,t);else if(4&d&&(0,o.g8)(p.style))for(const e in p.style)p.style[e];(u=p&&p.onVnodeBeforeMount)&&Lo(u,t,n),g&&Z(n,null,t,"beforeMount"),((u=p&&p.onVnodeMounted)||g||b)&&ro(()=>{u&&Lo(u,t,n),b&&m.enter(e),g&&Z(n,null,t,"mounted")},s)}return e.nextSibling},h=(e,n,o,r,l,i,a)=>{a=a||!!n.dynamicChildren;const p=n.children,f=p.length;for(let n=0;n<f;n++){const h=a?p[n]:p[n]=No(p[n]),g=h.type===co;e?(g&&!a&&n+1<f&&No(p[n+1]).type===co&&(u(s(e.data.slice(h.children.length)),o,c(e)),e.data=h.children),e=d(e,h,r,l,i,a)):g&&!h.children?u(h.el=s(""),o):(Ae(o,1)||ke(),t(null,h,o,null,r,l,Oe(o),i))}return e},g=(e,n,t,o,r,l)=>{const{slotScopeIds:s}=n;s&&(r=r?r.concat(s):s);const a=i(e),d=h(c(e),n,a,t,o,r,l);return d&&Se(d)&&"]"===d.data?c(n.anchor=d):(ke(),u(n.anchor=p("]"),a,d),d)},m=(e,n,o,r,l,s)=>{if(Ae(e.parentElement,1)||ke(),n.el=null,s){const n=v(e);for(;;){const t=c(e);if(!t||t===n)break;a(t)}}const u=c(e),p=i(e);return a(e),t(null,n,p,u,o,r,Oe(p),l),o&&(o.vnode.el=n.el,qt(o,n.el)),u},v=(e,n="[",t="]")=>{let o=0;for(;e;)if((e=c(e))&&Se(e)&&(e.data===n&&o++,e.data===t)){if(0===o)return c(e);o--}return e},y=(e,n,t)=>{const o=n.parentNode;o&&o.replaceChild(e,n);let r=t;for(;r;)r.vnode.el===n&&(r.vnode.el=r.subTree.el=e),r=r.parent},_=e=>1===e.nodeType&&"TEMPLATE"===e.tagName;return[(e,n)=>{if(!n.hasChildNodes())return t(null,e,n),x(),void(n._vnode=e);d(n.firstChild,e,null,null,null),x(),n._vnode=e},d]}const Me="data-allow-mismatch",Pe={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ae(e,n){if(0===n||1===n)for(;e&&!e.hasAttribute(Me);)e=e.parentElement;const t=e&&e.getAttribute(Me);if(null==t)return!1;if(""===t)return!0;{const e=t.split(",");return!(0!==n||!e.includes("children"))||e.includes(Pe[n])}}const $e=(0,r.We)().requestIdleCallback||(e=>setTimeout(e,1)),Ne=(0,r.We)().cancelIdleCallback||(e=>clearTimeout(e)),Ie=(e=1e4)=>n=>{const t=$e(n,{timeout:e});return()=>Ne(t)},we=e=>(n,t)=>{const o=new IntersectionObserver(e=>{for(const t of e)if(t.isIntersecting){o.disconnect(),n();break}},e);return t(e=>{if(e instanceof Element)return function(e){const{top:n,left:t,bottom:o,right:r}=e.getBoundingClientRect(),{innerHeight:l,innerWidth:s}=window;return(n>0&&n<l||o>0&&o<l)&&(t>0&&t<s||r>0&&r<s)}(e)?(n(),o.disconnect(),!1):void o.observe(e)}),()=>o.disconnect()},Ue=e=>n=>{if(e){const t=matchMedia(e);if(!t.matches)return t.addEventListener("change",n,{once:!0}),()=>t.removeEventListener("change",n);n()}},Le=(e=[])=>(n,t)=>{(0,r.Kg)(e)&&(e=[e]);let o=!1;const l=e=>{o||(o=!0,s(),n(),e.target.dispatchEvent(new e.constructor(e.type,e)))},s=()=>{t(n=>{for(const t of e)n.removeEventListener(t,l)})};return t(n=>{for(const t of e)n.addEventListener(t,l,{once:!0})}),s},Re=e=>!!e.type.__asyncLoader;function Be(e){(0,r.Tn)(e)&&(e={loader:e});const{loader:n,loadingComponent:t,errorComponent:l,delay:s=200,hydrate:c,timeout:i,suspensible:a=!0,onError:p}=e;let d,f=null,h=0;const g=()=>{let e;return f||(e=f=n().catch(e=>{if(e=e instanceof Error?e:new Error(String(e)),p)return new Promise((n,t)=>{p(e,()=>n((h++,f=null,g())),()=>t(e),h+1)});throw e}).then(n=>e!==f&&f?f:(n&&(n.__esModule||"Module"===n[Symbol.toStringTag])&&(n=n.default),d=n,n)))};return ve({name:"AsyncComponentWrapper",__asyncLoader:g,__asyncHydrate(e,n,t){let o=!1;(n.bu||(n.bu=[])).push(()=>o=!0);const r=()=>{o||t()},l=c?()=>{const t=c(r,n=>function(e,n){if(Se(e)&&"["===e.data){let t=1,o=e.nextSibling;for(;o;){if(1===o.nodeType){if(!1===n(o))break}else if(Se(o))if("]"===o.data){if(0===--t)break}else"["===o.data&&t++;o=o.nextSibling}}else n(e)}(e,n));t&&(n.bum||(n.bum=[])).push(t)}:r;d?l():g().then(()=>!n.isUnmounted&&l())},get __asyncResolved(){return d},setup(){const e=Vo;if(_e(e),d)return()=>He(d,e);const n=n=>{f=null,u(n,e,13,!l)};if(a&&e.suspense||Qo)return g().then(n=>()=>He(n,e)).catch(e=>(n(e),()=>l?So(l,{error:e}):null));const r=(0,o.KR)(!1),c=(0,o.KR)(),p=(0,o.KR)(!!s);return s&&setTimeout(()=>{p.value=!1},s),null!=i&&setTimeout(()=>{if(!r.value&&!c.value){const e=new Error(`Async component timed out after ${i}ms.`);n(e),c.value=e}},i),g().then(()=>{r.value=!0,e.parent&&Ve(e.parent.vnode)&&e.parent.update()}).catch(e=>{n(e),c.value=e}),()=>r.value&&d?He(d,e):c.value&&l?So(l,{error:c.value}):t&&!p.value?So(t):void 0}})}function He(e,n){const{ref:t,props:o,children:r,ce:l}=n.vnode,s=So(e,o,r);return s.ref=t,s.ce=l,delete n.vnode.ce,s}const Ve=e=>e.type.__isKeepAlive,De={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:n}){const t=Do(),o=t.ctx;if(!o.renderer)return()=>{const e=n.default&&n.default();return e&&1===e.length?e[0]:e};const l=new Map,s=new Set;let c=null;t.__v_cache=l;const i=t.suspense,{renderer:{p:a,m:u,um:p,o:{createElement:d}}}=o,f=d("div");function h(e){Xe(e),p(e,t,i,!0)}function g(e){l.forEach((n,t)=>{const o=lr(n.type);o&&!e(o)&&m(t)})}function m(e){const n=l.get(e);!n||c&&To(n,c)?c&&Xe(c):h(n),l.delete(e),s.delete(e)}o.activate=(e,n,t,o,l)=>{const s=e.component;u(e,n,t,0,i),a(s.vnode,e,n,t,s,i,o,e.slotScopeIds,l),Tt(()=>{s.isDeactivated=!1,s.a&&(0,r.DY)(s.a);const n=e.props&&e.props.onVnodeMounted;n&&Lo(n,s.parent,e)},i),A(s)},o.deactivate=e=>{const n=e.component;At(n.m),At(n.a),u(e,f,null,1,i),Tt(()=>{n.da&&(0,r.DY)(n.da);const t=e.props&&e.props.onVnodeUnmounted;t&&Lo(t,n.parent,e),n.isDeactivated=!0},i),A(n)},Lt(()=>[e.include,e.exclude],([e,n])=>{e&&g(n=>je(e,n)),n&&g(e=>!je(n,e))},{flush:"post",deep:!0});let v=null;const y=()=>{null!=v&&(Jt(t.subTree.type)?Tt(()=>{l.set(v,Ye(t.subTree))},t.subTree.suspense):l.set(v,Ye(t.subTree)))};return ze(y),nn(y),tn(()=>{l.forEach(e=>{const{subTree:n,suspense:o}=t,r=Ye(n);if(e.type===r.type&&e.key===r.key){Xe(r);const e=r.component.da;return void(e&&Tt(e,o))}h(e)})}),()=>{if(v=null,!n.default)return c=null;const t=n.default(),o=t[0];if(t.length>1)return c=null,t;if(!Co(o)||!(4&o.shapeFlag||128&o.shapeFlag))return c=null,o;let r=Ye(o);if(r.type===io)return c=null,r;const i=r.type,a=lr(Re(r)?r.type.__asyncResolved||{}:i),{include:u,exclude:p,max:d}=e;if(u&&(!a||!je(u,a))||p&&a&&je(p,a))return r.shapeFlag&=-257,c=r,o;const f=null==r.key?i:r.key,h=l.get(f);return r.el&&(r=Mo(r),128&o.shapeFlag&&(o.ssContent=r)),v=f,h?(r.el=h.el,r.component=h.component,r.transition&&ge(r,r.transition),r.shapeFlag|=512,s.delete(f),s.add(f)):(s.add(f),d&&s.size>parseInt(d,10)&&m(s.values().next().value)),r.shapeFlag|=256,c=r,Jt(o.type)?o:r}}};function je(e,n){return(0,r.cy)(e)?e.some(e=>je(e,n)):(0,r.Kg)(e)?e.split(",").includes(n):!!(0,r.gd)(e)&&(e.lastIndex=0,e.test(n))}function Ze(e,n){We(e,"a",n)}function Ke(e,n){We(e,"da",n)}function We(e,n,t=Vo){const o=e.__wdc||(e.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Qe(n,o,t),t){let e=t.parent;for(;e&&e.parent;)Ve(e.parent.vnode)&&Ge(o,n,t,e),e=e.parent}}function Ge(e,n,t,o){const l=Qe(n,e,o,!0);on(()=>{(0,r.TF)(o[n],l)},t)}function Xe(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ye(e){return 128&e.shapeFlag?e.ssContent:e}function Qe(e,n,t=Vo,r=!1){if(t){const l=t[e]||(t[e]=[]),s=n.__weh||(n.__weh=(...r)=>{(0,o.C4)();const l=Ko(t),s=a(n,t,e,r);return l(),(0,o.bl)(),s});return r?l.unshift(s):l.push(s),s}}const qe=e=>(n,t=Vo)=>{Qo&&"sp"!==e||Qe(e,(...e)=>n(...e),t)},Je=qe("bm"),ze=qe("m"),en=qe("bu"),nn=qe("u"),tn=qe("bum"),on=qe("um"),rn=qe("sp"),ln=qe("rtg"),sn=qe("rtc");function cn(e,n=Vo){Qe("ec",e,n)}const an="components",un="directives";function pn(e,n){return gn(an,e,!0,n)||e}const dn=Symbol.for("v-ndc");function fn(e){return(0,r.Kg)(e)?gn(an,e,!1)||e:e||dn}function hn(e){return gn(un,e)}function gn(e,n,t=!0,o=!1){const l=U||Vo;if(l){const t=l.type;if(e===an){const e=lr(t,!1);if(e&&(e===n||e===(0,r.PT)(n)||e===(0,r.ZH)((0,r.PT)(n))))return t}const s=mn(l[e]||t[e],n)||mn(l.appContext[e],n);return!s&&o?t:s}}function mn(e,n){return e&&(e[n]||e[(0,r.PT)(n)]||e[(0,r.ZH)((0,r.PT)(n))])}function vn(e,n,t,l){let s;const c=t&&t[l],i=(0,r.cy)(e);if(i||(0,r.Kg)(e)){let t=!1,r=!1;i&&(0,o.g8)(e)&&(t=!(0,o.fE)(e),r=(0,o.Tm)(e),e=(0,o.qA)(e)),s=new Array(e.length);for(let l=0,i=e.length;l<i;l++)s[l]=n(t?r?(0,o.a1)((0,o.lJ)(e[l])):(0,o.lJ)(e[l]):e[l],l,void 0,c&&c[l])}else if("number"==typeof e){s=new Array(e);for(let t=0;t<e;t++)s[t]=n(t+1,t,void 0,c&&c[t])}else if((0,r.Gv)(e))if(e[Symbol.iterator])s=Array.from(e,(e,t)=>n(e,t,void 0,c&&c[t]));else{const t=Object.keys(e);s=new Array(t.length);for(let o=0,r=t.length;o<r;o++){const r=t[o];s[o]=n(e[r],r,o,c&&c[o])}}else s=[];return t&&(t[l]=s),s}function yn(e,n){for(let t=0;t<n.length;t++){const o=n[t];if((0,r.cy)(o))for(let n=0;n<o.length;n++)e[o[n].name]=o[n].fn;else o&&(e[o.name]=o.key?(...e)=>{const n=o.fn(...e);return n&&(n.key=o.key),n}:o.fn)}return e}function _n(e,n,t={},o,l){if(U.ce||U.parent&&Re(U.parent)&&U.parent.ce)return"default"!==n&&(t.name=n),fo(),bo(so,null,[So("slot",t,o&&o())],64);let s=e[n];s&&s._c&&(s._d=!1),fo();const c=s&&bn(s(t)),i=t.key||c&&c.key,a=bo(so,{key:(i&&!(0,r.Bm)(i)?i:`_${n}`)+(!c&&o?"_fb":"")},c||(o?o():[]),c&&1===e._?64:-2);return!l&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function bn(e){return e.some(e=>!Co(e)||e.type!==io&&!(e.type===so&&!bn(e.children)))?e:null}function Cn(e,n){const t={};for(const o in e)t[n&&/[A-Z]/.test(o)?`on:${o}`:(0,r.rU)(o)]=e[o];return t}const Tn=e=>e?Go(e)?rr(e):Tn(e.parent):null,xn=(0,r.X$)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Tn(e.parent),$root:e=>Tn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Kn(e),$forceUpdate:e=>e.f||(e.f=()=>{_(e.update)}),$nextTick:e=>e.n||(e.n=y.bind(e.proxy)),$watch:e=>Bt.bind(e)}),En=(e,n)=>e!==r.MZ&&!e.__isScriptSetup&&(0,r.$3)(e,n),kn={get({_:e},n){if("__v_skip"===n)return!0;const{ctx:t,setupState:l,data:s,props:c,accessCache:i,type:a,appContext:u}=e;let p;if("$"!==n[0]){const o=i[n];if(void 0!==o)switch(o){case 1:return l[n];case 2:return s[n];case 4:return t[n];case 3:return c[n]}else{if(En(l,n))return i[n]=1,l[n];if(s!==r.MZ&&(0,r.$3)(s,n))return i[n]=2,s[n];if((p=e.propsOptions[0])&&(0,r.$3)(p,n))return i[n]=3,c[n];if(t!==r.MZ&&(0,r.$3)(t,n))return i[n]=4,t[n];Dn&&(i[n]=0)}}const d=xn[n];let f,h;return d?("$attrs"===n&&(0,o.u4)(e.attrs,"get",""),d(e)):(f=a.__cssModules)&&(f=f[n])?f:t!==r.MZ&&(0,r.$3)(t,n)?(i[n]=4,t[n]):(h=u.config.globalProperties,(0,r.$3)(h,n)?h[n]:void 0)},set({_:e},n,t){const{data:o,setupState:l,ctx:s}=e;return En(l,n)?(l[n]=t,!0):o!==r.MZ&&(0,r.$3)(o,n)?(o[n]=t,!0):!((0,r.$3)(e.props,n)||"$"===n[0]&&n.slice(1)in e||(s[n]=t,0))},has({_:{data:e,setupState:n,accessCache:t,ctx:o,appContext:l,propsOptions:s,type:c}},i){let a,u;return!!(t[i]||e!==r.MZ&&"$"!==i[0]&&(0,r.$3)(e,i)||En(n,i)||(a=s[0])&&(0,r.$3)(a,i)||(0,r.$3)(o,i)||(0,r.$3)(xn,i)||(0,r.$3)(l.config.globalProperties,i)||(u=c.__cssModules)&&u[i])},defineProperty(e,n,t){return null!=t.get?e._.accessCache[n]=0:(0,r.$3)(t,"value")&&this.set(e,n,t.value,null),Reflect.defineProperty(e,n,t)}},On=(0,r.X$)({},kn,{get(e,n){if(n!==Symbol.unscopables)return kn.get(e,n,e)},has:(e,n)=>"_"!==n[0]&&!(0,r.BH)(n)});function Sn(){return null}function Fn(){return null}function Mn(e){}function Pn(e){}function An(){return null}function $n(){}function Nn(e,n){return null}function In(){return Un().slots}function wn(){return Un().attrs}function Un(e){const n=Do();return n.setupContext||(n.setupContext=or(n))}function Ln(e){return(0,r.cy)(e)?e.reduce((e,n)=>(e[n]=null,e),{}):e}function Rn(e,n){const t=Ln(e);for(const e in n){if(e.startsWith("__skip"))continue;let o=t[e];o?(0,r.cy)(o)||(0,r.Tn)(o)?o=t[e]={type:o,default:n[e]}:o.default=n[e]:null===o&&(o=t[e]={default:n[e]}),o&&n[`__skip_${e}`]&&(o.skipFactory=!0)}return t}function Bn(e,n){return e&&n?(0,r.cy)(e)&&(0,r.cy)(n)?e.concat(n):(0,r.X$)({},Ln(e),Ln(n)):e||n}function Hn(e,n){const t={};for(const o in e)n.includes(o)||Object.defineProperty(t,o,{enumerable:!0,get:()=>e[o]});return t}function Vn(e){const n=Do();let t=e();return Wo(),(0,r.yL)(t)&&(t=t.catch(e=>{throw Ko(n),e})),[t,()=>Ko(n)]}let Dn=!0;function jn(e,n,t){a((0,r.cy)(e)?e.map(e=>e.bind(n.proxy)):e.bind(n.proxy),n,t)}function Zn(e,n,t,o){let l=o.includes(".")?Ht(t,o):()=>t[o];if((0,r.Kg)(e)){const t=n[e];(0,r.Tn)(t)&&Lt(l,t)}else if((0,r.Tn)(e))Lt(l,e.bind(t));else if((0,r.Gv)(e))if((0,r.cy)(e))e.forEach(e=>Zn(e,n,t,o));else{const o=(0,r.Tn)(e.handler)?e.handler.bind(t):n[e.handler];(0,r.Tn)(o)&&Lt(l,o,e)}}function Kn(e){const n=e.type,{mixins:t,extends:o}=n,{mixins:l,optionsCache:s,config:{optionMergeStrategies:c}}=e.appContext,i=s.get(n);let a;return i?a=i:l.length||t||o?(a={},l.length&&l.forEach(e=>Wn(a,e,c,!0)),Wn(a,n,c)):a=n,(0,r.Gv)(n)&&s.set(n,a),a}function Wn(e,n,t,o=!1){const{mixins:r,extends:l}=n;l&&Wn(e,l,t,!0),r&&r.forEach(n=>Wn(e,n,t,!0));for(const r in n)if(o&&"expose"===r);else{const o=Gn[r]||t&&t[r];e[r]=o?o(e[r],n[r]):n[r]}return e}const Gn={data:Xn,props:Jn,emits:Jn,methods:qn,computed:qn,beforeCreate:Qn,created:Qn,beforeMount:Qn,mounted:Qn,beforeUpdate:Qn,updated:Qn,beforeDestroy:Qn,beforeUnmount:Qn,destroyed:Qn,unmounted:Qn,activated:Qn,deactivated:Qn,errorCaptured:Qn,serverPrefetch:Qn,components:qn,directives:qn,watch:function(e,n){if(!e)return n;if(!n)return e;const t=(0,r.X$)(Object.create(null),e);for(const o in n)t[o]=Qn(e[o],n[o]);return t},provide:Xn,inject:function(e,n){return qn(Yn(e),Yn(n))}};function Xn(e,n){return n?e?function(){return(0,r.X$)((0,r.Tn)(e)?e.call(this,this):e,(0,r.Tn)(n)?n.call(this,this):n)}:n:e}function Yn(e){if((0,r.cy)(e)){const n={};for(let t=0;t<e.length;t++)n[e[t]]=e[t];return n}return e}function Qn(e,n){return e?[...new Set([].concat(e,n))]:n}function qn(e,n){return e?(0,r.X$)(Object.create(null),e,n):n}function Jn(e,n){return e?(0,r.cy)(e)&&(0,r.cy)(n)?[...new Set([...e,...n])]:(0,r.X$)(Object.create(null),Ln(e),Ln(null!=n?n:{})):n}function zn(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let et=0;function nt(e,n){return function(t,o=null){(0,r.Tn)(t)||(t=(0,r.X$)({},t)),null==o||(0,r.Gv)(o)||(o=null);const l=zn(),s=new WeakSet,c=[];let i=!1;const u=l.app={_uid:et++,_component:t,_props:o,_container:null,_context:l,_instance:null,version:pr,get config(){return l.config},set config(e){},use:(e,...n)=>(s.has(e)||(e&&(0,r.Tn)(e.install)?(s.add(e),e.install(u,...n)):(0,r.Tn)(e)&&(s.add(e),e(u,...n))),u),mixin:e=>(l.mixins.includes(e)||l.mixins.push(e),u),component:(e,n)=>n?(l.components[e]=n,u):l.components[e],directive:(e,n)=>n?(l.directives[e]=n,u):l.directives[e],mount(r,s,c){if(!i){const a=u._ceVNode||So(t,o);return a.appContext=l,!0===c?c="svg":!1===c&&(c=void 0),s&&n?n(a,r):e(a,r,c),i=!0,u._container=r,r.__vue_app__=u,u._instance=a.component,function(e,n){M("app:init",e,n,{Fragment:so,Text:co,Comment:io,Static:ao})}(u,pr),rr(a.component)}},onUnmount(e){c.push(e)},unmount(){i&&(a(c,u._instance,16),e(null,u._container),u._instance=null,function(e){M("app:unmount",e)}(u),delete u._container.__vue_app__)},provide:(e,n)=>(l.provides[e]=n,u),runWithContext(e){const n=tt;tt=u;try{return e()}finally{tt=n}}};return u}}let tt=null;function ot(e,n){if(Vo){let t=Vo.provides;const o=Vo.parent&&Vo.parent.provides;o===t&&(t=Vo.provides=Object.create(o)),t[e]=n}}function rt(e,n,t=!1){const o=Do();if(o||tt){let l=tt?tt._context.provides:o?null==o.parent||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(l&&e in l)return l[e];if(arguments.length>1)return t&&(0,r.Tn)(n)?n.call(o&&o.proxy):n}}function lt(){return!(!Do()&&!tt)}const st={},ct=()=>Object.create(st),it=e=>Object.getPrototypeOf(e)===st;function at(e,n,t,l){const[s,c]=e.propsOptions;let i,a=!1;if(n)for(let o in n){if((0,r.SU)(o))continue;const u=n[o];let p;s&&(0,r.$3)(s,p=(0,r.PT)(o))?c&&c.includes(p)?(i||(i={}))[p]=u:t[p]=u:Wt(e.emitsOptions,o)||o in l&&u===l[o]||(l[o]=u,a=!0)}if(c){const n=(0,o.ux)(t),l=i||r.MZ;for(let o=0;o<c.length;o++){const i=c[o];t[i]=ut(s,n,i,l[i],e,!(0,r.$3)(l,i))}}return a}function ut(e,n,t,o,l,s){const c=e[t];if(null!=c){const e=(0,r.$3)(c,"default");if(e&&void 0===o){const e=c.default;if(c.type!==Function&&!c.skipFactory&&(0,r.Tn)(e)){const{propsDefaults:r}=l;if(t in r)o=r[t];else{const s=Ko(l);o=r[t]=e.call(null,n),s()}}else o=e;l.ce&&l.ce._setProp(t,o)}c[0]&&(s&&!e?o=!1:!c[1]||""!==o&&o!==(0,r.Tg)(t)||(o=!0))}return o}const pt=new WeakMap;function dt(e,n,t=!1){const o=t?pt:n.propsCache,l=o.get(e);if(l)return l;const s=e.props,c={},i=[];let a=!1;if(!(0,r.Tn)(e)){const o=e=>{a=!0;const[t,o]=dt(e,n,!0);(0,r.X$)(c,t),o&&i.push(...o)};!t&&n.mixins.length&&n.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}if(!s&&!a)return(0,r.Gv)(e)&&o.set(e,r.Oj),r.Oj;if((0,r.cy)(s))for(let e=0;e<s.length;e++){const n=(0,r.PT)(s[e]);ft(n)&&(c[n]=r.MZ)}else if(s)for(const e in s){const n=(0,r.PT)(e);if(ft(n)){const t=s[e],o=c[n]=(0,r.cy)(t)||(0,r.Tn)(t)?{type:t}:(0,r.X$)({},t),l=o.type;let a=!1,u=!0;if((0,r.cy)(l))for(let e=0;e<l.length;++e){const n=l[e],t=(0,r.Tn)(n)&&n.name;if("Boolean"===t){a=!0;break}"String"===t&&(u=!1)}else a=(0,r.Tn)(l)&&"Boolean"===l.name;o[0]=a,o[1]=u,(a||(0,r.$3)(o,"default"))&&i.push(n)}}const u=[c,i];return(0,r.Gv)(e)&&o.set(e,u),u}function ft(e){return"$"!==e[0]&&!(0,r.SU)(e)}const ht=e=>"_"===e||"_ctx"===e||"$stable"===e,gt=e=>(0,r.cy)(e)?e.map(No):[No(e)],mt=(e,n,t)=>{if(n._n)return n;const o=D((...e)=>gt(n(...e)),t);return o._c=!1,o},vt=(e,n,t)=>{const o=e._ctx;for(const t in e){if(ht(t))continue;const l=e[t];if((0,r.Tn)(l))n[t]=mt(0,l,o);else if(null!=l){const e=gt(l);n[t]=()=>e}}},yt=(e,n)=>{const t=gt(n);e.slots.default=()=>t},_t=(e,n,t)=>{for(const o in n)!t&&ht(o)||(e[o]=n[o])},bt=(e,n,t)=>{const o=e.slots=ct();if(32&e.vnode.shapeFlag){const e=n._;e?(_t(o,n,t),t&&(0,r.yQ)(o,"_",e,!0)):vt(n,o)}else n&&yt(e,n)},Ct=(e,n,t)=>{const{vnode:o,slots:l}=e;let s=!0,c=r.MZ;if(32&o.shapeFlag){const e=n._;e?t&&1===e?s=!1:_t(l,n,t):(s=!n.$stable,vt(n,l)),c=n}else n&&(yt(e,n),c={default:1});if(s)for(const e in l)ht(e)||null!=c[e]||delete l[e]},Tt=ro;function xt(e){return kt(e)}function Et(e){return kt(e,Fe)}function kt(e,n){const t=(0,r.We)();t.__VUE__=!0,P(t.__VUE_DEVTOOLS_GLOBAL_HOOK__,t);const{insert:l,remove:s,patchProp:c,createElement:i,createText:a,createComment:u,setText:p,setElementText:d,parentNode:f,nextSibling:h,setScopeId:g=r.tE,insertStaticContent:m}=e,v=(e,n,t,o=null,r=null,l=null,s=void 0,c=null,i=!!n.dynamicChildren)=>{if(e===n)return;e&&!To(e,n)&&(o=J(e),G(e,r,l,!0),e=null),-2===n.patchFlag&&(i=!1,n.dynamicChildren=null);const{type:a,ref:u,shapeFlag:p}=n;switch(a){case co:y(e,n,t,o);break;case io:b(e,n,t,o);break;case ao:null==e&&C(n,t,o,s);break;case so:w(e,n,t,o,r,l,s,c,i);break;default:1&p?E(e,n,t,o,r,l,s,c,i):6&p?U(e,n,t,o,r,l,s,c,i):(64&p||128&p)&&a.process(e,n,t,o,r,l,s,c,i,ne)}null!=u&&r?Te(u,e&&e.ref,l,n||e,!n):null==u&&e&&null!=e.ref&&Te(e.ref,null,l,e,!0)},y=(e,n,t,o)=>{if(null==e)l(n.el=a(n.children),t,o);else{const t=n.el=e.el;n.children!==e.children&&p(t,n.children)}},b=(e,n,t,o)=>{null==e?l(n.el=u(n.children||""),t,o):n.el=e.el},C=(e,n,t,o)=>{[e.el,e.anchor]=m(e.children,n,t,o,e.el,e.anchor)},E=(e,n,t,o,r,l,s,c,i)=>{"svg"===n.type?s="svg":"math"===n.type&&(s="mathml"),null==e?k(n,t,o,r,l,s,c,i):F(e,n,r,l,s,c,i)},k=(e,n,t,o,s,a,u,p)=>{let f,h;const{props:g,shapeFlag:m,transition:v,dirs:y}=e;if(f=e.el=i(e.type,a,g&&g.is,g),8&m?d(f,e.children):16&m&&S(e.children,f,null,o,s,Ot(e,a),u,p),y&&Z(e,null,o,"created"),O(f,e,e.scopeId,u,o),g){for(const e in g)"value"===e||(0,r.SU)(e)||c(f,e,null,g[e],a,o);"value"in g&&c(f,"value",null,g.value,a),(h=g.onVnodeBeforeMount)&&Lo(h,o,e)}(0,r.yQ)(f,"__vnode",e,!0),(0,r.yQ)(f,"__vueParentComponent",o,!0),y&&Z(e,null,o,"beforeMount");const _=Ft(s,v);_&&v.beforeEnter(f),l(f,n,t),((h=g&&g.onVnodeMounted)||_||y)&&Tt(()=>{h&&Lo(h,o,e),_&&v.enter(f),y&&Z(e,null,o,"mounted")},s)},O=(e,n,t,o,r)=>{if(t&&g(e,t),o)for(let n=0;n<o.length;n++)g(e,o[n]);if(r){let t=r.subTree;if(n===t||Jt(t.type)&&(t.ssContent===n||t.ssFallback===n)){const n=r.vnode;O(e,n,n.scopeId,n.slotScopeIds,r.parent)}}},S=(e,n,t,o,r,l,s,c,i=0)=>{for(let a=i;a<e.length;a++){const i=e[a]=c?Io(e[a]):No(e[a]);v(null,i,n,t,o,r,l,s,c)}},F=(e,n,t,o,l,s,i)=>{const a=n.el=e.el;a.__vnode=n;let{patchFlag:u,dynamicChildren:p,dirs:f}=n;u|=16&e.patchFlag;const h=e.props||r.MZ,g=n.props||r.MZ;let m;if(t&&St(t,!1),(m=g.onVnodeBeforeUpdate)&&Lo(m,t,n,e),f&&Z(n,e,t,"beforeUpdate"),t&&St(t,!0),(h.innerHTML&&null==g.innerHTML||h.textContent&&null==g.textContent)&&d(a,""),p?M(e.dynamicChildren,p,a,t,o,Ot(n,l),s):i||V(e,n,a,null,t,o,Ot(n,l),s,!1),u>0){if(16&u)N(a,h,g,t,l);else if(2&u&&h.class!==g.class&&c(a,"class",null,g.class,l),4&u&&c(a,"style",h.style,g.style,l),8&u){const e=n.dynamicProps;for(let n=0;n<e.length;n++){const o=e[n],r=h[o],s=g[o];s===r&&"value"!==o||c(a,o,r,s,l,t)}}1&u&&e.children!==n.children&&d(a,n.children)}else i||null!=p||N(a,h,g,t,l);((m=g.onVnodeUpdated)||f)&&Tt(()=>{m&&Lo(m,t,n,e),f&&Z(n,e,t,"updated")},o)},M=(e,n,t,o,r,l,s)=>{for(let c=0;c<n.length;c++){const i=e[c],a=n[c],u=i.el&&(i.type===so||!To(i,a)||198&i.shapeFlag)?f(i.el):t;v(i,a,u,null,o,r,l,s,!0)}},N=(e,n,t,o,l)=>{if(n!==t){if(n!==r.MZ)for(const s in n)(0,r.SU)(s)||s in t||c(e,s,n[s],null,l,o);for(const s in t){if((0,r.SU)(s))continue;const i=t[s],a=n[s];i!==a&&"value"!==s&&c(e,s,a,i,l,o)}"value"in t&&c(e,"value",n.value,t.value,l)}},w=(e,n,t,o,r,s,c,i,u)=>{const p=n.el=e?e.el:a(""),d=n.anchor=e?e.anchor:a("");let{patchFlag:f,dynamicChildren:h,slotScopeIds:g}=n;g&&(i=i?i.concat(g):g),null==e?(l(p,t,o),l(d,t,o),S(n.children||[],t,d,r,s,c,i,u)):f>0&&64&f&&h&&e.dynamicChildren?(M(e.dynamicChildren,h,t,r,s,c,i),(null!=n.key||r&&n===r.subTree)&&Mt(e,n,!0)):V(e,n,t,d,r,s,c,i,u)},U=(e,n,t,o,r,l,s,c,i)=>{n.slotScopeIds=c,null==e?512&n.shapeFlag?r.ctx.activate(n,t,o,s,i):L(n,t,o,r,l,s,i):R(e,n,i)},L=(e,n,t,o,r,l,s)=>{const c=e.component=Ho(e,o,r);if(Ve(e)&&(c.ctx.renderer=ne),qo(c,!1,s),c.asyncDep){if(r&&r.registerDep(c,B,s),!e.el){const o=c.subTree=So(io);b(null,o,n,t),e.placeholder=o.el}}else B(c,e,n,t,r,l,s)},R=(e,n,t)=>{const o=n.component=e.component;if(function(e,n,t){const{props:o,children:r,component:l}=e,{props:s,children:c,patchFlag:i}=n,a=l.emitsOptions;if(n.dirs||n.transition)return!0;if(!(t&&i>=0))return!(!r&&!c||c&&c.$stable)||o!==s&&(o?!s||Qt(o,s,a):!!s);if(1024&i)return!0;if(16&i)return o?Qt(o,s,a):!!s;if(8&i){const e=n.dynamicProps;for(let n=0;n<e.length;n++){const t=e[n];if(s[t]!==o[t]&&!Wt(a,t))return!0}}return!1}(e,n,t)){if(o.asyncDep&&!o.asyncResolved)return void H(o,n,t);o.next=n,o.update()}else n.el=e.el,o.vnode=n},B=(e,n,t,l,s,c,i)=>{const a=()=>{if(e.isMounted){let{next:n,bu:t,u:o,parent:l,vnode:u}=e;{const t=Pt(e);if(t)return n&&(n.el=u.el,H(e,n,i)),void t.asyncDep.then(()=>{e.isUnmounted||a()})}let p,d=n;St(e,!1),n?(n.el=u.el,H(e,n,i)):n=u,t&&(0,r.DY)(t),(p=n.props&&n.props.onVnodeBeforeUpdate)&&Lo(p,l,n,u),St(e,!0);const h=Gt(e),g=e.subTree;e.subTree=h,v(g,h,f(g.el),J(g),e,s,c),n.el=h.el,null===d&&qt(e,h.el),o&&Tt(o,s),(p=n.props&&n.props.onVnodeUpdated)&&Tt(()=>Lo(p,l,n,u),s),$(e)}else{let o;const{el:i,props:a}=n,{bm:u,m:p,parent:d,root:f,type:h}=e,g=Re(n);if(St(e,!1),u&&(0,r.DY)(u),!g&&(o=a&&a.onVnodeBeforeMount)&&Lo(o,d,n),St(e,!0),i&&re){const n=()=>{e.subTree=Gt(e),re(i,e.subTree,e,s,null)};g&&h.__asyncHydrate?h.__asyncHydrate(i,e,n):n()}else{f.ce&&!1!==f.ce._def.shadowRoot&&f.ce._injectChildStyle(h);const o=e.subTree=Gt(e);v(null,o,t,l,e,s,c),n.el=o.el}if(p&&Tt(p,s),!g&&(o=a&&a.onVnodeMounted)){const e=n;Tt(()=>Lo(o,d,e),s)}(256&n.shapeFlag||d&&Re(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&Tt(e.a,s),e.isMounted=!0,A(e),n=t=l=null}};e.scope.on();const u=e.effect=new o.X2(a);e.scope.off();const p=e.update=u.run.bind(u),d=e.job=u.runIfDirty.bind(u);d.i=e,d.id=e.uid,u.scheduler=()=>_(d),St(e,!0),p()},H=(e,n,t)=>{n.component=e;const l=e.vnode.props;e.vnode=n,e.next=null,function(e,n,t,l){const{props:s,attrs:c,vnode:{patchFlag:i}}=e,a=(0,o.ux)(s),[u]=e.propsOptions;let p=!1;if(!(l||i>0)||16&i){let o;at(e,n,s,c)&&(p=!0);for(const l in a)n&&((0,r.$3)(n,l)||(o=(0,r.Tg)(l))!==l&&(0,r.$3)(n,o))||(u?!t||void 0===t[l]&&void 0===t[o]||(s[l]=ut(u,a,l,void 0,e,!0)):delete s[l]);if(c!==a)for(const e in c)n&&(0,r.$3)(n,e)||(delete c[e],p=!0)}else if(8&i){const t=e.vnode.dynamicProps;for(let o=0;o<t.length;o++){let l=t[o];if(Wt(e.emitsOptions,l))continue;const i=n[l];if(u)if((0,r.$3)(c,l))i!==c[l]&&(c[l]=i,p=!0);else{const n=(0,r.PT)(l);s[n]=ut(u,a,n,i,e,!1)}else i!==c[l]&&(c[l]=i,p=!0)}}p&&(0,o.hZ)(e.attrs,"set","")}(e,n.props,l,t),Ct(e,n.children,t),(0,o.C4)(),T(e),(0,o.bl)()},V=(e,n,t,o,r,l,s,c,i=!1)=>{const a=e&&e.children,u=e?e.shapeFlag:0,p=n.children,{patchFlag:f,shapeFlag:h}=n;if(f>0){if(128&f)return void j(a,p,t,o,r,l,s,c,i);if(256&f)return void D(a,p,t,o,r,l,s,c,i)}8&h?(16&u&&q(a,r,l),p!==a&&d(t,p)):16&u?16&h?j(a,p,t,o,r,l,s,c,i):q(a,r,l,!0):(8&u&&d(t,""),16&h&&S(p,t,o,r,l,s,c,i))},D=(e,n,t,o,l,s,c,i,a)=>{e=e||r.Oj,n=n||r.Oj;const u=e.length,p=n.length,d=Math.min(u,p);let f;for(f=0;f<d;f++){const o=n[f]=a?Io(n[f]):No(n[f]);v(e[f],o,t,null,l,s,c,i,a)}u>p?q(e,l,s,!0,!1,d):S(n,t,o,l,s,c,i,a,d)},j=(e,n,t,o,l,s,c,i,a)=>{let u=0;const p=n.length;let d=e.length-1,f=p-1;for(;u<=d&&u<=f;){const o=e[u],r=n[u]=a?Io(n[u]):No(n[u]);if(!To(o,r))break;v(o,r,t,null,l,s,c,i,a),u++}for(;u<=d&&u<=f;){const o=e[d],r=n[f]=a?Io(n[f]):No(n[f]);if(!To(o,r))break;v(o,r,t,null,l,s,c,i,a),d--,f--}if(u>d){if(u<=f){const e=f+1,r=e<p?n[e].el:o;for(;u<=f;)v(null,n[u]=a?Io(n[u]):No(n[u]),t,r,l,s,c,i,a),u++}}else if(u>f)for(;u<=d;)G(e[u],l,s,!0),u++;else{const h=u,g=u,m=new Map;for(u=g;u<=f;u++){const e=n[u]=a?Io(n[u]):No(n[u]);null!=e.key&&m.set(e.key,u)}let y,_=0;const b=f-g+1;let C=!1,T=0;const x=new Array(b);for(u=0;u<b;u++)x[u]=0;for(u=h;u<=d;u++){const o=e[u];if(_>=b){G(o,l,s,!0);continue}let r;if(null!=o.key)r=m.get(o.key);else for(y=g;y<=f;y++)if(0===x[y-g]&&To(o,n[y])){r=y;break}void 0===r?G(o,l,s,!0):(x[r-g]=u+1,r>=T?T=r:C=!0,v(o,n[r],t,null,l,s,c,i,a),_++)}const E=C?function(e){const n=e.slice(),t=[0];let o,r,l,s,c;const i=e.length;for(o=0;o<i;o++){const i=e[o];if(0!==i){if(r=t[t.length-1],e[r]<i){n[o]=r,t.push(o);continue}for(l=0,s=t.length-1;l<s;)c=l+s>>1,e[t[c]]<i?l=c+1:s=c;i<e[t[l]]&&(l>0&&(n[o]=t[l-1]),t[l]=o)}}for(l=t.length,s=t[l-1];l-- >0;)t[l]=s,s=n[s];return t}(x):r.Oj;for(y=E.length-1,u=b-1;u>=0;u--){const e=g+u,r=n[e],d=n[e+1],f=e+1<p?d.el||d.placeholder:o;0===x[u]?v(null,r,t,f,l,s,c,i,a):C&&(y<0||u!==E[y]?W(r,t,f,2):y--)}}},W=(e,n,t,o,r=null)=>{const{el:c,type:i,transition:a,children:u,shapeFlag:p}=e;if(6&p)W(e.component.subTree,n,t,o);else if(128&p)e.suspense.move(n,t,o);else if(64&p)i.move(e,n,t,ne);else if(i!==so)if(i!==ao)if(2!==o&&1&p&&a)if(0===o)a.beforeEnter(c),l(c,n,t),Tt(()=>a.enter(c),r);else{const{leave:o,delayLeave:r,afterLeave:i}=a,u=()=>{e.ctx.isUnmounted?s(c):l(c,n,t)},p=()=>{c._isLeaving&&c[oe](!0),o(c,()=>{u(),i&&i()})};r?r(c,u,p):p()}else l(c,n,t);else(({el:e,anchor:n},t,o)=>{let r;for(;e&&e!==n;)r=h(e),l(e,t,o),e=r;l(n,t,o)})(e,n,t);else{l(c,n,t);for(let e=0;e<u.length;e++)W(u[e],n,t,o);l(e.anchor,n,t)}},G=(e,n,t,r=!1,l=!1)=>{const{type:s,props:c,ref:i,children:a,dynamicChildren:u,shapeFlag:p,patchFlag:d,dirs:f,cacheIndex:h}=e;if(-2===d&&(l=!1),null!=i&&((0,o.C4)(),Te(i,null,t,e,!0),(0,o.bl)()),null!=h&&(n.renderCache[h]=void 0),256&p)return void n.ctx.deactivate(e);const g=1&p&&f,m=!Re(e);let v;if(m&&(v=c&&c.onVnodeBeforeUnmount)&&Lo(v,n,e),6&p)Q(e.component,t,r);else{if(128&p)return void e.suspense.unmount(t,r);g&&Z(e,null,n,"beforeUnmount"),64&p?e.type.remove(e,n,t,ne,r):u&&!u.hasOnce&&(s!==so||d>0&&64&d)?q(u,n,t,!1,!0):(s===so&&384&d||!l&&16&p)&&q(a,n,t),r&&X(e)}(m&&(v=c&&c.onVnodeUnmounted)||g)&&Tt(()=>{v&&Lo(v,n,e),g&&Z(e,null,n,"unmounted")},t)},X=e=>{const{type:n,el:t,anchor:o,transition:r}=e;if(n===so)return void Y(t,o);if(n===ao)return void(({el:e,anchor:n})=>{let t;for(;e&&e!==n;)t=h(e),s(e),e=t;s(n)})(e);const l=()=>{s(t),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:n,delayLeave:o}=r,s=()=>n(t,l);o?o(e.el,l,s):s()}else l()},Y=(e,n)=>{let t;for(;e!==n;)t=h(e),s(e),e=t;s(n)},Q=(e,n,t)=>{const{bum:o,scope:l,job:s,subTree:c,um:i,m:a,a:u}=e;At(a),At(u),o&&(0,r.DY)(o),l.stop(),s&&(s.flags|=8,G(c,e,n,t)),i&&Tt(i,n),Tt(()=>{e.isUnmounted=!0},n),I(e)},q=(e,n,t,o=!1,r=!1,l=0)=>{for(let s=l;s<e.length;s++)G(e[s],n,t,o,r)},J=e=>{if(6&e.shapeFlag)return J(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const n=h(e.anchor||e.el),t=n&&n[K];return t?h(t):n};let z=!1;const ee=(e,n,t)=>{null==e?n._vnode&&G(n._vnode,null,null,!0):v(n._vnode||null,e,n,null,null,null,t),n._vnode=e,z||(z=!0,T(),x(),z=!1)},ne={p:v,um:G,m:W,r:X,mt:L,mc:S,pc:V,pbc:M,n:J,o:e};let te,re;return n&&([te,re]=n(ne)),{render:ee,hydrate:te,createApp:nt(ee,te)}}function Ot({type:e,props:n},t){return"svg"===t&&"foreignObject"===e||"mathml"===t&&"annotation-xml"===e&&n&&n.encoding&&n.encoding.includes("html")?void 0:t}function St({effect:e,job:n},t){t?(e.flags|=32,n.flags|=4):(e.flags&=-33,n.flags&=-5)}function Ft(e,n){return(!e||e&&!e.pendingBranch)&&n&&!n.persisted}function Mt(e,n,t=!1){const o=e.children,l=n.children;if((0,r.cy)(o)&&(0,r.cy)(l))for(let e=0;e<o.length;e++){const n=o[e];let r=l[e];1&r.shapeFlag&&!r.dynamicChildren&&((r.patchFlag<=0||32===r.patchFlag)&&(r=l[e]=Io(l[e]),r.el=n.el),t||-2===r.patchFlag||Mt(n,r)),r.type===co&&-1!==r.patchFlag&&(r.el=n.el),r.type!==io||r.el||(r.el=n.el)}}function Pt(e){const n=e.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:Pt(n)}function At(e){if(e)for(let n=0;n<e.length;n++)e[n].flags|=8}const $t=Symbol.for("v-scx"),Nt=()=>rt($t);function It(e,n){return Rt(e,null,n)}function wt(e,n){return Rt(e,null,{flush:"post"})}function Ut(e,n){return Rt(e,null,{flush:"sync"})}function Lt(e,n,t){return Rt(e,n,t)}function Rt(e,n,t=r.MZ){const{immediate:l,deep:s,flush:c,once:i}=t,u=(0,r.X$)({},t),p=n&&l||!n&&"post"!==c;let d;if(Qo)if("sync"===c){const e=Nt();d=e.__watcherHandles||(e.__watcherHandles=[])}else if(!p){const e=()=>{};return e.stop=r.tE,e.resume=r.tE,e.pause=r.tE,e}const f=Vo;u.call=(e,n,t)=>a(e,f,n,t);let h=!1;"post"===c?u.scheduler=e=>{Tt(e,f&&f.suspense)}:"sync"!==c&&(h=!0,u.scheduler=(e,n)=>{n?e():_(e)}),u.augmentJob=e=>{n&&(e.flags|=4),h&&(e.flags|=2,f&&(e.id=f.uid,e.i=f))};const g=(0,o.wB)(e,n,u);return Qo&&(d?d.push(g):p&&g()),g}function Bt(e,n,t){const o=this.proxy,l=(0,r.Kg)(e)?e.includes(".")?Ht(o,e):()=>o[e]:e.bind(o,o);let s;(0,r.Tn)(n)?s=n:(s=n.handler,t=n);const c=Ko(this),i=Rt(l,s.bind(o),t);return c(),i}function Ht(e,n){const t=n.split(".");return()=>{let n=e;for(let e=0;e<t.length&&n;e++)n=n[t[e]];return n}}function Vt(e,n,t=r.MZ){const l=Do(),s=(0,r.PT)(n),c=(0,r.Tg)(n),i=Dt(e,s),a=(0,o.rY)((o,i)=>{let a,u,p=r.MZ;return Ut(()=>{const n=e[s];(0,r.$H)(a,n)&&(a=n,i())}),{get:()=>(o(),t.get?t.get(a):a),set(e){const o=t.set?t.set(e):e;if(!((0,r.$H)(o,a)||p!==r.MZ&&(0,r.$H)(e,p)))return;const d=l.vnode.props;d&&(n in d||s in d||c in d)&&(`onUpdate:${n}`in d||`onUpdate:${s}`in d||`onUpdate:${c}`in d)||(a=e,i()),l.emit(`update:${n}`,o),(0,r.$H)(e,o)&&(0,r.$H)(e,p)&&!(0,r.$H)(o,u)&&i(),p=e,u=o}}});return a[Symbol.iterator]=()=>{let e=0;return{next:()=>e<2?{value:e++?i||r.MZ:a,done:!1}:{done:!0}}},a}const Dt=(e,n)=>"modelValue"===n||"model-value"===n?e.modelModifiers:e[`${n}Modifiers`]||e[`${(0,r.PT)(n)}Modifiers`]||e[`${(0,r.Tg)(n)}Modifiers`];function jt(e,n,...t){if(e.isUnmounted)return;const o=e.vnode.props||r.MZ;let l=t;const s=n.startsWith("update:"),c=s&&Dt(o,n.slice(7));let i;c&&(c.trim&&(l=t.map(e=>(0,r.Kg)(e)?e.trim():e)),c.number&&(l=t.map(r.bB))),function(e,n,t){M("component:emit",e.appContext.app,e,n,t)}(e,n,l);let u=o[i=(0,r.rU)(n)]||o[i=(0,r.rU)((0,r.PT)(n))];!u&&s&&(u=o[i=(0,r.rU)((0,r.Tg)(n))]),u&&a(u,e,6,l);const p=o[i+"Once"];if(p){if(e.emitted){if(e.emitted[i])return}else e.emitted={};e.emitted[i]=!0,a(p,e,6,l)}}const Zt=new WeakMap;function Kt(e,n,t=!1){const o=t?Zt:n.emitsCache,l=o.get(e);if(void 0!==l)return l;const s=e.emits;let c={},i=!1;if(!(0,r.Tn)(e)){const o=e=>{const t=Kt(e,n,!0);t&&(i=!0,(0,r.X$)(c,t))};!t&&n.mixins.length&&n.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return s||i?((0,r.cy)(s)?s.forEach(e=>c[e]=null):(0,r.X$)(c,s),(0,r.Gv)(e)&&o.set(e,c),c):((0,r.Gv)(e)&&o.set(e,null),null)}function Wt(e,n){return!(!e||!(0,r.Mp)(n))&&(n=n.slice(2).replace(/Once$/,""),(0,r.$3)(e,n[0].toLowerCase()+n.slice(1))||(0,r.$3)(e,(0,r.Tg)(n))||(0,r.$3)(e,n))}function Gt(e){const{type:n,vnode:t,proxy:o,withProxy:l,propsOptions:[s],slots:c,attrs:i,emit:a,render:p,renderCache:d,props:f,data:h,setupState:g,ctx:m,inheritAttrs:v}=e,y=R(e);let _,b;try{if(4&t.shapeFlag){const e=l||o,n=e;_=No(p.call(n,e,d,f,g,h,m)),b=i}else{const e=n;_=No(e.length>1?e(f,{attrs:i,slots:c,emit:a}):e(f,null)),b=n.props?i:Xt(i)}}catch(n){uo.length=0,u(n,e,1),_=So(io)}let C=_;if(b&&!1!==v){const e=Object.keys(b),{shapeFlag:n}=C;e.length&&7&n&&(s&&e.some(r.CP)&&(b=Yt(b,s)),C=Mo(C,b,!1,!0))}return t.dirs&&(C=Mo(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(t.dirs):t.dirs),t.transition&&ge(C,t.transition),_=C,R(y),_}const Xt=e=>{let n;for(const t in e)("class"===t||"style"===t||(0,r.Mp)(t))&&((n||(n={}))[t]=e[t]);return n},Yt=(e,n)=>{const t={};for(const o in e)(0,r.CP)(o)&&o.slice(9)in n||(t[o]=e[o]);return t};function Qt(e,n,t){const o=Object.keys(n);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const l=o[r];if(n[l]!==e[l]&&!Wt(t,l))return!0}return!1}function qt({vnode:e,parent:n},t){for(;n;){const o=n.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o!==e)break;(e=n.vnode).el=t,n=n.parent}}const Jt=e=>e.__isSuspense;let zt=0;const eo={name:"Suspense",__isSuspense:!0,process(e,n,t,o,r,l,s,c,i,a){if(null==e)!function(e,n,t,o,r,l,s,c,i){const{p:a,o:{createElement:u}}=i,p=u("div"),d=e.suspense=to(e,r,o,n,p,t,l,s,c,i);a(null,d.pendingBranch=e.ssContent,p,null,o,d,l,s),d.deps>0?(no(e,"onPending"),no(e,"onFallback"),a(null,e.ssFallback,n,t,o,null,l,s),lo(d,e.ssFallback)):d.resolve(!1,!0)}(n,t,o,r,l,s,c,i,a);else{if(l&&l.deps>0&&!e.suspense.isInFallback)return n.suspense=e.suspense,n.suspense.vnode=n,void(n.el=e.el);!function(e,n,t,o,r,l,s,c,{p:i,um:a,o:{createElement:u}}){const p=n.suspense=e.suspense;p.vnode=n,n.el=e.el;const d=n.ssContent,f=n.ssFallback,{activeBranch:h,pendingBranch:g,isInFallback:m,isHydrating:v}=p;if(g)p.pendingBranch=d,To(g,d)?(i(g,d,p.hiddenContainer,null,r,p,l,s,c),p.deps<=0?p.resolve():m&&(v||(i(h,f,t,o,r,null,l,s,c),lo(p,f)))):(p.pendingId=zt++,v?(p.isHydrating=!1,p.activeBranch=g):a(g,r,p),p.deps=0,p.effects.length=0,p.hiddenContainer=u("div"),m?(i(null,d,p.hiddenContainer,null,r,p,l,s,c),p.deps<=0?p.resolve():(i(h,f,t,o,r,null,l,s,c),lo(p,f))):h&&To(h,d)?(i(h,d,t,o,r,p,l,s,c),p.resolve(!0)):(i(null,d,p.hiddenContainer,null,r,p,l,s,c),p.deps<=0&&p.resolve()));else if(h&&To(h,d))i(h,d,t,o,r,p,l,s,c),lo(p,d);else if(no(n,"onPending"),p.pendingBranch=d,512&d.shapeFlag?p.pendingId=d.component.suspenseId:p.pendingId=zt++,i(null,d,p.hiddenContainer,null,r,p,l,s,c),p.deps<=0)p.resolve();else{const{timeout:e,pendingId:n}=p;e>0?setTimeout(()=>{p.pendingId===n&&p.fallback(f)},e):0===e&&p.fallback(f)}}(e,n,t,o,r,s,c,i,a)}},hydrate:function(e,n,t,o,r,l,s,c,i){const a=n.suspense=to(n,o,t,e.parentNode,document.createElement("div"),null,r,l,s,c,!0),u=i(e,a.pendingBranch=n.ssContent,t,a,l,s);return 0===a.deps&&a.resolve(!1,!0),u},normalize:function(e){const{shapeFlag:n,children:t}=e,o=32&n;e.ssContent=oo(o?t.default:t),e.ssFallback=o?oo(t.fallback):So(io)}};function no(e,n){const t=e.props&&e.props[n];(0,r.Tn)(t)&&t()}function to(e,n,t,o,l,s,c,i,a,p,d=!1){const{p:f,m:h,um:g,n:m,o:{parentNode:v,remove:y}}=p;let _;const b=function(e){const n=e.props&&e.props.suspensible;return null!=n&&!1!==n}(e);b&&n&&n.pendingBranch&&(_=n.pendingId,n.deps++);const T=e.props?(0,r.Ro)(e.props.timeout):void 0,x=s,E={vnode:e,parent:n,parentComponent:t,namespace:c,container:o,hiddenContainer:l,deps:0,pendingId:zt++,timeout:"number"==typeof T?T:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(e=!1,t=!1){const{vnode:o,activeBranch:r,pendingBranch:l,pendingId:c,effects:i,parentComponent:a,container:u}=E;let p=!1;E.isHydrating?E.isHydrating=!1:e||(p=r&&l.transition&&"out-in"===l.transition.mode,p&&(r.transition.afterLeave=()=>{c===E.pendingId&&(h(l,u,s===x?m(r):s,0),C(i))}),r&&(v(r.el)===u&&(s=m(r)),g(r,a,E,!0)),p||h(l,u,s,0)),lo(E,l),E.pendingBranch=null,E.isInFallback=!1;let d=E.parent,f=!1;for(;d;){if(d.pendingBranch){d.effects.push(...i),f=!0;break}d=d.parent}f||p||C(i),E.effects=[],b&&n&&n.pendingBranch&&_===n.pendingId&&(n.deps--,0!==n.deps||t||n.resolve()),no(o,"onResolve")},fallback(e){if(!E.pendingBranch)return;const{vnode:n,activeBranch:t,parentComponent:o,container:r,namespace:l}=E;no(n,"onFallback");const s=m(t),c=()=>{E.isInFallback&&(f(null,e,r,s,o,null,l,i,a),lo(E,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(t.transition.afterLeave=c),E.isInFallback=!0,g(t,o,null,!0),u||c()},move(e,n,t){E.activeBranch&&h(E.activeBranch,e,n,t),E.container=e},next:()=>E.activeBranch&&m(E.activeBranch),registerDep(e,n,t){const o=!!E.pendingBranch;o&&E.deps++;const r=e.vnode.el;e.asyncDep.catch(n=>{u(n,e,0)}).then(l=>{if(e.isUnmounted||E.isUnmounted||E.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:s}=e;Jo(e,l,!1),r&&(s.el=r);const i=!r&&e.subTree.el;n(e,s,v(r||e.subTree.el),r?null:m(e.subTree),E,c,t),i&&y(i),qt(e,s.el),o&&0===--E.deps&&E.resolve()})},unmount(e,n){E.isUnmounted=!0,E.activeBranch&&g(E.activeBranch,t,e,n),E.pendingBranch&&g(E.pendingBranch,t,e,n)}};return E}function oo(e){let n;if((0,r.Tn)(e)){const t=mo&&e._c;t&&(e._d=!1,fo()),e=e(),t&&(e._d=!0,n=po,ho())}if((0,r.cy)(e)){const n=function(e){let n;for(let t=0;t<e.length;t++){const o=e[t];if(!Co(o))return;if(o.type!==io||"v-if"===o.children){if(n)return;n=o}}return n}(e);e=n}return e=No(e),n&&!e.dynamicChildren&&(e.dynamicChildren=n.filter(n=>n!==e)),e}function ro(e,n){n&&n.pendingBranch?(0,r.cy)(e)?n.effects.push(...e):n.effects.push(e):C(e)}function lo(e,n){e.activeBranch=n;const{vnode:t,parentComponent:o}=e;let r=n.el;for(;!r&&n.component;)r=(n=n.component.subTree).el;t.el=r,o&&o.subTree===t&&(o.vnode.el=r,qt(o,r))}const so=Symbol.for("v-fgt"),co=Symbol.for("v-txt"),io=Symbol.for("v-cmt"),ao=Symbol.for("v-stc"),uo=[];let po=null;function fo(e=!1){uo.push(po=e?null:[])}function ho(){uo.pop(),po=uo[uo.length-1]||null}let go,mo=1;function vo(e,n=!1){mo+=e,e<0&&po&&n&&(po.hasOnce=!0)}function yo(e){return e.dynamicChildren=mo>0?po||r.Oj:null,ho(),mo>0&&po&&po.push(e),e}function _o(e,n,t,o,r,l){return yo(Oo(e,n,t,o,r,l,!0))}function bo(e,n,t,o,r){return yo(So(e,n,t,o,r,!0))}function Co(e){return!!e&&!0===e.__v_isVNode}function To(e,n){return e.type===n.type&&e.key===n.key}function xo(e){go=e}const Eo=({key:e})=>null!=e?e:null,ko=({ref:e,ref_key:n,ref_for:t})=>("number"==typeof e&&(e=""+e),null!=e?(0,r.Kg)(e)||(0,o.i9)(e)||(0,r.Tn)(e)?{i:U,r:e,k:n,f:!!t}:e:null);function Oo(e,n=null,t=null,o=0,l=null,s=(e===so?0:1),c=!1,i=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&Eo(n),ref:n&&ko(n),scopeId:L,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:U};return i?(wo(a,t),128&s&&e.normalize(a)):t&&(a.shapeFlag|=(0,r.Kg)(t)?8:16),mo>0&&!c&&po&&(a.patchFlag>0||6&s)&&32!==a.patchFlag&&po.push(a),a}const So=function(e,n=null,t=null,l=0,s=null,c=!1){if(e&&e!==dn||(e=io),Co(e)){const o=Mo(e,n,!0);return t&&wo(o,t),mo>0&&!c&&po&&(6&o.shapeFlag?po[po.indexOf(e)]=o:po.push(o)),o.patchFlag=-2,o}if(i=e,(0,r.Tn)(i)&&"__vccOpts"in i&&(e=e.__vccOpts),n){n=Fo(n);let{class:e,style:t}=n;e&&!(0,r.Kg)(e)&&(n.class=(0,r.C4)(e)),(0,r.Gv)(t)&&((0,o.ju)(t)&&!(0,r.cy)(t)&&(t=(0,r.X$)({},t)),n.style=(0,r.Tr)(t))}var i;return Oo(e,n,t,l,s,(0,r.Kg)(e)?1:Jt(e)?128:W(e)?64:(0,r.Gv)(e)?4:(0,r.Tn)(e)?2:0,c,!0)};function Fo(e){return e?(0,o.ju)(e)||it(e)?(0,r.X$)({},e):e:null}function Mo(e,n,t=!1,o=!1){const{props:l,ref:s,patchFlag:c,children:i,transition:a}=e,u=n?Uo(l||{},n):l,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Eo(u),ref:n&&n.ref?t&&s?(0,r.cy)(s)?s.concat(ko(n)):[s,ko(n)]:ko(n):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==so?-1===c?16:16|c:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mo(e.ssContent),ssFallback:e.ssFallback&&Mo(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&o&&ge(p,a.clone(p)),p}function Po(e=" ",n=0){return So(co,null,e,n)}function Ao(e,n){const t=So(ao,null,e);return t.staticCount=n,t}function $o(e="",n=!1){return n?(fo(),bo(io,null,e)):So(io,null,e)}function No(e){return null==e||"boolean"==typeof e?So(io):(0,r.cy)(e)?So(so,null,e.slice()):Co(e)?Io(e):So(co,null,String(e))}function Io(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Mo(e)}function wo(e,n){let t=0;const{shapeFlag:o}=e;if(null==n)n=null;else if((0,r.cy)(n))t=16;else if("object"==typeof n){if(65&o){const t=n.default;return void(t&&(t._c&&(t._d=!1),wo(e,t()),t._c&&(t._d=!0)))}{t=32;const o=n._;o||it(n)?3===o&&U&&(1===U.slots._?n._=1:(n._=2,e.patchFlag|=1024)):n._ctx=U}}else(0,r.Tn)(n)?(n={default:n,_ctx:U},t=32):(n=String(n),64&o?(t=16,n=[Po(n)]):t=8);e.children=n,e.shapeFlag|=t}function Uo(...e){const n={};for(let t=0;t<e.length;t++){const o=e[t];for(const e in o)if("class"===e)n.class!==o.class&&(n.class=(0,r.C4)([n.class,o.class]));else if("style"===e)n.style=(0,r.Tr)([n.style,o.style]);else if((0,r.Mp)(e)){const t=n[e],l=o[e];!l||t===l||(0,r.cy)(t)&&t.includes(l)||(n[e]=t?[].concat(t,l):l)}else""!==e&&(n[e]=o[e])}return n}function Lo(e,n,t,o=null){a(e,n,7,[t,o])}const Ro=zn();let Bo=0;function Ho(e,n,t){const l=e.type,s=(n?n.appContext:e.appContext)||Ro,c={uid:Bo++,vnode:e,type:l,parent:n,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new o.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(s.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:dt(l,s),emitsOptions:Kt(l,s),emit:null,emitted:null,propsDefaults:r.MZ,inheritAttrs:l.inheritAttrs,ctx:r.MZ,data:r.MZ,props:r.MZ,attrs:r.MZ,slots:r.MZ,refs:r.MZ,setupState:r.MZ,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=n?n.root:c,c.emit=jt.bind(null,c),e.ce&&e.ce(c),c}let Vo=null;const Do=()=>Vo||U;let jo,Zo;{const e=(0,r.We)(),n=(n,t)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(t),e=>{o.length>1?o.forEach(n=>n(e)):o[0](e)}};jo=n("__VUE_INSTANCE_SETTERS__",e=>Vo=e),Zo=n("__VUE_SSR_SETTERS__",e=>Qo=e)}const Ko=e=>{const n=Vo;return jo(e),e.scope.on(),()=>{e.scope.off(),jo(n)}},Wo=()=>{Vo&&Vo.scope.off(),jo(null)};function Go(e){return 4&e.vnode.shapeFlag}let Xo,Yo,Qo=!1;function qo(e,n=!1,t=!1){n&&Zo(n);const{props:l,children:s}=e.vnode,c=Go(e);!function(e,n,t,r=!1){const l={},s=ct();e.propsDefaults=Object.create(null),at(e,n,l,s);for(const n in e.propsOptions[0])n in l||(l[n]=void 0);t?e.props=r?l:(0,o.Gc)(l):e.type.props?e.props=l:e.props=s,e.attrs=s}(e,l,c,n),bt(e,s,t||n);const a=c?function(e,n){const t=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,kn);const{setup:l}=t;if(l){(0,o.C4)();const t=e.setupContext=l.length>1?or(e):null,s=Ko(e),c=i(l,e,0,[e.props,t]),a=(0,r.yL)(c);if((0,o.bl)(),s(),!a&&!e.sp||Re(e)||_e(e),a){if(c.then(Wo,Wo),n)return c.then(t=>{Jo(e,t,n)}).catch(n=>{u(n,e,0)});e.asyncDep=c}else Jo(e,c,n)}else nr(e,n)}(e,n):void 0;return n&&Zo(!1),a}function Jo(e,n,t){(0,r.Tn)(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:(0,r.Gv)(n)&&(e.devtoolsRawSetupState=n,e.setupState=(0,o.Pr)(n)),nr(e,t)}function zo(e){Xo=e,Yo=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,On))}}const er=()=>!Xo;function nr(e,n,t){const l=e.type;if(!e.render){if(!n&&Xo&&!l.render){const n=l.template||Kn(e).template;if(n){const{isCustomElement:t,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:c}=l,i=(0,r.X$)((0,r.X$)({isCustomElement:t,delimiters:s},o),c);l.render=Xo(n,i)}}e.render=l.render||r.tE,Yo&&Yo(e)}{const n=Ko(e);(0,o.C4)();try{!function(e){const n=Kn(e),t=e.proxy,l=e.ctx;Dn=!1,n.beforeCreate&&jn(n.beforeCreate,e,"bc");const{data:s,computed:c,methods:i,watch:a,provide:u,inject:p,created:d,beforeMount:f,mounted:h,beforeUpdate:g,updated:m,activated:v,deactivated:y,beforeDestroy:_,beforeUnmount:b,destroyed:C,unmounted:T,render:x,renderTracked:E,renderTriggered:k,errorCaptured:O,serverPrefetch:S,expose:F,inheritAttrs:M,components:P,directives:A,filters:$}=n;if(p&&function(e,n){(0,r.cy)(e)&&(e=Yn(e));for(const t in e){const l=e[t];let s;s=(0,r.Gv)(l)?"default"in l?rt(l.from||t,l.default,!0):rt(l.from||t):rt(l),(0,o.i9)(s)?Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e}):n[t]=s}}(p,l),i)for(const e in i){const n=i[e];(0,r.Tn)(n)&&(l[e]=n.bind(t))}if(s){const n=s.call(t,t);(0,r.Gv)(n)&&(e.data=(0,o.Kh)(n))}if(Dn=!0,c)for(const e in c){const n=c[e],o=(0,r.Tn)(n)?n.bind(t,t):(0,r.Tn)(n.get)?n.get.bind(t,t):r.tE,s=!(0,r.Tn)(n)&&(0,r.Tn)(n.set)?n.set.bind(t):r.tE,i=sr({get:o,set:s});Object.defineProperty(l,e,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e})}if(a)for(const e in a)Zn(a[e],l,t,e);if(u){const e=(0,r.Tn)(u)?u.call(t):u;Reflect.ownKeys(e).forEach(n=>{ot(n,e[n])})}function N(e,n){(0,r.cy)(n)?n.forEach(n=>e(n.bind(t))):n&&e(n.bind(t))}if(d&&jn(d,e,"c"),N(Je,f),N(ze,h),N(en,g),N(nn,m),N(Ze,v),N(Ke,y),N(cn,O),N(sn,E),N(ln,k),N(tn,b),N(on,T),N(rn,S),(0,r.cy)(F))if(F.length){const n=e.exposed||(e.exposed={});F.forEach(e=>{Object.defineProperty(n,e,{get:()=>t[e],set:n=>t[e]=n,enumerable:!0})})}else e.exposed||(e.exposed={});x&&e.render===r.tE&&(e.render=x),null!=M&&(e.inheritAttrs=M),P&&(e.components=P),A&&(e.directives=A),S&&_e(e)}(e)}finally{(0,o.bl)(),n()}}}const tr={get:(e,n)=>((0,o.u4)(e,"get",""),e[n])};function or(e){return{attrs:new Proxy(e.attrs,tr),slots:e.slots,emit:e.emit,expose:n=>{e.exposed=n||{}}}}function rr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy((0,o.Pr)((0,o.IG)(e.exposed)),{get:(n,t)=>t in n?n[t]:t in xn?xn[t](e):void 0,has:(e,n)=>n in e||n in xn})):e.proxy}function lr(e,n=!0){return(0,r.Tn)(e)?e.displayName||e.name:e.name||n&&e.__name}const sr=(e,n)=>(0,o.EW)(e,n,Qo);function cr(e,n,t){const o=(e,n,t)=>{vo(-1);try{return So(e,n,t)}finally{vo(1)}},l=arguments.length;return 2===l?(0,r.Gv)(n)&&!(0,r.cy)(n)?Co(n)?o(e,null,[n]):o(e,n):o(e,null,n):(l>3?t=Array.prototype.slice.call(arguments,2):3===l&&Co(t)&&(t=[t]),o(e,n,t))}function ir(){}function ar(e,n,t,o){const r=t[o];if(r&&ur(r,e))return r;const l=n();return l.memo=e.slice(),l.cacheIndex=o,t[o]=l}function ur(e,n){const t=e.memo;if(t.length!=n.length)return!1;for(let e=0;e<t.length;e++)if((0,r.$H)(t[e],n[e]))return!1;return mo>0&&po&&po.push(e),!0}const pr="3.5.21",dr=r.tE,fr={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"},hr=O,gr=P,mr={createComponentInstance:Ho,setupComponent:qo,renderComponentRoot:Gt,setCurrentRenderingInstance:R,isVNode:Co,normalizeVNode:No,getComponentPublicInstance:rr,ensureValidVNode:bn,pushWarningContext:function(e){l.push(e)},popWarningContext:function(){l.pop()}},vr=null,yr=null,_r=null}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJRCxFQUFJLEVBQUdBLEVBQUkrRixFQUFLOUYsT0FBUUQsSUFDL0IsSUFBSSxRQUFXK0YsRUFBSy9GLEdBQUlpbUMsRUFBS2ptQyxJQUMzQixPQUFPLEVBTVgsT0FISXdqQyxHQUFxQixHQUFLQyxJQUM1QkEsR0FBYXZqQyxLQUFLb2hCLElBRWIsQ0FDVCxDQUVBLE1BQU1vTyxHQUFVLFNBQ1Y2YSxHQUE0RCxLQUM1REMsR0FocFFxQixDQUN6QixHQUFRLHNCQUNSLEdBQVEsb0JBQ1IsRUFBTyxlQUNQLEdBQVEsbUJBQ1IsRUFBTyxlQUNQLEdBQVEsb0JBQ1IsRUFBTyxVQUNQLElBQVMscUJBQ1QsR0FBUSxpQkFDUixFQUFPLGlCQUNQLEdBQVEsbUJBQ1IsR0FBUSxxQkFDUixJQUFTLHFCQUNULElBQVMsdUJBQ1QsRUFBSyxpQkFDTCxFQUFLLGtCQUNMLEVBQUssaUJBQ0wsRUFBSyxtQkFDTCxFQUFLLDJCQUNMLEVBQUssdUJBQ0wsRUFBSywwQkFDTCxFQUFLLGFBQ0wsRUFBSyxpQkFDTCxFQUFLLGtCQUNMLEdBQU0sbUJBQ04sR0FBTSxrQkFDTixHQUFNLGVBQ04sR0FBTSx5QkFDTixHQUFNLGtCQUNOLEdBQU0sbUJBQ04sR0FBTSxnQ0FrblFGQyxHQUErRDFtQyxFQUMvRDJtQyxHQUFzRXJtQyxFQWF0RXNtQyxHQVpZLENBQ2hCMVQsMkJBQ0FDLGtCQUNBbUIsdUJBQ0F2eUIsOEJBQ0F5YyxRQUFTQSxHQUNUdkksa0JBQ0FoVCw4QkFDQXVmLG9CQUNBcWtCLG1CQXB6UUYsU0FBNEJ4cUMsR0FDMUJuQixFQUFNaUIsS0FBS0UsRUFDYixFQW16UUV5cUMsa0JBbHpRRixXQUNFNXJDLEVBQU0ra0MsS0FDUixHQW16UU04RyxHQUFnQixLQUNoQkMsR0FBYyxLQUNkQyxHQUFtQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHJlbmVvcy9zbGlkZXIuZWRpdG9yLy4vbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1jb3JlL2Rpc3QvcnVudGltZS1jb3JlLmVzbS1idW5kbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuKiBAdnVlL3J1bnRpbWUtY29yZSB2My41LjIxXG4qIChjKSAyMDE4LXByZXNlbnQgWXV4aSAoRXZhbikgWW91IGFuZCBWdWUgY29udHJpYnV0b3JzXG4qIEBsaWNlbnNlIE1JVFxuKiovXG5pbXBvcnQgeyBwYXVzZVRyYWNraW5nLCByZXNldFRyYWNraW5nLCBpc1JlZiwgdG9SYXcsIHRyYXZlcnNlLCBzaGFsbG93UmVmLCByZWFkb25seSwgaXNSZWFjdGl2ZSwgcmVmLCBpc1NoYWxsb3csIGlzUmVhZG9ubHksIHNoYWxsb3dSZWFkQXJyYXksIHRvUmVhZG9ubHksIHRvUmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgdHJhY2ssIHJlYWN0aXZlLCBzaGFsbG93UmVhY3RpdmUsIHRyaWdnZXIsIFJlYWN0aXZlRWZmZWN0LCB3YXRjaCBhcyB3YXRjaCQxLCBjdXN0b21SZWYsIGlzUHJveHksIHByb3h5UmVmcywgbWFya1JhdywgRWZmZWN0U2NvcGUsIGNvbXB1dGVkIGFzIGNvbXB1dGVkJDEgfSBmcm9tICdAdnVlL3JlYWN0aXZpdHknO1xuZXhwb3J0IHsgRWZmZWN0U2NvcGUsIFJlYWN0aXZlRWZmZWN0LCBUcmFja09wVHlwZXMsIFRyaWdnZXJPcFR5cGVzLCBjdXN0b21SZWYsIGVmZmVjdCwgZWZmZWN0U2NvcGUsIGdldEN1cnJlbnRTY29wZSwgZ2V0Q3VycmVudFdhdGNoZXIsIGlzUHJveHksIGlzUmVhY3RpdmUsIGlzUmVhZG9ubHksIGlzUmVmLCBpc1NoYWxsb3csIG1hcmtSYXcsIG9uU2NvcGVEaXNwb3NlLCBvbldhdGNoZXJDbGVhbnVwLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFkb25seSwgcmVmLCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgc3RvcCwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRvVmFsdWUsIHRyaWdnZXJSZWYsIHVucmVmIH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JztcbmltcG9ydCB7IGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBFTVBUWV9PQkosIGlzUHJvbWlzZSwgaXNBcnJheSwgTk9PUCwgZ2V0R2xvYmFsVGhpcywgZXh0ZW5kLCBpc0J1aWx0SW5EaXJlY3RpdmUsIE5PLCBoYXNPd24sIHJlbW92ZSwgZGVmLCBpc09uLCBpc1Jlc2VydmVkUHJvcCwgbm9ybWFsaXplQ2xhc3MsIHN0cmluZ2lmeVN0eWxlLCBub3JtYWxpemVTdHlsZSwgaXNLbm93blN2Z0F0dHIsIGlzQm9vbGVhbkF0dHIsIGlzS25vd25IdG1sQXR0ciwgaW5jbHVkZUJvb2xlYW5BdHRyLCBpc1JlbmRlcmFibGVBdHRyVmFsdWUsIG5vcm1hbGl6ZUNzc1ZhclZhbHVlLCBnZXRFc2NhcGVkQ3NzVmFyTmFtZSwgaXNPYmplY3QsIGlzUmVnRXhwLCBpbnZva2VBcnJheUZucywgdG9IYW5kbGVyS2V5LCBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgaXNTeW1ib2wsIGlzR2xvYmFsbHlBbGxvd2VkLCBFTVBUWV9BUlIsIGh5cGhlbmF0ZSwgbWFrZU1hcCwgdG9SYXdUeXBlLCBoYXNDaGFuZ2VkLCBsb29zZVRvTnVtYmVyLCBpc01vZGVsTGlzdGVuZXIsIHRvTnVtYmVyIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuZXhwb3J0IHsgY2FtZWxpemUsIGNhcGl0YWxpemUsIG5vcm1hbGl6ZUNsYXNzLCBub3JtYWxpemVQcm9wcywgbm9ybWFsaXplU3R5bGUsIHRvRGlzcGxheVN0cmluZywgdG9IYW5kbGVyS2V5IH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5jb25zdCBzdGFjayA9IFtdO1xuZnVuY3Rpb24gcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlKSB7XG4gIHN0YWNrLnB1c2godm5vZGUpO1xufVxuZnVuY3Rpb24gcG9wV2FybmluZ0NvbnRleHQoKSB7XG4gIHN0YWNrLnBvcCgpO1xufVxubGV0IGlzV2FybmluZyA9IGZhbHNlO1xuZnVuY3Rpb24gd2FybiQxKG1zZywgLi4uYXJncykge1xuICBpZiAoaXNXYXJuaW5nKSByZXR1cm47XG4gIGlzV2FybmluZyA9IHRydWU7XG4gIHBhdXNlVHJhY2tpbmcoKTtcbiAgY29uc3QgaW5zdGFuY2UgPSBzdGFjay5sZW5ndGggPyBzdGFja1tzdGFjay5sZW5ndGggLSAxXS5jb21wb25lbnQgOiBudWxsO1xuICBjb25zdCBhcHBXYXJuSGFuZGxlciA9IGluc3RhbmNlICYmIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLndhcm5IYW5kbGVyO1xuICBjb25zdCB0cmFjZSA9IGdldENvbXBvbmVudFRyYWNlKCk7XG4gIGlmIChhcHBXYXJuSGFuZGxlcikge1xuICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhcbiAgICAgIGFwcFdhcm5IYW5kbGVyLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICAxMSxcbiAgICAgIFtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICAgIG1zZyArIGFyZ3MubWFwKChhKSA9PiB7XG4gICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gYS50b1N0cmluZykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoYSkpICE9IG51bGwgPyBfYiA6IEpTT04uc3RyaW5naWZ5KGEpO1xuICAgICAgICB9KS5qb2luKFwiXCIpLFxuICAgICAgICBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eSxcbiAgICAgICAgdHJhY2UubWFwKFxuICAgICAgICAgICh7IHZub2RlIH0pID0+IGBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCB2bm9kZS50eXBlKX0+YFxuICAgICAgICApLmpvaW4oXCJcXG5cIiksXG4gICAgICAgIHRyYWNlXG4gICAgICBdXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB3YXJuQXJncyA9IFtgW1Z1ZSB3YXJuXTogJHttc2d9YCwgLi4uYXJnc107XG4gICAgaWYgKHRyYWNlLmxlbmd0aCAmJiAvLyBhdm9pZCBzcGFtbWluZyBjb25zb2xlIGR1cmluZyB0ZXN0c1xuICAgIHRydWUpIHtcbiAgICAgIHdhcm5BcmdzLnB1c2goYFxuYCwgLi4uZm9ybWF0VHJhY2UodHJhY2UpKTtcbiAgICB9XG4gICAgY29uc29sZS53YXJuKC4uLndhcm5BcmdzKTtcbiAgfVxuICByZXNldFRyYWNraW5nKCk7XG4gIGlzV2FybmluZyA9IGZhbHNlO1xufVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50VHJhY2UoKSB7XG4gIGxldCBjdXJyZW50Vk5vZGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgaWYgKCFjdXJyZW50Vk5vZGUpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZFN0YWNrID0gW107XG4gIHdoaWxlIChjdXJyZW50Vk5vZGUpIHtcbiAgICBjb25zdCBsYXN0ID0gbm9ybWFsaXplZFN0YWNrWzBdO1xuICAgIGlmIChsYXN0ICYmIGxhc3Qudm5vZGUgPT09IGN1cnJlbnRWTm9kZSkge1xuICAgICAgbGFzdC5yZWN1cnNlQ291bnQrKztcbiAgICB9IGVsc2Uge1xuICAgICAgbm9ybWFsaXplZFN0YWNrLnB1c2goe1xuICAgICAgICB2bm9kZTogY3VycmVudFZOb2RlLFxuICAgICAgICByZWN1cnNlQ291bnQ6IDBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnRJbnN0YW5jZSA9IGN1cnJlbnRWTm9kZS5jb21wb25lbnQgJiYgY3VycmVudFZOb2RlLmNvbXBvbmVudC5wYXJlbnQ7XG4gICAgY3VycmVudFZOb2RlID0gcGFyZW50SW5zdGFuY2UgJiYgcGFyZW50SW5zdGFuY2Uudm5vZGU7XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZWRTdGFjaztcbn1cbmZ1bmN0aW9uIGZvcm1hdFRyYWNlKHRyYWNlKSB7XG4gIGNvbnN0IGxvZ3MgPSBbXTtcbiAgdHJhY2UuZm9yRWFjaCgoZW50cnksIGkpID0+IHtcbiAgICBsb2dzLnB1c2goLi4uaSA9PT0gMCA/IFtdIDogW2BcbmBdLCAuLi5mb3JtYXRUcmFjZUVudHJ5KGVudHJ5KSk7XG4gIH0pO1xuICByZXR1cm4gbG9ncztcbn1cbmZ1bmN0aW9uIGZvcm1hdFRyYWNlRW50cnkoeyB2bm9kZSwgcmVjdXJzZUNvdW50IH0pIHtcbiAgY29uc3QgcG9zdGZpeCA9IHJlY3Vyc2VDb3VudCA+IDAgPyBgLi4uICgke3JlY3Vyc2VDb3VudH0gcmVjdXJzaXZlIGNhbGxzKWAgOiBgYDtcbiAgY29uc3QgaXNSb290ID0gdm5vZGUuY29tcG9uZW50ID8gdm5vZGUuY29tcG9uZW50LnBhcmVudCA9PSBudWxsIDogZmFsc2U7XG4gIGNvbnN0IG9wZW4gPSBgIGF0IDwke2Zvcm1hdENvbXBvbmVudE5hbWUoXG4gICAgdm5vZGUuY29tcG9uZW50LFxuICAgIHZub2RlLnR5cGUsXG4gICAgaXNSb290XG4gICl9YDtcbiAgY29uc3QgY2xvc2UgPSBgPmAgKyBwb3N0Zml4O1xuICByZXR1cm4gdm5vZGUucHJvcHMgPyBbb3BlbiwgLi4uZm9ybWF0UHJvcHModm5vZGUucHJvcHMpLCBjbG9zZV0gOiBbb3BlbiArIGNsb3NlXTtcbn1cbmZ1bmN0aW9uIGZvcm1hdFByb3BzKHByb3BzKSB7XG4gIGNvbnN0IHJlcyA9IFtdO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xuICBrZXlzLnNsaWNlKDAsIDMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIHJlcy5wdXNoKC4uLmZvcm1hdFByb3Aoa2V5LCBwcm9wc1trZXldKSk7XG4gIH0pO1xuICBpZiAoa2V5cy5sZW5ndGggPiAzKSB7XG4gICAgcmVzLnB1c2goYCAuLi5gKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gZm9ybWF0UHJvcChrZXksIHZhbHVlLCByYXcpIHtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PSR7dmFsdWV9YF07XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PSR7dmFsdWV9YF07XG4gIH0gZWxzZSBpZiAoaXNSZWYodmFsdWUpKSB7XG4gICAgdmFsdWUgPSBmb3JtYXRQcm9wKGtleSwgdG9SYXcodmFsdWUudmFsdWUpLCB0cnVlKTtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1SZWY8YCwgdmFsdWUsIGA+YF07XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICByZXR1cm4gW2Ake2tleX09Zm4ke3ZhbHVlLm5hbWUgPyBgPCR7dmFsdWUubmFtZX0+YCA6IGBgfWBdO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PWAsIHZhbHVlXTtcbiAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0TnVtYmVyKHZhbCwgdHlwZSkge1xuICBpZiAoISEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHJldHVybjtcbiAgaWYgKHZhbCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgIT09IFwibnVtYmVyXCIpIHtcbiAgICB3YXJuJDEoYCR7dHlwZX0gaXMgbm90IGEgdmFsaWQgbnVtYmVyIC0gZ290ICR7SlNPTi5zdHJpbmdpZnkodmFsKX0uYCk7XG4gIH0gZWxzZSBpZiAoaXNOYU4odmFsKSkge1xuICAgIHdhcm4kMShgJHt0eXBlfSBpcyBOYU4gLSB0aGUgZHVyYXRpb24gZXhwcmVzc2lvbiBtaWdodCBiZSBpbmNvcnJlY3QuYCk7XG4gIH1cbn1cblxuY29uc3QgRXJyb3JDb2RlcyA9IHtcbiAgXCJTRVRVUF9GVU5DVElPTlwiOiAwLFxuICBcIjBcIjogXCJTRVRVUF9GVU5DVElPTlwiLFxuICBcIlJFTkRFUl9GVU5DVElPTlwiOiAxLFxuICBcIjFcIjogXCJSRU5ERVJfRlVOQ1RJT05cIixcbiAgXCJOQVRJVkVfRVZFTlRfSEFORExFUlwiOiA1LFxuICBcIjVcIjogXCJOQVRJVkVfRVZFTlRfSEFORExFUlwiLFxuICBcIkNPTVBPTkVOVF9FVkVOVF9IQU5ETEVSXCI6IDYsXG4gIFwiNlwiOiBcIkNPTVBPTkVOVF9FVkVOVF9IQU5ETEVSXCIsXG4gIFwiVk5PREVfSE9PS1wiOiA3LFxuICBcIjdcIjogXCJWTk9ERV9IT09LXCIsXG4gIFwiRElSRUNUSVZFX0hPT0tcIjogOCxcbiAgXCI4XCI6IFwiRElSRUNUSVZFX0hPT0tcIixcbiAgXCJUUkFOU0lUSU9OX0hPT0tcIjogOSxcbiAgXCI5XCI6IFwiVFJBTlNJVElPTl9IT09LXCIsXG4gIFwiQVBQX0VSUk9SX0hBTkRMRVJcIjogMTAsXG4gIFwiMTBcIjogXCJBUFBfRVJST1JfSEFORExFUlwiLFxuICBcIkFQUF9XQVJOX0hBTkRMRVJcIjogMTEsXG4gIFwiMTFcIjogXCJBUFBfV0FSTl9IQU5ETEVSXCIsXG4gIFwiRlVOQ1RJT05fUkVGXCI6IDEyLFxuICBcIjEyXCI6IFwiRlVOQ1RJT05fUkVGXCIsXG4gIFwiQVNZTkNfQ09NUE9ORU5UX0xPQURFUlwiOiAxMyxcbiAgXCIxM1wiOiBcIkFTWU5DX0NPTVBPTkVOVF9MT0FERVJcIixcbiAgXCJTQ0hFRFVMRVJcIjogMTQsXG4gIFwiMTRcIjogXCJTQ0hFRFVMRVJcIixcbiAgXCJDT01QT05FTlRfVVBEQVRFXCI6IDE1LFxuICBcIjE1XCI6IFwiQ09NUE9ORU5UX1VQREFURVwiLFxuICBcIkFQUF9VTk1PVU5UX0NMRUFOVVBcIjogMTYsXG4gIFwiMTZcIjogXCJBUFBfVU5NT1VOVF9DTEVBTlVQXCJcbn07XG5jb25zdCBFcnJvclR5cGVTdHJpbmdzJDEgPSB7XG4gIFtcInNwXCJdOiBcInNlcnZlclByZWZldGNoIGhvb2tcIixcbiAgW1wiYmNcIl06IFwiYmVmb3JlQ3JlYXRlIGhvb2tcIixcbiAgW1wiY1wiXTogXCJjcmVhdGVkIGhvb2tcIixcbiAgW1wiYm1cIl06IFwiYmVmb3JlTW91bnQgaG9va1wiLFxuICBbXCJtXCJdOiBcIm1vdW50ZWQgaG9va1wiLFxuICBbXCJidVwiXTogXCJiZWZvcmVVcGRhdGUgaG9va1wiLFxuICBbXCJ1XCJdOiBcInVwZGF0ZWRcIixcbiAgW1wiYnVtXCJdOiBcImJlZm9yZVVubW91bnQgaG9va1wiLFxuICBbXCJ1bVwiXTogXCJ1bm1vdW50ZWQgaG9va1wiLFxuICBbXCJhXCJdOiBcImFjdGl2YXRlZCBob29rXCIsXG4gIFtcImRhXCJdOiBcImRlYWN0aXZhdGVkIGhvb2tcIixcbiAgW1wiZWNcIl06IFwiZXJyb3JDYXB0dXJlZCBob29rXCIsXG4gIFtcInJ0Y1wiXTogXCJyZW5kZXJUcmFja2VkIGhvb2tcIixcbiAgW1wicnRnXCJdOiBcInJlbmRlclRyaWdnZXJlZCBob29rXCIsXG4gIFswXTogXCJzZXR1cCBmdW5jdGlvblwiLFxuICBbMV06IFwicmVuZGVyIGZ1bmN0aW9uXCIsXG4gIFsyXTogXCJ3YXRjaGVyIGdldHRlclwiLFxuICBbM106IFwid2F0Y2hlciBjYWxsYmFja1wiLFxuICBbNF06IFwid2F0Y2hlciBjbGVhbnVwIGZ1bmN0aW9uXCIsXG4gIFs1XTogXCJuYXRpdmUgZXZlbnQgaGFuZGxlclwiLFxuICBbNl06IFwiY29tcG9uZW50IGV2ZW50IGhhbmRsZXJcIixcbiAgWzddOiBcInZub2RlIGhvb2tcIixcbiAgWzhdOiBcImRpcmVjdGl2ZSBob29rXCIsXG4gIFs5XTogXCJ0cmFuc2l0aW9uIGhvb2tcIixcbiAgWzEwXTogXCJhcHAgZXJyb3JIYW5kbGVyXCIsXG4gIFsxMV06IFwiYXBwIHdhcm5IYW5kbGVyXCIsXG4gIFsxMl06IFwicmVmIGZ1bmN0aW9uXCIsXG4gIFsxM106IFwiYXN5bmMgY29tcG9uZW50IGxvYWRlclwiLFxuICBbMTRdOiBcInNjaGVkdWxlciBmbHVzaFwiLFxuICBbMTVdOiBcImNvbXBvbmVudCB1cGRhdGVcIixcbiAgWzE2XTogXCJhcHAgdW5tb3VudCBjbGVhbnVwIGZ1bmN0aW9uXCJcbn07XG5mdW5jdGlvbiBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGFyZ3MgPyBmbiguLi5hcmdzKSA6IGZuKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xuICB9XG59XG5mdW5jdGlvbiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcbiAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XG4gICAgY29uc3QgcmVzID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncyk7XG4gICAgaWYgKHJlcyAmJiBpc1Byb21pc2UocmVzKSkge1xuICAgICAgcmVzLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBpZiAoaXNBcnJheShmbikpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXMucHVzaChjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbltpXSwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYEludmFsaWQgdmFsdWUgdHlwZSBwYXNzZWQgdG8gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoKTogJHt0eXBlb2YgZm59YFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUsIHRocm93SW5EZXYgPSB0cnVlKSB7XG4gIGNvbnN0IGNvbnRleHRWTm9kZSA9IGluc3RhbmNlID8gaW5zdGFuY2Uudm5vZGUgOiBudWxsO1xuICBjb25zdCB7IGVycm9ySGFuZGxlciwgdGhyb3dVbmhhbmRsZWRFcnJvckluUHJvZHVjdGlvbiB9ID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcgfHwgRU1QVFlfT0JKO1xuICBpZiAoaW5zdGFuY2UpIHtcbiAgICBsZXQgY3VyID0gaW5zdGFuY2UucGFyZW50O1xuICAgIGNvbnN0IGV4cG9zZWRJbnN0YW5jZSA9IGluc3RhbmNlLnByb3h5O1xuICAgIGNvbnN0IGVycm9ySW5mbyA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBFcnJvclR5cGVTdHJpbmdzJDFbdHlwZV0gOiBgaHR0cHM6Ly92dWVqcy5vcmcvZXJyb3ItcmVmZXJlbmNlLyNydW50aW1lLSR7dHlwZX1gO1xuICAgIHdoaWxlIChjdXIpIHtcbiAgICAgIGNvbnN0IGVycm9yQ2FwdHVyZWRIb29rcyA9IGN1ci5lYztcbiAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3MpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcnJvckNhcHR1cmVkSG9va3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZXJyb3JDYXB0dXJlZEhvb2tzW2ldKGVyciwgZXhwb3NlZEluc3RhbmNlLCBlcnJvckluZm8pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3VyID0gY3VyLnBhcmVudDtcbiAgICB9XG4gICAgaWYgKGVycm9ySGFuZGxlcikge1xuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGVycm9ySGFuZGxlciwgbnVsbCwgMTAsIFtcbiAgICAgICAgZXJyLFxuICAgICAgICBleHBvc2VkSW5zdGFuY2UsXG4gICAgICAgIGVycm9ySW5mb1xuICAgICAgXSk7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2LCB0aHJvd1VuaGFuZGxlZEVycm9ySW5Qcm9kdWN0aW9uKTtcbn1cbmZ1bmN0aW9uIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2ID0gdHJ1ZSwgdGhyb3dJblByb2QgPSBmYWxzZSkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGluZm8gPSBFcnJvclR5cGVTdHJpbmdzJDFbdHlwZV07XG4gICAgaWYgKGNvbnRleHRWTm9kZSkge1xuICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGNvbnRleHRWTm9kZSk7XG4gICAgfVxuICAgIHdhcm4kMShgVW5oYW5kbGVkIGVycm9yJHtpbmZvID8gYCBkdXJpbmcgZXhlY3V0aW9uIG9mICR7aW5mb31gIDogYGB9YCk7XG4gICAgaWYgKGNvbnRleHRWTm9kZSkge1xuICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICB9XG4gICAgaWYgKHRocm93SW5EZXYpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0aHJvd0luUHJvZCkge1xuICAgIHRocm93IGVycjtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH1cbn1cblxuY29uc3QgcXVldWUgPSBbXTtcbmxldCBmbHVzaEluZGV4ID0gLTE7XG5jb25zdCBwZW5kaW5nUG9zdEZsdXNoQ2JzID0gW107XG5sZXQgYWN0aXZlUG9zdEZsdXNoQ2JzID0gbnVsbDtcbmxldCBwb3N0Rmx1c2hJbmRleCA9IDA7XG5jb25zdCByZXNvbHZlZFByb21pc2UgPSAvKiBAX19QVVJFX18gKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5sZXQgY3VycmVudEZsdXNoUHJvbWlzZSA9IG51bGw7XG5jb25zdCBSRUNVUlNJT05fTElNSVQgPSAxMDA7XG5mdW5jdGlvbiBuZXh0VGljayhmbikge1xuICBjb25zdCBwID0gY3VycmVudEZsdXNoUHJvbWlzZSB8fCByZXNvbHZlZFByb21pc2U7XG4gIHJldHVybiBmbiA/IHAudGhlbih0aGlzID8gZm4uYmluZCh0aGlzKSA6IGZuKSA6IHA7XG59XG5mdW5jdGlvbiBmaW5kSW5zZXJ0aW9uSW5kZXgoaWQpIHtcbiAgbGV0IHN0YXJ0ID0gZmx1c2hJbmRleCArIDE7XG4gIGxldCBlbmQgPSBxdWV1ZS5sZW5ndGg7XG4gIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgIGNvbnN0IG1pZGRsZSA9IHN0YXJ0ICsgZW5kID4+PiAxO1xuICAgIGNvbnN0IG1pZGRsZUpvYiA9IHF1ZXVlW21pZGRsZV07XG4gICAgY29uc3QgbWlkZGxlSm9iSWQgPSBnZXRJZChtaWRkbGVKb2IpO1xuICAgIGlmIChtaWRkbGVKb2JJZCA8IGlkIHx8IG1pZGRsZUpvYklkID09PSBpZCAmJiBtaWRkbGVKb2IuZmxhZ3MgJiAyKSB7XG4gICAgICBzdGFydCA9IG1pZGRsZSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVuZCA9IG1pZGRsZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0YXJ0O1xufVxuZnVuY3Rpb24gcXVldWVKb2Ioam9iKSB7XG4gIGlmICghKGpvYi5mbGFncyAmIDEpKSB7XG4gICAgY29uc3Qgam9iSWQgPSBnZXRJZChqb2IpO1xuICAgIGNvbnN0IGxhc3RKb2IgPSBxdWV1ZVtxdWV1ZS5sZW5ndGggLSAxXTtcbiAgICBpZiAoIWxhc3RKb2IgfHwgLy8gZmFzdCBwYXRoIHdoZW4gdGhlIGpvYiBpZCBpcyBsYXJnZXIgdGhhbiB0aGUgdGFpbFxuICAgICEoam9iLmZsYWdzICYgMikgJiYgam9iSWQgPj0gZ2V0SWQobGFzdEpvYikpIHtcbiAgICAgIHF1ZXVlLnB1c2goam9iKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcXVldWUuc3BsaWNlKGZpbmRJbnNlcnRpb25JbmRleChqb2JJZCksIDAsIGpvYik7XG4gICAgfVxuICAgIGpvYi5mbGFncyB8PSAxO1xuICAgIHF1ZXVlRmx1c2goKTtcbiAgfVxufVxuZnVuY3Rpb24gcXVldWVGbHVzaCgpIHtcbiAgaWYgKCFjdXJyZW50Rmx1c2hQcm9taXNlKSB7XG4gICAgY3VycmVudEZsdXNoUHJvbWlzZSA9IHJlc29sdmVkUHJvbWlzZS50aGVuKGZsdXNoSm9icyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHF1ZXVlUG9zdEZsdXNoQ2IoY2IpIHtcbiAgaWYgKCFpc0FycmF5KGNiKSkge1xuICAgIGlmIChhY3RpdmVQb3N0Rmx1c2hDYnMgJiYgY2IuaWQgPT09IC0xKSB7XG4gICAgICBhY3RpdmVQb3N0Rmx1c2hDYnMuc3BsaWNlKHBvc3RGbHVzaEluZGV4ICsgMSwgMCwgY2IpO1xuICAgIH0gZWxzZSBpZiAoIShjYi5mbGFncyAmIDEpKSB7XG4gICAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLnB1c2goY2IpO1xuICAgICAgY2IuZmxhZ3MgfD0gMTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcGVuZGluZ1Bvc3RGbHVzaENicy5wdXNoKC4uLmNiKTtcbiAgfVxuICBxdWV1ZUZsdXNoKCk7XG59XG5mdW5jdGlvbiBmbHVzaFByZUZsdXNoQ2JzKGluc3RhbmNlLCBzZWVuLCBpID0gZmx1c2hJbmRleCArIDEpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIGZvciAoOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjYiA9IHF1ZXVlW2ldO1xuICAgIGlmIChjYiAmJiBjYi5mbGFncyAmIDIpIHtcbiAgICAgIGlmIChpbnN0YW5jZSAmJiBjYi5pZCAhPT0gaW5zdGFuY2UudWlkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGNiKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnNwbGljZShpLCAxKTtcbiAgICAgIGktLTtcbiAgICAgIGlmIChjYi5mbGFncyAmIDQpIHtcbiAgICAgICAgY2IuZmxhZ3MgJj0gLTI7XG4gICAgICB9XG4gICAgICBjYigpO1xuICAgICAgaWYgKCEoY2IuZmxhZ3MgJiA0KSkge1xuICAgICAgICBjYi5mbGFncyAmPSAtMjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGZsdXNoUG9zdEZsdXNoQ2JzKHNlZW4pIHtcbiAgaWYgKHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XG4gICAgY29uc3QgZGVkdXBlZCA9IFsuLi5uZXcgU2V0KHBlbmRpbmdQb3N0Rmx1c2hDYnMpXS5zb3J0KFxuICAgICAgKGEsIGIpID0+IGdldElkKGEpIC0gZ2V0SWQoYilcbiAgICApO1xuICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoID0gMDtcbiAgICBpZiAoYWN0aXZlUG9zdEZsdXNoQ2JzKSB7XG4gICAgICBhY3RpdmVQb3N0Rmx1c2hDYnMucHVzaCguLi5kZWR1cGVkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gZGVkdXBlZDtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgc2VlbiA9IHNlZW4gfHwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB9XG4gICAgZm9yIChwb3N0Rmx1c2hJbmRleCA9IDA7IHBvc3RGbHVzaEluZGV4IDwgYWN0aXZlUG9zdEZsdXNoQ2JzLmxlbmd0aDsgcG9zdEZsdXNoSW5kZXgrKykge1xuICAgICAgY29uc3QgY2IgPSBhY3RpdmVQb3N0Rmx1c2hDYnNbcG9zdEZsdXNoSW5kZXhdO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGNiKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjYi5mbGFncyAmIDQpIHtcbiAgICAgICAgY2IuZmxhZ3MgJj0gLTI7XG4gICAgICB9XG4gICAgICBpZiAoIShjYi5mbGFncyAmIDgpKSBjYigpO1xuICAgICAgY2IuZmxhZ3MgJj0gLTI7XG4gICAgfVxuICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XG4gICAgcG9zdEZsdXNoSW5kZXggPSAwO1xuICB9XG59XG5jb25zdCBnZXRJZCA9IChqb2IpID0+IGpvYi5pZCA9PSBudWxsID8gam9iLmZsYWdzICYgMiA/IC0xIDogSW5maW5pdHkgOiBqb2IuaWQ7XG5mdW5jdGlvbiBmbHVzaEpvYnMoc2Vlbikge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgY29uc3QgY2hlY2sgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gKGpvYikgPT4gY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGpvYikgOiBOT09QO1xuICB0cnkge1xuICAgIGZvciAoZmx1c2hJbmRleCA9IDA7IGZsdXNoSW5kZXggPCBxdWV1ZS5sZW5ndGg7IGZsdXNoSW5kZXgrKykge1xuICAgICAgY29uc3Qgam9iID0gcXVldWVbZmx1c2hJbmRleF07XG4gICAgICBpZiAoam9iICYmICEoam9iLmZsYWdzICYgOCkpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hlY2soam9iKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqb2IuZmxhZ3MgJiA0KSB7XG4gICAgICAgICAgam9iLmZsYWdzICY9IH4xO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhcbiAgICAgICAgICBqb2IsXG4gICAgICAgICAgam9iLmksXG4gICAgICAgICAgam9iLmkgPyAxNSA6IDE0XG4gICAgICAgICk7XG4gICAgICAgIGlmICghKGpvYi5mbGFncyAmIDQpKSB7XG4gICAgICAgICAgam9iLmZsYWdzICY9IH4xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIGZvciAoOyBmbHVzaEluZGV4IDwgcXVldWUubGVuZ3RoOyBmbHVzaEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGpvYiA9IHF1ZXVlW2ZsdXNoSW5kZXhdO1xuICAgICAgaWYgKGpvYikge1xuICAgICAgICBqb2IuZmxhZ3MgJj0gLTI7XG4gICAgICB9XG4gICAgfVxuICAgIGZsdXNoSW5kZXggPSAtMTtcbiAgICBxdWV1ZS5sZW5ndGggPSAwO1xuICAgIGZsdXNoUG9zdEZsdXNoQ2JzKHNlZW4pO1xuICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggfHwgcGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGgpIHtcbiAgICAgIGZsdXNoSm9icyhzZWVuKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBmbikge1xuICBjb25zdCBjb3VudCA9IHNlZW4uZ2V0KGZuKSB8fCAwO1xuICBpZiAoY291bnQgPiBSRUNVUlNJT05fTElNSVQpIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGZuLmk7XG4gICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGluc3RhbmNlICYmIGdldENvbXBvbmVudE5hbWUoaW5zdGFuY2UudHlwZSk7XG4gICAgaGFuZGxlRXJyb3IoXG4gICAgICBgTWF4aW11bSByZWN1cnNpdmUgdXBkYXRlcyBleGNlZWRlZCR7Y29tcG9uZW50TmFtZSA/IGAgaW4gY29tcG9uZW50IDwke2NvbXBvbmVudE5hbWV9PmAgOiBgYH0uIFRoaXMgbWVhbnMgeW91IGhhdmUgYSByZWFjdGl2ZSBlZmZlY3QgdGhhdCBpcyBtdXRhdGluZyBpdHMgb3duIGRlcGVuZGVuY2llcyBhbmQgdGh1cyByZWN1cnNpdmVseSB0cmlnZ2VyaW5nIGl0c2VsZi4gUG9zc2libGUgc291cmNlcyBpbmNsdWRlIGNvbXBvbmVudCB0ZW1wbGF0ZSwgcmVuZGVyIGZ1bmN0aW9uLCB1cGRhdGVkIGhvb2sgb3Igd2F0Y2hlciBzb3VyY2UgZnVuY3Rpb24uYCxcbiAgICAgIG51bGwsXG4gICAgICAxMFxuICAgICk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgc2Vlbi5zZXQoZm4sIGNvdW50ICsgMSk7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubGV0IGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbmNvbnN0IGhtckRpcnR5Q29tcG9uZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5pZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICBjb25zdCBnID0gZ2V0R2xvYmFsVGhpcygpO1xuICBpZiAoIWcuX19WVUVfSE1SX1JVTlRJTUVfXykge1xuICAgIGcuX19WVUVfSE1SX1JVTlRJTUVfXyA9IHtcbiAgICAgIGNyZWF0ZVJlY29yZDogdHJ5V3JhcChjcmVhdGVSZWNvcmQpLFxuICAgICAgcmVyZW5kZXI6IHRyeVdyYXAocmVyZW5kZXIpLFxuICAgICAgcmVsb2FkOiB0cnlXcmFwKHJlbG9hZClcbiAgICB9O1xuICB9XG59XG5jb25zdCBtYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuZnVuY3Rpb24gcmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgY29uc3QgaWQgPSBpbnN0YW5jZS50eXBlLl9faG1ySWQ7XG4gIGxldCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgaWYgKCFyZWNvcmQpIHtcbiAgICBjcmVhdGVSZWNvcmQoaWQsIGluc3RhbmNlLnR5cGUpO1xuICAgIHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICB9XG4gIHJlY29yZC5pbnN0YW5jZXMuYWRkKGluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgbWFwLmdldChpbnN0YW5jZS50eXBlLl9faG1ySWQpLmluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVjb3JkKGlkLCBpbml0aWFsRGVmKSB7XG4gIGlmIChtYXAuaGFzKGlkKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBtYXAuc2V0KGlkLCB7XG4gICAgaW5pdGlhbERlZjogbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5pdGlhbERlZiksXG4gICAgaW5zdGFuY2VzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXG4gIH0pO1xuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICByZXR1cm4gaXNDbGFzc0NvbXBvbmVudChjb21wb25lbnQpID8gY29tcG9uZW50Ll9fdmNjT3B0cyA6IGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIHJlcmVuZGVyKGlkLCBuZXdSZW5kZXIpIHtcbiAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJlY29yZC5pbml0aWFsRGVmLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgWy4uLnJlY29yZC5pbnN0YW5jZXNdLmZvckVhY2goKGluc3RhbmNlKSA9PiB7XG4gICAgaWYgKG5ld1JlbmRlcikge1xuICAgICAgaW5zdGFuY2UucmVuZGVyID0gbmV3UmVuZGVyO1xuICAgICAgbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5zdGFuY2UudHlwZSkucmVuZGVyID0gbmV3UmVuZGVyO1xuICAgIH1cbiAgICBpbnN0YW5jZS5yZW5kZXJDYWNoZSA9IFtdO1xuICAgIGlzSG1yVXBkYXRpbmcgPSB0cnVlO1xuICAgIGlmICghKGluc3RhbmNlLmpvYi5mbGFncyAmIDgpKSB7XG4gICAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICB9XG4gICAgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHJlbG9hZChpZCwgbmV3Q29tcCkge1xuICBjb25zdCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgaWYgKCFyZWNvcmQpIHJldHVybjtcbiAgbmV3Q29tcCA9IG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KG5ld0NvbXApO1xuICB1cGRhdGVDb21wb25lbnREZWYocmVjb3JkLmluaXRpYWxEZWYsIG5ld0NvbXApO1xuICBjb25zdCBpbnN0YW5jZXMgPSBbLi4ucmVjb3JkLmluc3RhbmNlc107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNbaV07XG4gICAgY29uc3Qgb2xkQ29tcCA9IG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluc3RhbmNlLnR5cGUpO1xuICAgIGxldCBkaXJ0eUluc3RhbmNlcyA9IGhtckRpcnR5Q29tcG9uZW50cy5nZXQob2xkQ29tcCk7XG4gICAgaWYgKCFkaXJ0eUluc3RhbmNlcykge1xuICAgICAgaWYgKG9sZENvbXAgIT09IHJlY29yZC5pbml0aWFsRGVmKSB7XG4gICAgICAgIHVwZGF0ZUNvbXBvbmVudERlZihvbGRDb21wLCBuZXdDb21wKTtcbiAgICAgIH1cbiAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5zZXQob2xkQ29tcCwgZGlydHlJbnN0YW5jZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgICB9XG4gICAgZGlydHlJbnN0YW5jZXMuYWRkKGluc3RhbmNlKTtcbiAgICBpbnN0YW5jZS5hcHBDb250ZXh0LnByb3BzQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgIGluc3RhbmNlLmFwcENvbnRleHQuZW1pdHNDYWNoZS5kZWxldGUoaW5zdGFuY2UudHlwZSk7XG4gICAgaW5zdGFuY2UuYXBwQ29udGV4dC5vcHRpb25zQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgIGlmIChpbnN0YW5jZS5jZVJlbG9hZCkge1xuICAgICAgZGlydHlJbnN0YW5jZXMuYWRkKGluc3RhbmNlKTtcbiAgICAgIGluc3RhbmNlLmNlUmVsb2FkKG5ld0NvbXAuc3R5bGVzKTtcbiAgICAgIGRpcnR5SW5zdGFuY2VzLmRlbGV0ZShpbnN0YW5jZSk7XG4gICAgfSBlbHNlIGlmIChpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICAgIHF1ZXVlSm9iKCgpID0+IHtcbiAgICAgICAgaWYgKCEoaW5zdGFuY2Uuam9iLmZsYWdzICYgOCkpIHtcbiAgICAgICAgICBpc0htclVwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBpbnN0YW5jZS5wYXJlbnQudXBkYXRlKCk7XG4gICAgICAgICAgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICAgIGRpcnR5SW5zdGFuY2VzLmRlbGV0ZShpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQpIHtcbiAgICAgIGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJbSE1SXSBSb290IG9yIG1hbnVhbGx5IG1vdW50ZWQgaW5zdGFuY2UgbW9kaWZpZWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoaW5zdGFuY2Uucm9vdC5jZSAmJiBpbnN0YW5jZSAhPT0gaW5zdGFuY2Uucm9vdCkge1xuICAgICAgaW5zdGFuY2Uucm9vdC5jZS5fcmVtb3ZlQ2hpbGRTdHlsZShvbGRDb21wKTtcbiAgICB9XG4gIH1cbiAgcXVldWVQb3N0Rmx1c2hDYigoKSA9PiB7XG4gICAgaG1yRGlydHlDb21wb25lbnRzLmNsZWFyKCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gdXBkYXRlQ29tcG9uZW50RGVmKG9sZENvbXAsIG5ld0NvbXApIHtcbiAgZXh0ZW5kKG9sZENvbXAsIG5ld0NvbXApO1xuICBmb3IgKGNvbnN0IGtleSBpbiBvbGRDb21wKSB7XG4gICAgaWYgKGtleSAhPT0gXCJfX2ZpbGVcIiAmJiAhKGtleSBpbiBuZXdDb21wKSkge1xuICAgICAgZGVsZXRlIG9sZENvbXBba2V5XTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHRyeVdyYXAoZm4pIHtcbiAgcmV0dXJuIChpZCwgYXJnKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbihpZCwgYXJnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgW0hNUl0gU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIFZ1ZSBjb21wb25lbnQgaG90LXJlbG9hZC4gRnVsbCByZWxvYWQgcmVxdWlyZWQuYFxuICAgICAgKTtcbiAgICB9XG4gIH07XG59XG5cbmxldCBkZXZ0b29scyQxO1xubGV0IGJ1ZmZlciA9IFtdO1xubGV0IGRldnRvb2xzTm90SW5zdGFsbGVkID0gZmFsc2U7XG5mdW5jdGlvbiBlbWl0JDEoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgaWYgKGRldnRvb2xzJDEpIHtcbiAgICBkZXZ0b29scyQxLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICB9IGVsc2UgaWYgKCFkZXZ0b29sc05vdEluc3RhbGxlZCkge1xuICAgIGJ1ZmZlci5wdXNoKHsgZXZlbnQsIGFyZ3MgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldERldnRvb2xzSG9vayQxKGhvb2ssIHRhcmdldCkge1xuICB2YXIgX2EsIF9iO1xuICBkZXZ0b29scyQxID0gaG9vaztcbiAgaWYgKGRldnRvb2xzJDEpIHtcbiAgICBkZXZ0b29scyQxLmVuYWJsZWQgPSB0cnVlO1xuICAgIGJ1ZmZlci5mb3JFYWNoKCh7IGV2ZW50LCBhcmdzIH0pID0+IGRldnRvb2xzJDEuZW1pdChldmVudCwgLi4uYXJncykpO1xuICAgIGJ1ZmZlciA9IFtdO1xuICB9IGVsc2UgaWYgKFxuICAgIC8vIGhhbmRsZSBsYXRlIGRldnRvb2xzIGluamVjdGlvbiAtIG9ubHkgZG8gdGhpcyBpZiB3ZSBhcmUgaW4gYW4gYWN0dWFsXG4gICAgLy8gYnJvd3NlciBlbnZpcm9ubWVudCB0byBhdm9pZCB0aGUgdGltZXIgaGFuZGxlIHN0YWxsaW5nIHRlc3QgcnVubmVyIGV4aXRcbiAgICAvLyAoIzQ4MTUpXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvLyBzb21lIGVudnMgbW9jayB3aW5kb3cgYnV0IG5vdCBmdWxseVxuICAgIHdpbmRvdy5IVE1MRWxlbWVudCAmJiAvLyBhbHNvIGV4Y2x1ZGUganNkb21cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAhKChfYiA9IChfYSA9IHdpbmRvdy5uYXZpZ2F0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS51c2VyQWdlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcyhcImpzZG9tXCIpKVxuICApIHtcbiAgICBjb25zdCByZXBsYXkgPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9IHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fIHx8IFtdO1xuICAgIHJlcGxheS5wdXNoKChuZXdIb29rKSA9PiB7XG4gICAgICBzZXREZXZ0b29sc0hvb2skMShuZXdIb29rLCB0YXJnZXQpO1xuICAgIH0pO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKCFkZXZ0b29scyQxKSB7XG4gICAgICAgIHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fID0gbnVsbDtcbiAgICAgICAgZGV2dG9vbHNOb3RJbnN0YWxsZWQgPSB0cnVlO1xuICAgICAgICBidWZmZXIgPSBbXTtcbiAgICAgIH1cbiAgICB9LCAzZTMpO1xuICB9IGVsc2Uge1xuICAgIGRldnRvb2xzTm90SW5zdGFsbGVkID0gdHJ1ZTtcbiAgICBidWZmZXIgPSBbXTtcbiAgfVxufVxuZnVuY3Rpb24gZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbikge1xuICBlbWl0JDEoXCJhcHA6aW5pdFwiIC8qIEFQUF9JTklUICovLCBhcHAsIHZlcnNpb24sIHtcbiAgICBGcmFnbWVudCxcbiAgICBUZXh0LFxuICAgIENvbW1lbnQsXG4gICAgU3RhdGljXG4gIH0pO1xufVxuZnVuY3Rpb24gZGV2dG9vbHNVbm1vdW50QXBwKGFwcCkge1xuICBlbWl0JDEoXCJhcHA6dW5tb3VudFwiIC8qIEFQUF9VTk1PVU5UICovLCBhcHApO1xufVxuY29uc3QgZGV2dG9vbHNDb21wb25lbnRBZGRlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6YWRkZWRcIiAvKiBDT01QT05FTlRfQURERUQgKi8pO1xuY29uc3QgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDp1cGRhdGVkXCIgLyogQ09NUE9ORU5UX1VQREFURUQgKi8pO1xuY29uc3QgX2RldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXG4gIFwiY29tcG9uZW50OnJlbW92ZWRcIiAvKiBDT01QT05FTlRfUkVNT1ZFRCAqL1xuKTtcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IChjb21wb25lbnQpID0+IHtcbiAgaWYgKGRldnRvb2xzJDEgJiYgdHlwZW9mIGRldnRvb2xzJDEuY2xlYW51cEJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiICYmIC8vIHJlbW92ZSB0aGUgY29tcG9uZW50IGlmIGl0IHdhc24ndCBidWZmZXJlZFxuICAhZGV2dG9vbHMkMS5jbGVhbnVwQnVmZmVyKGNvbXBvbmVudCkpIHtcbiAgICBfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkKGNvbXBvbmVudCk7XG4gIH1cbn07XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKGhvb2spIHtcbiAgcmV0dXJuIChjb21wb25lbnQpID0+IHtcbiAgICBlbWl0JDEoXG4gICAgICBob29rLFxuICAgICAgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLFxuICAgICAgY29tcG9uZW50LnVpZCxcbiAgICAgIGNvbXBvbmVudC5wYXJlbnQgPyBjb21wb25lbnQucGFyZW50LnVpZCA6IHZvaWQgMCxcbiAgICAgIGNvbXBvbmVudFxuICAgICk7XG4gIH07XG59XG5jb25zdCBkZXZ0b29sc1BlcmZTdGFydCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhcInBlcmY6c3RhcnRcIiAvKiBQRVJGT1JNQU5DRV9TVEFSVCAqLyk7XG5jb25zdCBkZXZ0b29sc1BlcmZFbmQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soXCJwZXJmOmVuZFwiIC8qIFBFUkZPUk1BTkNFX0VORCAqLyk7XG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhob29rKSB7XG4gIHJldHVybiAoY29tcG9uZW50LCB0eXBlLCB0aW1lKSA9PiB7XG4gICAgZW1pdCQxKGhvb2ssIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCwgY29tcG9uZW50LnVpZCwgY29tcG9uZW50LCB0eXBlLCB0aW1lKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGRldnRvb2xzQ29tcG9uZW50RW1pdChjb21wb25lbnQsIGV2ZW50LCBwYXJhbXMpIHtcbiAgZW1pdCQxKFxuICAgIFwiY29tcG9uZW50OmVtaXRcIiAvKiBDT01QT05FTlRfRU1JVCAqLyxcbiAgICBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsXG4gICAgY29tcG9uZW50LFxuICAgIGV2ZW50LFxuICAgIHBhcmFtc1xuICApO1xufVxuXG5sZXQgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gbnVsbDtcbmxldCBjdXJyZW50U2NvcGVJZCA9IG51bGw7XG5mdW5jdGlvbiBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3QgcHJldiA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gaW5zdGFuY2U7XG4gIGN1cnJlbnRTY29wZUlkID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5fX3Njb3BlSWQgfHwgbnVsbDtcbiAgcmV0dXJuIHByZXY7XG59XG5mdW5jdGlvbiBwdXNoU2NvcGVJZChpZCkge1xuICBjdXJyZW50U2NvcGVJZCA9IGlkO1xufVxuZnVuY3Rpb24gcG9wU2NvcGVJZCgpIHtcbiAgY3VycmVudFNjb3BlSWQgPSBudWxsO1xufVxuY29uc3Qgd2l0aFNjb3BlSWQgPSAoX2lkKSA9PiB3aXRoQ3R4O1xuZnVuY3Rpb24gd2l0aEN0eChmbiwgY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCBpc05vblNjb3BlZFNsb3QpIHtcbiAgaWYgKCFjdHgpIHJldHVybiBmbjtcbiAgaWYgKGZuLl9uKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG4gIGNvbnN0IHJlbmRlckZuV2l0aENvbnRleHQgPSAoLi4uYXJncykgPT4ge1xuICAgIGlmIChyZW5kZXJGbldpdGhDb250ZXh0Ll9kKSB7XG4gICAgICBzZXRCbG9ja1RyYWNraW5nKC0xKTtcbiAgICB9XG4gICAgY29uc3QgcHJldkluc3RhbmNlID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGN0eCk7XG4gICAgbGV0IHJlcztcbiAgICB0cnkge1xuICAgICAgcmVzID0gZm4oLi4uYXJncyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2SW5zdGFuY2UpO1xuICAgICAgaWYgKHJlbmRlckZuV2l0aENvbnRleHQuX2QpIHtcbiAgICAgICAgc2V0QmxvY2tUcmFja2luZygxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQoY3R4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbiAgcmVuZGVyRm5XaXRoQ29udGV4dC5fbiA9IHRydWU7XG4gIHJlbmRlckZuV2l0aENvbnRleHQuX2MgPSB0cnVlO1xuICByZW5kZXJGbldpdGhDb250ZXh0Ll9kID0gdHJ1ZTtcbiAgcmV0dXJuIHJlbmRlckZuV2l0aENvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lKSB7XG4gIGlmIChpc0J1aWx0SW5EaXJlY3RpdmUobmFtZSkpIHtcbiAgICB3YXJuJDEoXCJEbyBub3QgdXNlIGJ1aWx0LWluIGRpcmVjdGl2ZSBpZHMgYXMgY3VzdG9tIGRpcmVjdGl2ZSBpZDogXCIgKyBuYW1lKTtcbiAgfVxufVxuZnVuY3Rpb24gd2l0aERpcmVjdGl2ZXModm5vZGUsIGRpcmVjdGl2ZXMpIHtcbiAgaWYgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGB3aXRoRGlyZWN0aXZlcyBjYW4gb25seSBiZSB1c2VkIGluc2lkZSByZW5kZXIgZnVuY3Rpb25zLmApO1xuICAgIHJldHVybiB2bm9kZTtcbiAgfVxuICBjb25zdCBpbnN0YW5jZSA9IGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSk7XG4gIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycyB8fCAodm5vZGUuZGlycyA9IFtdKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJlY3RpdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IFtkaXIsIHZhbHVlLCBhcmcsIG1vZGlmaWVycyA9IEVNUFRZX09CSl0gPSBkaXJlY3RpdmVzW2ldO1xuICAgIGlmIChkaXIpIHtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGRpcikpIHtcbiAgICAgICAgZGlyID0ge1xuICAgICAgICAgIG1vdW50ZWQ6IGRpcixcbiAgICAgICAgICB1cGRhdGVkOiBkaXJcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChkaXIuZGVlcCkge1xuICAgICAgICB0cmF2ZXJzZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBiaW5kaW5ncy5wdXNoKHtcbiAgICAgICAgZGlyLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG9sZFZhbHVlOiB2b2lkIDAsXG4gICAgICAgIGFyZyxcbiAgICAgICAgbW9kaWZpZXJzXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgcHJldlZOb2RlLCBpbnN0YW5jZSwgbmFtZSkge1xuICBjb25zdCBiaW5kaW5ncyA9IHZub2RlLmRpcnM7XG4gIGNvbnN0IG9sZEJpbmRpbmdzID0gcHJldlZOb2RlICYmIHByZXZWTm9kZS5kaXJzO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYmluZGluZyA9IGJpbmRpbmdzW2ldO1xuICAgIGlmIChvbGRCaW5kaW5ncykge1xuICAgICAgYmluZGluZy5vbGRWYWx1ZSA9IG9sZEJpbmRpbmdzW2ldLnZhbHVlO1xuICAgIH1cbiAgICBsZXQgaG9vayA9IGJpbmRpbmcuZGlyW25hbWVdO1xuICAgIGlmIChob29rKSB7XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgOCwgW1xuICAgICAgICB2bm9kZS5lbCxcbiAgICAgICAgYmluZGluZyxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIHByZXZWTm9kZVxuICAgICAgXSk7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IFRlbGVwb3J0RW5kS2V5ID0gU3ltYm9sKFwiX3Z0ZVwiKTtcbmNvbnN0IGlzVGVsZXBvcnQgPSAodHlwZSkgPT4gdHlwZS5fX2lzVGVsZXBvcnQ7XG5jb25zdCBpc1RlbGVwb3J0RGlzYWJsZWQgPSAocHJvcHMpID0+IHByb3BzICYmIChwcm9wcy5kaXNhYmxlZCB8fCBwcm9wcy5kaXNhYmxlZCA9PT0gXCJcIik7XG5jb25zdCBpc1RlbGVwb3J0RGVmZXJyZWQgPSAocHJvcHMpID0+IHByb3BzICYmIChwcm9wcy5kZWZlciB8fCBwcm9wcy5kZWZlciA9PT0gXCJcIik7XG5jb25zdCBpc1RhcmdldFNWRyA9ICh0YXJnZXQpID0+IHR5cGVvZiBTVkdFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7XG5jb25zdCBpc1RhcmdldE1hdGhNTCA9ICh0YXJnZXQpID0+IHR5cGVvZiBNYXRoTUxFbGVtZW50ID09PSBcImZ1bmN0aW9uXCIgJiYgdGFyZ2V0IGluc3RhbmNlb2YgTWF0aE1MRWxlbWVudDtcbmNvbnN0IHJlc29sdmVUYXJnZXQgPSAocHJvcHMsIHNlbGVjdCkgPT4ge1xuICBjb25zdCB0YXJnZXRTZWxlY3RvciA9IHByb3BzICYmIHByb3BzLnRvO1xuICBpZiAoaXNTdHJpbmcodGFyZ2V0U2VsZWN0b3IpKSB7XG4gICAgaWYgKCFzZWxlY3QpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgQ3VycmVudCByZW5kZXJlciBkb2VzIG5vdCBzdXBwb3J0IHN0cmluZyB0YXJnZXQgZm9yIFRlbGVwb3J0cy4gKG1pc3NpbmcgcXVlcnlTZWxlY3RvciByZW5kZXJlciBvcHRpb24pYFxuICAgICAgKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBzZWxlY3QodGFyZ2V0U2VsZWN0b3IpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXRhcmdldCAmJiAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYEZhaWxlZCB0byBsb2NhdGUgVGVsZXBvcnQgdGFyZ2V0IHdpdGggc2VsZWN0b3IgXCIke3RhcmdldFNlbGVjdG9yfVwiLiBOb3RlIHRoZSB0YXJnZXQgZWxlbWVudCBtdXN0IGV4aXN0IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQgLSBpLmUuIHRoZSB0YXJnZXQgY2Fubm90IGJlIHJlbmRlcmVkIGJ5IHRoZSBjb21wb25lbnQgaXRzZWxmLCBhbmQgaWRlYWxseSBzaG91bGQgYmUgb3V0c2lkZSBvZiB0aGUgZW50aXJlIFZ1ZSBjb21wb25lbnQgdHJlZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhdGFyZ2V0U2VsZWN0b3IgJiYgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICAgIHdhcm4kMShgSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQ6ICR7dGFyZ2V0U2VsZWN0b3J9YCk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRTZWxlY3RvcjtcbiAgfVxufTtcbmNvbnN0IFRlbGVwb3J0SW1wbCA9IHtcbiAgbmFtZTogXCJUZWxlcG9ydFwiLFxuICBfX2lzVGVsZXBvcnQ6IHRydWUsXG4gIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgaW50ZXJuYWxzKSB7XG4gICAgY29uc3Qge1xuICAgICAgbWM6IG1vdW50Q2hpbGRyZW4sXG4gICAgICBwYzogcGF0Y2hDaGlsZHJlbixcbiAgICAgIHBiYzogcGF0Y2hCbG9ja0NoaWxkcmVuLFxuICAgICAgbzogeyBpbnNlcnQsIHF1ZXJ5U2VsZWN0b3IsIGNyZWF0ZVRleHQsIGNyZWF0ZUNvbW1lbnQgfVxuICAgIH0gPSBpbnRlcm5hbHM7XG4gICAgY29uc3QgZGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQobjIucHJvcHMpO1xuICAgIGxldCB7IHNoYXBlRmxhZywgY2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiB9ID0gbjI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBuMi5lbCA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBjcmVhdGVDb21tZW50KFwidGVsZXBvcnQgc3RhcnRcIikgOiBjcmVhdGVUZXh0KFwiXCIpO1xuICAgICAgY29uc3QgbWFpbkFuY2hvciA9IG4yLmFuY2hvciA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBjcmVhdGVDb21tZW50KFwidGVsZXBvcnQgZW5kXCIpIDogY3JlYXRlVGV4dChcIlwiKTtcbiAgICAgIGluc2VydChwbGFjZWhvbGRlciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgaW5zZXJ0KG1haW5BbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGNvbnN0IG1vdW50ID0gKGNvbnRhaW5lcjIsIGFuY2hvcjIpID0+IHtcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgICAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQuaXNDRSkge1xuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LmNlLl90ZWxlcG9ydFRhcmdldCA9IGNvbnRhaW5lcjI7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgICBhbmNob3IyLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgbW91bnRUb1RhcmdldCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gbjIudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChuMi5wcm9wcywgcXVlcnlTZWxlY3Rvcik7XG4gICAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IHByZXBhcmVBbmNob3IodGFyZ2V0LCBuMiwgY3JlYXRlVGV4dCwgaW5zZXJ0KTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgIGlmIChuYW1lc3BhY2UgIT09IFwic3ZnXCIgJiYgaXNUYXJnZXRTVkcodGFyZ2V0KSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZSAhPT0gXCJtYXRobWxcIiAmJiBpc1RhcmdldE1hdGhNTCh0YXJnZXQpKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgICAgICBtb3VudCh0YXJnZXQsIHRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICB1cGRhdGVDc3NWYXJzKG4yLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWRpc2FibGVkKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgXCJJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiBtb3VudDpcIixcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIGAoJHt0eXBlb2YgdGFyZ2V0fSlgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBtb3VudChjb250YWluZXIsIG1haW5BbmNob3IpO1xuICAgICAgICB1cGRhdGVDc3NWYXJzKG4yLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1RlbGVwb3J0RGVmZXJyZWQobjIucHJvcHMpKSB7XG4gICAgICAgIG4yLmVsLl9faXNNb3VudGVkID0gZmFsc2U7XG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgbW91bnRUb1RhcmdldCgpO1xuICAgICAgICAgIGRlbGV0ZSBuMi5lbC5fX2lzTW91bnRlZDtcbiAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW91bnRUb1RhcmdldCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNUZWxlcG9ydERlZmVycmVkKG4yLnByb3BzKSAmJiBuMS5lbC5fX2lzTW91bnRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICBUZWxlcG9ydEltcGwucHJvY2VzcyhcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIGludGVybmFsc1xuICAgICAgICAgICk7XG4gICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIG4yLnRhcmdldFN0YXJ0ID0gbjEudGFyZ2V0U3RhcnQ7XG4gICAgICBjb25zdCBtYWluQW5jaG9yID0gbjIuYW5jaG9yID0gbjEuYW5jaG9yO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gbjIudGFyZ2V0ID0gbjEudGFyZ2V0O1xuICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gbjIudGFyZ2V0QW5jaG9yID0gbjEudGFyZ2V0QW5jaG9yO1xuICAgICAgY29uc3Qgd2FzRGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQobjEucHJvcHMpO1xuICAgICAgY29uc3QgY3VycmVudENvbnRhaW5lciA9IHdhc0Rpc2FibGVkID8gY29udGFpbmVyIDogdGFyZ2V0O1xuICAgICAgY29uc3QgY3VycmVudEFuY2hvciA9IHdhc0Rpc2FibGVkID8gbWFpbkFuY2hvciA6IHRhcmdldEFuY2hvcjtcbiAgICAgIGlmIChuYW1lc3BhY2UgPT09IFwic3ZnXCIgfHwgaXNUYXJnZXRTVkcodGFyZ2V0KSkge1xuICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgfSBlbHNlIGlmIChuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgfHwgaXNUYXJnZXRNYXRoTUwodGFyZ2V0KSkge1xuICAgICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgICAgfVxuICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBjdXJyZW50Q29udGFpbmVyLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICAgICk7XG4gICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCAhISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSk7XG4gICAgICB9IGVsc2UgaWYgKCFvcHRpbWl6ZWQpIHtcbiAgICAgICAgcGF0Y2hDaGlsZHJlbihcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjdXJyZW50Q29udGFpbmVyLFxuICAgICAgICAgIGN1cnJlbnRBbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBpZiAoIXdhc0Rpc2FibGVkKSB7XG4gICAgICAgICAgbW92ZVRlbGVwb3J0KFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBtYWluQW5jaG9yLFxuICAgICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG4yLnByb3BzICYmIG4xLnByb3BzICYmIG4yLnByb3BzLnRvICE9PSBuMS5wcm9wcy50bykge1xuICAgICAgICAgICAgbjIucHJvcHMudG8gPSBuMS5wcm9wcy50bztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICgobjIucHJvcHMgJiYgbjIucHJvcHMudG8pICE9PSAobjEucHJvcHMgJiYgbjEucHJvcHMudG8pKSB7XG4gICAgICAgICAgY29uc3QgbmV4dFRhcmdldCA9IG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQoXG4gICAgICAgICAgICBuMi5wcm9wcyxcbiAgICAgICAgICAgIHF1ZXJ5U2VsZWN0b3JcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChuZXh0VGFyZ2V0KSB7XG4gICAgICAgICAgICBtb3ZlVGVsZXBvcnQoXG4gICAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgICBuZXh0VGFyZ2V0LFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQgb24gdXBkYXRlOlwiLFxuICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgIGAoJHt0eXBlb2YgdGFyZ2V0fSlgXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh3YXNEaXNhYmxlZCkge1xuICAgICAgICAgIG1vdmVUZWxlcG9ydChcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgdGFyZ2V0QW5jaG9yLFxuICAgICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHVwZGF0ZUNzc1ZhcnMobjIsIGRpc2FibGVkKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZSh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgeyB1bTogdW5tb3VudCwgbzogeyByZW1vdmU6IGhvc3RSZW1vdmUgfSB9LCBkb1JlbW92ZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHNoYXBlRmxhZyxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgYW5jaG9yLFxuICAgICAgdGFyZ2V0U3RhcnQsXG4gICAgICB0YXJnZXRBbmNob3IsXG4gICAgICB0YXJnZXQsXG4gICAgICBwcm9wc1xuICAgIH0gPSB2bm9kZTtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBob3N0UmVtb3ZlKHRhcmdldFN0YXJ0KTtcbiAgICAgIGhvc3RSZW1vdmUodGFyZ2V0QW5jaG9yKTtcbiAgICB9XG4gICAgZG9SZW1vdmUgJiYgaG9zdFJlbW92ZShhbmNob3IpO1xuICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgY29uc3Qgc2hvdWxkUmVtb3ZlID0gZG9SZW1vdmUgfHwgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNob3VsZFJlbW92ZSxcbiAgICAgICAgICAhIWNoaWxkLmR5bmFtaWNDaGlsZHJlblxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbW92ZTogbW92ZVRlbGVwb3J0LFxuICBoeWRyYXRlOiBoeWRyYXRlVGVsZXBvcnRcbn07XG5mdW5jdGlvbiBtb3ZlVGVsZXBvcnQodm5vZGUsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCB7IG86IHsgaW5zZXJ0IH0sIG06IG1vdmUgfSwgbW92ZVR5cGUgPSAyKSB7XG4gIGlmIChtb3ZlVHlwZSA9PT0gMCkge1xuICAgIGluc2VydCh2bm9kZS50YXJnZXRBbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxuICBjb25zdCB7IGVsLCBhbmNob3IsIHNoYXBlRmxhZywgY2hpbGRyZW4sIHByb3BzIH0gPSB2bm9kZTtcbiAgY29uc3QgaXNSZW9yZGVyID0gbW92ZVR5cGUgPT09IDI7XG4gIGlmIChpc1Jlb3JkZXIpIHtcbiAgICBpbnNlcnQoZWwsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxuICBpZiAoIWlzUmVvcmRlciB8fCBpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1vdmUoXG4gICAgICAgICAgY2hpbGRyZW5baV0sXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIHBhcmVudEFuY2hvcixcbiAgICAgICAgICAyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChpc1Jlb3JkZXIpIHtcbiAgICBpbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XG4gIH1cbn1cbmZ1bmN0aW9uIGh5ZHJhdGVUZWxlcG9ydChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHtcbiAgbzogeyBuZXh0U2libGluZywgcGFyZW50Tm9kZSwgcXVlcnlTZWxlY3RvciwgaW5zZXJ0LCBjcmVhdGVUZXh0IH1cbn0sIGh5ZHJhdGVDaGlsZHJlbikge1xuICBmdW5jdGlvbiBoeWRyYXRlRGlzYWJsZWRUZWxlcG9ydChub2RlMiwgdm5vZGUyLCB0YXJnZXRTdGFydCwgdGFyZ2V0QW5jaG9yKSB7XG4gICAgdm5vZGUyLmFuY2hvciA9IGh5ZHJhdGVDaGlsZHJlbihcbiAgICAgIG5leHRTaWJsaW5nKG5vZGUyKSxcbiAgICAgIHZub2RlMixcbiAgICAgIHBhcmVudE5vZGUobm9kZTIpLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBzbG90U2NvcGVJZHMsXG4gICAgICBvcHRpbWl6ZWRcbiAgICApO1xuICAgIHZub2RlMi50YXJnZXRTdGFydCA9IHRhcmdldFN0YXJ0O1xuICAgIHZub2RlMi50YXJnZXRBbmNob3IgPSB0YXJnZXRBbmNob3I7XG4gIH1cbiAgY29uc3QgdGFyZ2V0ID0gdm5vZGUudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChcbiAgICB2bm9kZS5wcm9wcyxcbiAgICBxdWVyeVNlbGVjdG9yXG4gICk7XG4gIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKHZub2RlLnByb3BzKTtcbiAgaWYgKHRhcmdldCkge1xuICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXQuX2xwYSB8fCB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBoeWRyYXRlRGlzYWJsZWRUZWxlcG9ydChcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHRhcmdldE5vZGUsXG4gICAgICAgICAgdGFyZ2V0Tm9kZSAmJiBuZXh0U2libGluZyh0YXJnZXROb2RlKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIGxldCB0YXJnZXRBbmNob3IgPSB0YXJnZXROb2RlO1xuICAgICAgICB3aGlsZSAodGFyZ2V0QW5jaG9yKSB7XG4gICAgICAgICAgaWYgKHRhcmdldEFuY2hvciAmJiB0YXJnZXRBbmNob3Iubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXRBbmNob3IuZGF0YSA9PT0gXCJ0ZWxlcG9ydCBzdGFydCBhbmNob3JcIikge1xuICAgICAgICAgICAgICB2bm9kZS50YXJnZXRTdGFydCA9IHRhcmdldEFuY2hvcjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0QW5jaG9yLmRhdGEgPT09IFwidGVsZXBvcnQgYW5jaG9yXCIpIHtcbiAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0QW5jaG9yO1xuICAgICAgICAgICAgICB0YXJnZXQuX2xwYSA9IHZub2RlLnRhcmdldEFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS50YXJnZXRBbmNob3IpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGFyZ2V0QW5jaG9yID0gbmV4dFNpYmxpbmcodGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZub2RlLnRhcmdldEFuY2hvcikge1xuICAgICAgICAgIHByZXBhcmVBbmNob3IodGFyZ2V0LCB2bm9kZSwgY3JlYXRlVGV4dCwgaW5zZXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgdGFyZ2V0Tm9kZSAmJiBuZXh0U2libGluZyh0YXJnZXROb2RlKSxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlQ3NzVmFycyh2bm9kZSwgZGlzYWJsZWQpO1xuICB9IGVsc2UgaWYgKGRpc2FibGVkKSB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBoeWRyYXRlRGlzYWJsZWRUZWxlcG9ydChub2RlLCB2bm9kZSwgbm9kZSwgbmV4dFNpYmxpbmcobm9kZSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm5vZGUuYW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLmFuY2hvcik7XG59XG5jb25zdCBUZWxlcG9ydCA9IFRlbGVwb3J0SW1wbDtcbmZ1bmN0aW9uIHVwZGF0ZUNzc1ZhcnModm5vZGUsIGlzRGlzYWJsZWQpIHtcbiAgY29uc3QgY3R4ID0gdm5vZGUuY3R4O1xuICBpZiAoY3R4ICYmIGN0eC51dCkge1xuICAgIGxldCBub2RlLCBhbmNob3I7XG4gICAgaWYgKGlzRGlzYWJsZWQpIHtcbiAgICAgIG5vZGUgPSB2bm9kZS5lbDtcbiAgICAgIGFuY2hvciA9IHZub2RlLmFuY2hvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZSA9IHZub2RlLnRhcmdldFN0YXJ0O1xuICAgICAgYW5jaG9yID0gdm5vZGUudGFyZ2V0QW5jaG9yO1xuICAgIH1cbiAgICB3aGlsZSAobm9kZSAmJiBub2RlICE9PSBhbmNob3IpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSBub2RlLnNldEF0dHJpYnV0ZShcImRhdGEtdi1vd25lclwiLCBjdHgudWlkKTtcbiAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICBjdHgudXQoKTtcbiAgfVxufVxuZnVuY3Rpb24gcHJlcGFyZUFuY2hvcih0YXJnZXQsIHZub2RlLCBjcmVhdGVUZXh0LCBpbnNlcnQpIHtcbiAgY29uc3QgdGFyZ2V0U3RhcnQgPSB2bm9kZS50YXJnZXRTdGFydCA9IGNyZWF0ZVRleHQoXCJcIik7XG4gIGNvbnN0IHRhcmdldEFuY2hvciA9IHZub2RlLnRhcmdldEFuY2hvciA9IGNyZWF0ZVRleHQoXCJcIik7XG4gIHRhcmdldFN0YXJ0W1RlbGVwb3J0RW5kS2V5XSA9IHRhcmdldEFuY2hvcjtcbiAgaWYgKHRhcmdldCkge1xuICAgIGluc2VydCh0YXJnZXRTdGFydCwgdGFyZ2V0KTtcbiAgICBpbnNlcnQodGFyZ2V0QW5jaG9yLCB0YXJnZXQpO1xuICB9XG4gIHJldHVybiB0YXJnZXRBbmNob3I7XG59XG5cbmNvbnN0IGxlYXZlQ2JLZXkgPSBTeW1ib2woXCJfbGVhdmVDYlwiKTtcbmNvbnN0IGVudGVyQ2JLZXkgPSBTeW1ib2woXCJfZW50ZXJDYlwiKTtcbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb25TdGF0ZSgpIHtcbiAgY29uc3Qgc3RhdGUgPSB7XG4gICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICBpc0xlYXZpbmc6IGZhbHNlLFxuICAgIGlzVW5tb3VudGluZzogZmFsc2UsXG4gICAgbGVhdmluZ1ZOb2RlczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuICB9O1xuICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgIHN0YXRlLmlzTW91bnRlZCA9IHRydWU7XG4gIH0pO1xuICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgIHN0YXRlLmlzVW5tb3VudGluZyA9IHRydWU7XG4gIH0pO1xuICByZXR1cm4gc3RhdGU7XG59XG5jb25zdCBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvciA9IFtGdW5jdGlvbiwgQXJyYXldO1xuY29uc3QgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSB7XG4gIG1vZGU6IFN0cmluZyxcbiAgYXBwZWFyOiBCb29sZWFuLFxuICBwZXJzaXN0ZWQ6IEJvb2xlYW4sXG4gIC8vIGVudGVyXG4gIG9uQmVmb3JlRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BZnRlckVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25FbnRlckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIC8vIGxlYXZlXG4gIG9uQmVmb3JlTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BZnRlckxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25MZWF2ZUNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIC8vIGFwcGVhclxuICBvbkJlZm9yZUFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BZnRlckFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQXBwZWFyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvclxufTtcbmNvbnN0IHJlY3Vyc2l2ZUdldFN1YnRyZWUgPSAoaW5zdGFuY2UpID0+IHtcbiAgY29uc3Qgc3ViVHJlZSA9IGluc3RhbmNlLnN1YlRyZWU7XG4gIHJldHVybiBzdWJUcmVlLmNvbXBvbmVudCA/IHJlY3Vyc2l2ZUdldFN1YnRyZWUoc3ViVHJlZS5jb21wb25lbnQpIDogc3ViVHJlZTtcbn07XG5jb25zdCBCYXNlVHJhbnNpdGlvbkltcGwgPSB7XG4gIG5hbWU6IGBCYXNlVHJhbnNpdGlvbmAsXG4gIHByb3BzOiBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCksIHRydWUpO1xuICAgICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkID0gZmluZE5vbkNvbW1lbnRDaGlsZChjaGlsZHJlbik7XG4gICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICAgIGNvbnN0IHsgbW9kZSB9ID0gcmF3UHJvcHM7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBtb2RlICYmIG1vZGUgIT09IFwiaW4tb3V0XCIgJiYgbW9kZSAhPT0gXCJvdXQtaW5cIiAmJiBtb2RlICE9PSBcImRlZmF1bHRcIikge1xuICAgICAgICB3YXJuJDEoYGludmFsaWQgPHRyYW5zaXRpb24+IG1vZGU6ICR7bW9kZX1gKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5pc0xlYXZpbmcpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5uZXJDaGlsZCA9IGdldElubmVyQ2hpbGQkMShjaGlsZCk7XG4gICAgICBpZiAoIWlubmVyQ2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgfVxuICAgICAgbGV0IGVudGVySG9va3MgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICBpbm5lckNoaWxkLFxuICAgICAgICByYXdQcm9wcyxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICAvLyAjMTEwNjEsIGVuc3VyZSBlbnRlckhvb2tzIGlzIGZyZXNoIGFmdGVyIGNsb25lXG4gICAgICAgIChob29rcykgPT4gZW50ZXJIb29rcyA9IGhvb2tzXG4gICAgICApO1xuICAgICAgaWYgKGlubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoaW5uZXJDaGlsZCwgZW50ZXJIb29rcyk7XG4gICAgICB9XG4gICAgICBsZXQgb2xkSW5uZXJDaGlsZCA9IGluc3RhbmNlLnN1YlRyZWUgJiYgZ2V0SW5uZXJDaGlsZCQxKGluc3RhbmNlLnN1YlRyZWUpO1xuICAgICAgaWYgKG9sZElubmVyQ2hpbGQgJiYgb2xkSW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50ICYmICFpc1NhbWVWTm9kZVR5cGUob2xkSW5uZXJDaGlsZCwgaW5uZXJDaGlsZCkgJiYgcmVjdXJzaXZlR2V0U3VidHJlZShpbnN0YW5jZSkudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBsZXQgbGVhdmluZ0hvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICBvbGRJbm5lckNoaWxkLFxuICAgICAgICAgIHJhd1Byb3BzLFxuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICk7XG4gICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhvbGRJbm5lckNoaWxkLCBsZWF2aW5nSG9va3MpO1xuICAgICAgICBpZiAobW9kZSA9PT0gXCJvdXQtaW5cIiAmJiBpbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSB0cnVlO1xuICAgICAgICAgIGxlYXZpbmdIb29rcy5hZnRlckxlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIShpbnN0YW5jZS5qb2IuZmxhZ3MgJiA4KSkge1xuICAgICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSBsZWF2aW5nSG9va3MuYWZ0ZXJMZWF2ZTtcbiAgICAgICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJpbi1vdXRcIiAmJiBpbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgICBsZWF2aW5nSG9va3MuZGVsYXlMZWF2ZSA9IChlbCwgZWFybHlSZW1vdmUsIGRlbGF5ZWRMZWF2ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShcbiAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgIG9sZElubmVyQ2hpbGRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVbU3RyaW5nKG9sZElubmVyQ2hpbGQua2V5KV0gPSBvbGRJbm5lckNoaWxkO1xuICAgICAgICAgICAgZWxbbGVhdmVDYktleV0gPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGVhcmx5UmVtb3ZlKCk7XG4gICAgICAgICAgICAgIGVsW2xlYXZlQ2JLZXldID0gdm9pZCAwO1xuICAgICAgICAgICAgICBkZWxldGUgZW50ZXJIb29rcy5kZWxheWVkTGVhdmU7XG4gICAgICAgICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZW50ZXJIb29rcy5kZWxheWVkTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGRlbGF5ZWRMZWF2ZSgpO1xuICAgICAgICAgICAgICBkZWxldGUgZW50ZXJIb29rcy5kZWxheWVkTGVhdmU7XG4gICAgICAgICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2xkSW5uZXJDaGlsZCA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvbGRJbm5lckNoaWxkKSB7XG4gICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcbiAgfVxufTtcbmZ1bmN0aW9uIGZpbmROb25Db21tZW50Q2hpbGQoY2hpbGRyZW4pIHtcbiAgbGV0IGNoaWxkID0gY2hpbGRyZW5bMF07XG4gIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgbGV0IGhhc0ZvdW5kID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBjIG9mIGNoaWxkcmVuKSB7XG4gICAgICBpZiAoYy50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGhhc0ZvdW5kKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgXCI8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50IG9yIGNvbXBvbmVudC4gVXNlIDx0cmFuc2l0aW9uLWdyb3VwPiBmb3IgbGlzdHMuXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkID0gYztcbiAgICAgICAgaGFzRm91bmQgPSB0cnVlO1xuICAgICAgICBpZiAoISEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY2hpbGQ7XG59XG5jb25zdCBCYXNlVHJhbnNpdGlvbiA9IEJhc2VUcmFuc2l0aW9uSW1wbDtcbmZ1bmN0aW9uIGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKSB7XG4gIGNvbnN0IHsgbGVhdmluZ1ZOb2RlcyB9ID0gc3RhdGU7XG4gIGxldCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBsZWF2aW5nVk5vZGVzLmdldCh2bm9kZS50eXBlKTtcbiAgaWYgKCFsZWF2aW5nVk5vZGVzQ2FjaGUpIHtcbiAgICBsZWF2aW5nVk5vZGVzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBsZWF2aW5nVk5vZGVzLnNldCh2bm9kZS50eXBlLCBsZWF2aW5nVk5vZGVzQ2FjaGUpO1xuICB9XG4gIHJldHVybiBsZWF2aW5nVk5vZGVzQ2FjaGU7XG59XG5mdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKHZub2RlLCBwcm9wcywgc3RhdGUsIGluc3RhbmNlLCBwb3N0Q2xvbmUpIHtcbiAgY29uc3Qge1xuICAgIGFwcGVhcixcbiAgICBtb2RlLFxuICAgIHBlcnNpc3RlZCA9IGZhbHNlLFxuICAgIG9uQmVmb3JlRW50ZXIsXG4gICAgb25FbnRlcixcbiAgICBvbkFmdGVyRW50ZXIsXG4gICAgb25FbnRlckNhbmNlbGxlZCxcbiAgICBvbkJlZm9yZUxlYXZlLFxuICAgIG9uTGVhdmUsXG4gICAgb25BZnRlckxlYXZlLFxuICAgIG9uTGVhdmVDYW5jZWxsZWQsXG4gICAgb25CZWZvcmVBcHBlYXIsXG4gICAgb25BcHBlYXIsXG4gICAgb25BZnRlckFwcGVhcixcbiAgICBvbkFwcGVhckNhbmNlbGxlZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xuICBjb25zdCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSk7XG4gIGNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcbiAgICBob29rICYmIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgaG9vayxcbiAgICAgIGluc3RhbmNlLFxuICAgICAgOSxcbiAgICAgIGFyZ3NcbiAgICApO1xuICB9O1xuICBjb25zdCBjYWxsQXN5bmNIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcbiAgICBjb25zdCBkb25lID0gYXJnc1sxXTtcbiAgICBjYWxsSG9vayhob29rLCBhcmdzKTtcbiAgICBpZiAoaXNBcnJheShob29rKSkge1xuICAgICAgaWYgKGhvb2suZXZlcnkoKGhvb2syKSA9PiBob29rMi5sZW5ndGggPD0gMSkpIGRvbmUoKTtcbiAgICB9IGVsc2UgaWYgKGhvb2subGVuZ3RoIDw9IDEpIHtcbiAgICAgIGRvbmUoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhvb2tzID0ge1xuICAgIG1vZGUsXG4gICAgcGVyc2lzdGVkLFxuICAgIGJlZm9yZUVudGVyKGVsKSB7XG4gICAgICBsZXQgaG9vayA9IG9uQmVmb3JlRW50ZXI7XG4gICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xuICAgICAgICBpZiAoYXBwZWFyKSB7XG4gICAgICAgICAgaG9vayA9IG9uQmVmb3JlQXBwZWFyIHx8IG9uQmVmb3JlRW50ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZWxbbGVhdmVDYktleV0pIHtcbiAgICAgICAgZWxbbGVhdmVDYktleV0oXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICAgIC8qIGNhbmNlbGxlZCAqL1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgbGVhdmluZ1ZOb2RlID0gbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV07XG4gICAgICBpZiAobGVhdmluZ1ZOb2RlICYmIGlzU2FtZVZOb2RlVHlwZSh2bm9kZSwgbGVhdmluZ1ZOb2RlKSAmJiBsZWF2aW5nVk5vZGUuZWxbbGVhdmVDYktleV0pIHtcbiAgICAgICAgbGVhdmluZ1ZOb2RlLmVsW2xlYXZlQ2JLZXldKCk7XG4gICAgICB9XG4gICAgICBjYWxsSG9vayhob29rLCBbZWxdKTtcbiAgICB9LFxuICAgIGVudGVyKGVsKSB7XG4gICAgICBsZXQgaG9vayA9IG9uRW50ZXI7XG4gICAgICBsZXQgYWZ0ZXJIb29rID0gb25BZnRlckVudGVyO1xuICAgICAgbGV0IGNhbmNlbEhvb2sgPSBvbkVudGVyQ2FuY2VsbGVkO1xuICAgICAgaWYgKCFzdGF0ZS5pc01vdW50ZWQpIHtcbiAgICAgICAgaWYgKGFwcGVhcikge1xuICAgICAgICAgIGhvb2sgPSBvbkFwcGVhciB8fCBvbkVudGVyO1xuICAgICAgICAgIGFmdGVySG9vayA9IG9uQWZ0ZXJBcHBlYXIgfHwgb25BZnRlckVudGVyO1xuICAgICAgICAgIGNhbmNlbEhvb2sgPSBvbkFwcGVhckNhbmNlbGxlZCB8fCBvbkVudGVyQ2FuY2VsbGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgY29uc3QgZG9uZSA9IGVsW2VudGVyQ2JLZXldID0gKGNhbmNlbGxlZCkgPT4ge1xuICAgICAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIGlmIChjYW5jZWxsZWQpIHtcbiAgICAgICAgICBjYWxsSG9vayhjYW5jZWxIb29rLCBbZWxdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsSG9vayhhZnRlckhvb2ssIFtlbF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChob29rcy5kZWxheWVkTGVhdmUpIHtcbiAgICAgICAgICBob29rcy5kZWxheWVkTGVhdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbFtlbnRlckNiS2V5XSA9IHZvaWQgMDtcbiAgICAgIH07XG4gICAgICBpZiAoaG9vaykge1xuICAgICAgICBjYWxsQXN5bmNIb29rKGhvb2ssIFtlbCwgZG9uZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbGVhdmUoZWwsIHJlbW92ZSkge1xuICAgICAgY29uc3Qga2V5MiA9IFN0cmluZyh2bm9kZS5rZXkpO1xuICAgICAgaWYgKGVsW2VudGVyQ2JLZXldKSB7XG4gICAgICAgIGVsW2VudGVyQ2JLZXldKFxuICAgICAgICAgIHRydWVcbiAgICAgICAgICAvKiBjYW5jZWxsZWQgKi9cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5pc1VubW91bnRpbmcpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgY2FsbEhvb2sob25CZWZvcmVMZWF2ZSwgW2VsXSk7XG4gICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gICAgICBjb25zdCBkb25lID0gZWxbbGVhdmVDYktleV0gPSAoY2FuY2VsbGVkKSA9PiB7XG4gICAgICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgcmVtb3ZlKCk7XG4gICAgICAgIGlmIChjYW5jZWxsZWQpIHtcbiAgICAgICAgICBjYWxsSG9vayhvbkxlYXZlQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsSG9vayhvbkFmdGVyTGVhdmUsIFtlbF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsW2xlYXZlQ2JLZXldID0gdm9pZCAwO1xuICAgICAgICBpZiAobGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdID09PSB2bm9kZSkge1xuICAgICAgICAgIGRlbGV0ZSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5Ml07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5Ml0gPSB2bm9kZTtcbiAgICAgIGlmIChvbkxlYXZlKSB7XG4gICAgICAgIGNhbGxBc3luY0hvb2sob25MZWF2ZSwgW2VsLCBkb25lXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbG9uZSh2bm9kZTIpIHtcbiAgICAgIGNvbnN0IGhvb2tzMiA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgIHZub2RlMixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgcG9zdENsb25lXG4gICAgICApO1xuICAgICAgaWYgKHBvc3RDbG9uZSkgcG9zdENsb25lKGhvb2tzMik7XG4gICAgICByZXR1cm4gaG9va3MyO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGhvb2tzO1xufVxuZnVuY3Rpb24gZW1wdHlQbGFjZWhvbGRlcih2bm9kZSkge1xuICBpZiAoaXNLZWVwQWxpdmUodm5vZGUpKSB7XG4gICAgdm5vZGUgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICB2bm9kZS5jaGlsZHJlbiA9IG51bGw7XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG59XG5mdW5jdGlvbiBnZXRJbm5lckNoaWxkJDEodm5vZGUpIHtcbiAgaWYgKCFpc0tlZXBBbGl2ZSh2bm9kZSkpIHtcbiAgICBpZiAoaXNUZWxlcG9ydCh2bm9kZS50eXBlKSAmJiB2bm9kZS5jaGlsZHJlbikge1xuICAgICAgcmV0dXJuIGZpbmROb25Db21tZW50Q2hpbGQodm5vZGUuY2hpbGRyZW4pO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cbiAgaWYgKHZub2RlLmNvbXBvbmVudCkge1xuICAgIHJldHVybiB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcbiAgfVxuICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICBpZiAoY2hpbGRyZW4pIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDMyICYmIGlzRnVuY3Rpb24oY2hpbGRyZW4uZGVmYXVsdCkpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbi5kZWZhdWx0KCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIGhvb2tzKSB7XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2ICYmIHZub2RlLmNvbXBvbmVudCkge1xuICAgIHZub2RlLnRyYW5zaXRpb24gPSBob29rcztcbiAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGhvb2tzKTtcbiAgfSBlbHNlIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICB2bm9kZS5zc0NvbnRlbnQudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzQ29udGVudCk7XG4gICAgdm5vZGUuc3NGYWxsYmFjay50cmFuc2l0aW9uID0gaG9va3MuY2xvbmUodm5vZGUuc3NGYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgdm5vZGUudHJhbnNpdGlvbiA9IGhvb2tzO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGRyZW4sIGtlZXBDb21tZW50ID0gZmFsc2UsIHBhcmVudEtleSkge1xuICBsZXQgcmV0ID0gW107XG4gIGxldCBrZXllZEZyYWdtZW50Q291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgY29uc3Qga2V5ID0gcGFyZW50S2V5ID09IG51bGwgPyBjaGlsZC5rZXkgOiBTdHJpbmcocGFyZW50S2V5KSArIFN0cmluZyhjaGlsZC5rZXkgIT0gbnVsbCA/IGNoaWxkLmtleSA6IGkpO1xuICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaWYgKGNoaWxkLnBhdGNoRmxhZyAmIDEyOCkga2V5ZWRGcmFnbWVudENvdW50Kys7XG4gICAgICByZXQgPSByZXQuY29uY2F0KFxuICAgICAgICBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGQuY2hpbGRyZW4sIGtlZXBDb21tZW50LCBrZXkpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoa2VlcENvbW1lbnQgfHwgY2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgcmV0LnB1c2goa2V5ICE9IG51bGwgPyBjbG9uZVZOb2RlKGNoaWxkLCB7IGtleSB9KSA6IGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgaWYgKGtleWVkRnJhZ21lbnRDb3VudCA+IDEpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJldC5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0W2ldLnBhdGNoRmxhZyA9IC0yO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMsIGV4dHJhT3B0aW9ucykge1xuICByZXR1cm4gaXNGdW5jdGlvbihvcHRpb25zKSA/IChcbiAgICAvLyAjODIzNjogZXh0ZW5kIGNhbGwgYW5kIG9wdGlvbnMubmFtZSBhY2Nlc3MgYXJlIGNvbnNpZGVyZWQgc2lkZS1lZmZlY3RzXG4gICAgLy8gYnkgUm9sbHVwLCBzbyB3ZSBoYXZlIHRvIHdyYXAgaXQgaW4gYSBwdXJlLWFubm90YXRlZCBJSUZFLlxuICAgIC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZXh0ZW5kKHsgbmFtZTogb3B0aW9ucy5uYW1lIH0sIGV4dHJhT3B0aW9ucywgeyBzZXR1cDogb3B0aW9ucyB9KSkoKVxuICApIDogb3B0aW9ucztcbn1cblxuZnVuY3Rpb24gdXNlSWQoKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKGkpIHtcbiAgICByZXR1cm4gKGkuYXBwQ29udGV4dC5jb25maWcuaWRQcmVmaXggfHwgXCJ2XCIpICsgXCItXCIgKyBpLmlkc1swXSArIGkuaWRzWzFdKys7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGB1c2VJZCgpIGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLmBcbiAgICApO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuZnVuY3Rpb24gbWFya0FzeW5jQm91bmRhcnkoaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UuaWRzID0gW2luc3RhbmNlLmlkc1swXSArIGluc3RhbmNlLmlkc1syXSsrICsgXCItXCIsIDAsIDBdO1xufVxuXG5jb25zdCBrbm93blRlbXBsYXRlUmVmcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuZnVuY3Rpb24gdXNlVGVtcGxhdGVSZWYoa2V5KSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgY29uc3QgciA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGlmIChpKSB7XG4gICAgY29uc3QgcmVmcyA9IGkucmVmcyA9PT0gRU1QVFlfT0JKID8gaS5yZWZzID0ge30gOiBpLnJlZnM7XG4gICAgbGV0IGRlc2M7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgKGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJlZnMsIGtleSkpICYmICFkZXNjLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgd2FybiQxKGB1c2VUZW1wbGF0ZVJlZignJHtrZXl9JykgYWxyZWFkeSBleGlzdHMuYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWZzLCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiByLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2YWwpID0+IHIudmFsdWUgPSB2YWxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHVzZVRlbXBsYXRlUmVmKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguYFxuICAgICk7XG4gIH1cbiAgY29uc3QgcmV0ID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHJlYWRvbmx5KHIpIDogcjtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBrbm93blRlbXBsYXRlUmVmcy5hZGQocmV0KTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5jb25zdCBwZW5kaW5nU2V0UmVmTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBzZXRSZWYocmF3UmVmLCBvbGRSYXdSZWYsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgaXNVbm1vdW50ID0gZmFsc2UpIHtcbiAgaWYgKGlzQXJyYXkocmF3UmVmKSkge1xuICAgIHJhd1JlZi5mb3JFYWNoKFxuICAgICAgKHIsIGkpID0+IHNldFJlZihcbiAgICAgICAgcixcbiAgICAgICAgb2xkUmF3UmVmICYmIChpc0FycmF5KG9sZFJhd1JlZikgPyBvbGRSYXdSZWZbaV0gOiBvbGRSYXdSZWYpLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIGlzVW5tb3VudFxuICAgICAgKVxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIWlzVW5tb3VudCkge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA1MTIgJiYgdm5vZGUudHlwZS5fX2FzeW5jUmVzb2x2ZWQgJiYgdm5vZGUuY29tcG9uZW50LnN1YlRyZWUuY29tcG9uZW50KSB7XG4gICAgICBzZXRSZWYocmF3UmVmLCBvbGRSYXdSZWYsIHBhcmVudFN1c3BlbnNlLCB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCByZWZWYWx1ZSA9IHZub2RlLnNoYXBlRmxhZyAmIDQgPyBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSh2bm9kZS5jb21wb25lbnQpIDogdm5vZGUuZWw7XG4gIGNvbnN0IHZhbHVlID0gaXNVbm1vdW50ID8gbnVsbCA6IHJlZlZhbHVlO1xuICBjb25zdCB7IGk6IG93bmVyLCByOiByZWYgfSA9IHJhd1JlZjtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIW93bmVyKSB7XG4gICAgd2FybiQxKFxuICAgICAgYE1pc3NpbmcgcmVmIG93bmVyIGNvbnRleHQuIHJlZiBjYW5ub3QgYmUgdXNlZCBvbiBob2lzdGVkIHZub2Rlcy4gQSB2bm9kZSB3aXRoIHJlZiBtdXN0IGJlIGNyZWF0ZWQgaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24uYFxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG9sZFJlZiA9IG9sZFJhd1JlZiAmJiBvbGRSYXdSZWYucjtcbiAgY29uc3QgcmVmcyA9IG93bmVyLnJlZnMgPT09IEVNUFRZX09CSiA/IG93bmVyLnJlZnMgPSB7fSA6IG93bmVyLnJlZnM7XG4gIGNvbnN0IHNldHVwU3RhdGUgPSBvd25lci5zZXR1cFN0YXRlO1xuICBjb25zdCByYXdTZXR1cFN0YXRlID0gdG9SYXcoc2V0dXBTdGF0ZSk7XG4gIGNvbnN0IGNhblNldFNldHVwUmVmID0gc2V0dXBTdGF0ZSA9PT0gRU1QVFlfT0JKID8gTk8gOiAoa2V5KSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGlmIChoYXNPd24ocmF3U2V0dXBTdGF0ZSwga2V5KSAmJiAhaXNSZWYocmF3U2V0dXBTdGF0ZVtrZXldKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFRlbXBsYXRlIHJlZiBcIiR7a2V5fVwiIHVzZWQgb24gYSBub24tcmVmIHZhbHVlLiBJdCB3aWxsIG5vdCB3b3JrIGluIHRoZSBwcm9kdWN0aW9uIGJ1aWxkLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChrbm93blRlbXBsYXRlUmVmcy5oYXMocmF3U2V0dXBTdGF0ZVtrZXldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNPd24ocmF3U2V0dXBTdGF0ZSwga2V5KTtcbiAgfTtcbiAgY29uc3QgY2FuU2V0UmVmID0gKHJlZjIpID0+IHtcbiAgICByZXR1cm4gISEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgIWtub3duVGVtcGxhdGVSZWZzLmhhcyhyZWYyKTtcbiAgfTtcbiAgaWYgKG9sZFJlZiAhPSBudWxsICYmIG9sZFJlZiAhPT0gcmVmKSB7XG4gICAgaW52YWxpZGF0ZVBlbmRpbmdTZXRSZWYob2xkUmF3UmVmKTtcbiAgICBpZiAoaXNTdHJpbmcob2xkUmVmKSkge1xuICAgICAgcmVmc1tvbGRSZWZdID0gbnVsbDtcbiAgICAgIGlmIChjYW5TZXRTZXR1cFJlZihvbGRSZWYpKSB7XG4gICAgICAgIHNldHVwU3RhdGVbb2xkUmVmXSA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1JlZihvbGRSZWYpKSB7XG4gICAgICBpZiAoY2FuU2V0UmVmKG9sZFJlZikpIHtcbiAgICAgICAgb2xkUmVmLnZhbHVlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9sZFJhd1JlZkF0b20gPSBvbGRSYXdSZWY7XG4gICAgICBpZiAob2xkUmF3UmVmQXRvbS5rKSByZWZzW29sZFJhd1JlZkF0b20ua10gPSBudWxsO1xuICAgIH1cbiAgfVxuICBpZiAoaXNGdW5jdGlvbihyZWYpKSB7XG4gICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKHJlZiwgb3duZXIsIDEyLCBbdmFsdWUsIHJlZnNdKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBfaXNTdHJpbmcgPSBpc1N0cmluZyhyZWYpO1xuICAgIGNvbnN0IF9pc1JlZiA9IGlzUmVmKHJlZik7XG4gICAgaWYgKF9pc1N0cmluZyB8fCBfaXNSZWYpIHtcbiAgICAgIGNvbnN0IGRvU2V0ID0gKCkgPT4ge1xuICAgICAgICBpZiAocmF3UmVmLmYpIHtcbiAgICAgICAgICBjb25zdCBleGlzdGluZyA9IF9pc1N0cmluZyA/IGNhblNldFNldHVwUmVmKHJlZikgPyBzZXR1cFN0YXRlW3JlZl0gOiByZWZzW3JlZl0gOiBjYW5TZXRSZWYocmVmKSB8fCAhcmF3UmVmLmsgPyByZWYudmFsdWUgOiByZWZzW3Jhd1JlZi5rXTtcbiAgICAgICAgICBpZiAoaXNVbm1vdW50KSB7XG4gICAgICAgICAgICBpc0FycmF5KGV4aXN0aW5nKSAmJiByZW1vdmUoZXhpc3RpbmcsIHJlZlZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpc0FycmF5KGV4aXN0aW5nKSkge1xuICAgICAgICAgICAgICBpZiAoX2lzU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVmc1tyZWZdID0gW3JlZlZhbHVlXTtcbiAgICAgICAgICAgICAgICBpZiAoY2FuU2V0U2V0dXBSZWYocmVmKSkge1xuICAgICAgICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gcmVmc1tyZWZdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWYWwgPSBbcmVmVmFsdWVdO1xuICAgICAgICAgICAgICAgIGlmIChjYW5TZXRSZWYocmVmKSkge1xuICAgICAgICAgICAgICAgICAgcmVmLnZhbHVlID0gbmV3VmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmF3UmVmLmspIHJlZnNbcmF3UmVmLmtdID0gbmV3VmFsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFleGlzdGluZy5pbmNsdWRlcyhyZWZWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgZXhpc3RpbmcucHVzaChyZWZWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKF9pc1N0cmluZykge1xuICAgICAgICAgIHJlZnNbcmVmXSA9IHZhbHVlO1xuICAgICAgICAgIGlmIChjYW5TZXRTZXR1cFJlZihyZWYpKSB7XG4gICAgICAgICAgICBzZXR1cFN0YXRlW3JlZl0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoX2lzUmVmKSB7XG4gICAgICAgICAgaWYgKGNhblNldFJlZihyZWYpKSB7XG4gICAgICAgICAgICByZWYudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJhd1JlZi5rKSByZWZzW3Jhd1JlZi5rXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJJbnZhbGlkIHRlbXBsYXRlIHJlZiB0eXBlOlwiLCByZWYsIGAoJHt0eXBlb2YgcmVmfSlgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBjb25zdCBqb2IgPSAoKSA9PiB7XG4gICAgICAgICAgZG9TZXQoKTtcbiAgICAgICAgICBwZW5kaW5nU2V0UmVmTWFwLmRlbGV0ZShyYXdSZWYpO1xuICAgICAgICB9O1xuICAgICAgICBqb2IuaWQgPSAtMTtcbiAgICAgICAgcGVuZGluZ1NldFJlZk1hcC5zZXQocmF3UmVmLCBqb2IpO1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3Qoam9iLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZhbGlkYXRlUGVuZGluZ1NldFJlZihyYXdSZWYpO1xuICAgICAgICBkb1NldCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKFwiSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTpcIiwgcmVmLCBgKCR7dHlwZW9mIHJlZn0pYCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBpbnZhbGlkYXRlUGVuZGluZ1NldFJlZihyYXdSZWYpIHtcbiAgY29uc3QgcGVuZGluZ1NldFJlZiA9IHBlbmRpbmdTZXRSZWZNYXAuZ2V0KHJhd1JlZik7XG4gIGlmIChwZW5kaW5nU2V0UmVmKSB7XG4gICAgcGVuZGluZ1NldFJlZi5mbGFncyB8PSA4O1xuICAgIHBlbmRpbmdTZXRSZWZNYXAuZGVsZXRlKHJhd1JlZik7XG4gIH1cbn1cblxubGV0IGhhc0xvZ2dlZE1pc21hdGNoRXJyb3IgPSBmYWxzZTtcbmNvbnN0IGxvZ01pc21hdGNoRXJyb3IgPSAoKSA9PiB7XG4gIGlmIChoYXNMb2dnZWRNaXNtYXRjaEVycm9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUuZXJyb3IoXCJIeWRyYXRpb24gY29tcGxldGVkIGJ1dCBjb250YWlucyBtaXNtYXRjaGVzLlwiKTtcbiAgaGFzTG9nZ2VkTWlzbWF0Y2hFcnJvciA9IHRydWU7XG59O1xuY29uc3QgaXNTVkdDb250YWluZXIgPSAoY29udGFpbmVyKSA9PiBjb250YWluZXIubmFtZXNwYWNlVVJJLmluY2x1ZGVzKFwic3ZnXCIpICYmIGNvbnRhaW5lci50YWdOYW1lICE9PSBcImZvcmVpZ25PYmplY3RcIjtcbmNvbnN0IGlzTWF0aE1MQ29udGFpbmVyID0gKGNvbnRhaW5lcikgPT4gY29udGFpbmVyLm5hbWVzcGFjZVVSSS5pbmNsdWRlcyhcIk1hdGhNTFwiKTtcbmNvbnN0IGdldENvbnRhaW5lclR5cGUgPSAoY29udGFpbmVyKSA9PiB7XG4gIGlmIChjb250YWluZXIubm9kZVR5cGUgIT09IDEpIHJldHVybiB2b2lkIDA7XG4gIGlmIChpc1NWR0NvbnRhaW5lcihjb250YWluZXIpKSByZXR1cm4gXCJzdmdcIjtcbiAgaWYgKGlzTWF0aE1MQ29udGFpbmVyKGNvbnRhaW5lcikpIHJldHVybiBcIm1hdGhtbFwiO1xuICByZXR1cm4gdm9pZCAwO1xufTtcbmNvbnN0IGlzQ29tbWVudCA9IChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4O1xuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gIGNvbnN0IHtcbiAgICBtdDogbW91bnRDb21wb25lbnQsXG4gICAgcDogcGF0Y2gsXG4gICAgbzoge1xuICAgICAgcGF0Y2hQcm9wLFxuICAgICAgY3JlYXRlVGV4dCxcbiAgICAgIG5leHRTaWJsaW5nLFxuICAgICAgcGFyZW50Tm9kZSxcbiAgICAgIHJlbW92ZSxcbiAgICAgIGluc2VydCxcbiAgICAgIGNyZWF0ZUNvbW1lbnRcbiAgICB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgY29uc3QgaHlkcmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyKSA9PiB7XG4gICAgaWYgKCFjb250YWluZXIuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgYEF0dGVtcHRpbmcgdG8gaHlkcmF0ZSBleGlzdGluZyBtYXJrdXAgYnV0IGNvbnRhaW5lciBpcyBlbXB0eS4gUGVyZm9ybWluZyBmdWxsIG1vdW50IGluc3RlYWQuYFxuICAgICAgKTtcbiAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIpO1xuICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaHlkcmF0ZU5vZGUoY29udGFpbmVyLmZpcnN0Q2hpbGQsIHZub2RlLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICBmbHVzaFBvc3RGbHVzaENicygpO1xuICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZU5vZGUgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgY29uc3QgaXNGcmFnbWVudFN0YXJ0ID0gaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJbXCI7XG4gICAgY29uc3Qgb25NaXNtYXRjaCA9ICgpID0+IGhhbmRsZU1pc21hdGNoKFxuICAgICAgbm9kZSxcbiAgICAgIHZub2RlLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBzbG90U2NvcGVJZHMsXG4gICAgICBpc0ZyYWdtZW50U3RhcnRcbiAgICApO1xuICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcsIHBhdGNoRmxhZyB9ID0gdm5vZGU7XG4gICAgbGV0IGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICAgIHZub2RlLmVsID0gbm9kZTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRlZihub2RlLCBcIl9fdm5vZGVcIiwgdm5vZGUsIHRydWUpO1xuICAgICAgZGVmKG5vZGUsIFwiX192dWVQYXJlbnRDb21wb25lbnRcIiwgcGFyZW50Q29tcG9uZW50LCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHBhdGNoRmxhZyA9PT0gLTIpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgbGV0IG5leHROb2RlID0gbnVsbDtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgVGV4dDpcbiAgICAgICAgaWYgKGRvbVR5cGUgIT09IDMpIHtcbiAgICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4gPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGluc2VydCh2bm9kZS5lbCA9IGNyZWF0ZVRleHQoXCJcIiksIHBhcmVudE5vZGUobm9kZSksIG5vZGUpO1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5vZGUuZGF0YSAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIHRleHQgbWlzbWF0Y2ggaW5gLFxuICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgIGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgbm9kZS5kYXRhXG4gICAgICAgICAgICAgICl9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke0pTT04uc3RyaW5naWZ5KHZub2RlLmNoaWxkcmVuKX1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgIGlmIChpc1RlbXBsYXRlTm9kZShub2RlKSkge1xuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgcmVwbGFjZU5vZGUoXG4gICAgICAgICAgICB2bm9kZS5lbCA9IG5vZGUuY29udGVudC5maXJzdENoaWxkLFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9tVHlwZSAhPT0gOCB8fCBpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0aWM6XG4gICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgZG9tVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRvbVR5cGUgPT09IDEgfHwgZG9tVHlwZSA9PT0gMykge1xuICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICBjb25zdCBuZWVkVG9BZG9wdENvbnRlbnQgPSAhdm5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuc3RhdGljQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5lZWRUb0Fkb3B0Q29udGVudClcbiAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4gKz0gbmV4dE5vZGUubm9kZVR5cGUgPT09IDEgPyBuZXh0Tm9kZS5vdXRlckhUTUwgOiBuZXh0Tm9kZS5kYXRhO1xuICAgICAgICAgICAgaWYgKGkgPT09IHZub2RlLnN0YXRpY0NvdW50IC0gMSkge1xuICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobmV4dE5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXNGcmFnbWVudFN0YXJ0ID8gbmV4dFNpYmxpbmcobmV4dE5vZGUpIDogbmV4dE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25NaXNtYXRjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgaWYgKCFpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVGcmFnbWVudChcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxKSB7XG4gICAgICAgICAgaWYgKChkb21UeXBlICE9PSAxIHx8IHZub2RlLnR5cGUudG9Mb3dlckNhc2UoKSAhPT0gbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpICYmICFpc1RlbXBsYXRlTm9kZShub2RlKSkge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgICAgIHZub2RlLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcbiAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwidGVsZXBvcnQgc3RhcnRcIikge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBsb2NhdGVDbG9zaW5nQW5jaG9yKG5vZGUsIG5vZGUuZGF0YSwgXCJ0ZWxlcG9ydCBlbmRcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vdW50Q29tcG9uZW50KFxuICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBnZXRDb250YWluZXJUeXBlKGNvbnRhaW5lciksXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIXZub2RlLnR5cGUuX19hc3luY1Jlc29sdmVkKSB7XG4gICAgICAgICAgICBsZXQgc3ViVHJlZTtcbiAgICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgICAgc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKEZyYWdtZW50KTtcbiAgICAgICAgICAgICAgc3ViVHJlZS5hbmNob3IgPSBuZXh0Tm9kZSA/IG5leHROb2RlLnByZXZpb3VzU2libGluZyA6IGNvbnRhaW5lci5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdWJUcmVlID0gbm9kZS5ub2RlVHlwZSA9PT0gMyA/IGNyZWF0ZVRleHRWTm9kZShcIlwiKSA6IGNyZWF0ZVZOb2RlKFwiZGl2XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ViVHJlZS5lbCA9IG5vZGU7XG4gICAgICAgICAgICB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSA9IHN1YlRyZWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDgpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShcbiAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgICByZW5kZXJlckludGVybmFscyxcbiAgICAgICAgICAgICAgaHlkcmF0ZUNoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShwYXJlbnROb2RlKG5vZGUpKSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIHJlbmRlcmVySW50ZXJuYWxzLFxuICAgICAgICAgICAgaHlkcmF0ZU5vZGVcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSB7XG4gICAgICAgICAgd2FybiQxKFwiSW52YWxpZCBIb3N0Vk5vZGUgdHlwZTpcIiwgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0Tm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUVsZW1lbnQgPSAoZWwsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXZub2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBwYXRjaEZsYWcsIHNoYXBlRmxhZywgZGlycywgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XG4gICAgY29uc3QgZm9yY2VQYXRjaCA9IHR5cGUgPT09IFwiaW5wdXRcIiB8fCB0eXBlID09PSBcIm9wdGlvblwiO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IGZvcmNlUGF0Y2ggfHwgcGF0Y2hGbGFnICE9PSAtMSkge1xuICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImNyZWF0ZWRcIik7XG4gICAgICB9XG4gICAgICBsZXQgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBmYWxzZTtcbiAgICAgIGlmIChpc1RlbXBsYXRlTm9kZShlbCkpIHtcbiAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBuZWVkVHJhbnNpdGlvbihcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIC8vIG5vIG5lZWQgY2hlY2sgcGFyZW50U3VzcGVuc2UgaW4gaHlkcmF0aW9uXG4gICAgICAgICAgdHJhbnNpdGlvblxuICAgICAgICApICYmIHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQudm5vZGUucHJvcHMgJiYgcGFyZW50Q29tcG9uZW50LnZub2RlLnByb3BzLmFwcGVhcjtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGVsLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICAgICAgY29uc3QgY2xzID0gY29udGVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICBpZiAoY2xzKSBjb250ZW50LiRjbHMgPSBjbHM7XG4gICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXBsYWNlTm9kZShjb250ZW50LCBlbCwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgdm5vZGUuZWwgPSBlbCA9IGNvbnRlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoc2hhcGVGbGFnICYgMTYgJiYgLy8gc2tpcCBpZiBlbGVtZW50IGhhcyBpbm5lckhUTUwgLyB0ZXh0Q29udGVudFxuICAgICAgIShwcm9wcyAmJiAocHJvcHMuaW5uZXJIVE1MIHx8IHByb3BzLnRleHRDb250ZW50KSkpIHtcbiAgICAgICAgbGV0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgZWwuZmlyc3RDaGlsZCxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBlbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChuZXh0KSB7XG4gICAgICAgICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChlbCwgMSAvKiBDSElMRFJFTiAqLykpIHtcbiAgICAgICAgICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICAgIGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggb25gLFxuICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgIGBcblNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIG1vcmUgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGN1ciA9IG5leHQ7XG4gICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgcmVtb3ZlKGN1cik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgOCkge1xuICAgICAgICBsZXQgY2xpZW50VGV4dCA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICBpZiAoY2xpZW50VGV4dFswXSA9PT0gXCJcXG5cIiAmJiAoZWwudGFnTmFtZSA9PT0gXCJQUkVcIiB8fCBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpKSB7XG4gICAgICAgICAgY2xpZW50VGV4dCA9IGNsaWVudFRleHQuc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsLnRleHRDb250ZW50ICE9PSBjbGllbnRUZXh0KSB7XG4gICAgICAgICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChlbCwgMCAvKiBURVhUICovKSkge1xuICAgICAgICAgICAgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiB3YXJuJDEoXG4gICAgICAgICAgICAgIGBIeWRyYXRpb24gdGV4dCBjb250ZW50IG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7ZWwudGV4dENvbnRlbnR9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke3Zub2RlLmNoaWxkcmVufWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9wcykge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18gfHwgZm9yY2VQYXRjaCB8fCAhb3B0aW1pemVkIHx8IHBhdGNoRmxhZyAmICgxNiB8IDMyKSkge1xuICAgICAgICAgIGNvbnN0IGlzQ3VzdG9tRWxlbWVudCA9IGVsLnRhZ05hbWUuaW5jbHVkZXMoXCItXCIpO1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgICAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiAvLyAjMTExODkgc2tpcCBpZiB0aGlzIG5vZGUgaGFzIGRpcmVjdGl2ZXMgdGhhdCBoYXZlIGNyZWF0ZWQgaG9va3NcbiAgICAgICAgICAgIC8vIGFzIGl0IGNvdWxkIGhhdmUgbXV0YXRlZCB0aGUgRE9NIGluIGFueSBwb3NzaWJsZSB3YXlcbiAgICAgICAgICAgICEoZGlycyAmJiBkaXJzLnNvbWUoKGQpID0+IGQuZGlyLmNyZWF0ZWQpKSAmJiBwcm9wSGFzTWlzbWF0Y2goZWwsIGtleSwgcHJvcHNba2V5XSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZvcmNlUGF0Y2ggJiYgKGtleS5lbmRzV2l0aChcInZhbHVlXCIpIHx8IGtleSA9PT0gXCJpbmRldGVybWluYXRlXCIpIHx8IGlzT24oa2V5KSAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSB8fCAvLyBmb3JjZSBoeWRyYXRlIHYtYmluZCB3aXRoIC5wcm9wIG1vZGlmaWVyc1xuICAgICAgICAgICAga2V5WzBdID09PSBcIi5cIiB8fCBpc0N1c3RvbUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgcGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0sIHZvaWQgMCwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcHMub25DbGljaykge1xuICAgICAgICAgIHBhdGNoUHJvcChcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgXCJvbkNsaWNrXCIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcHJvcHMub25DbGljayxcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAocGF0Y2hGbGFnICYgNCAmJiBpc1JlYWN0aXZlKHByb3BzLnN0eWxlKSkge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzLnN0eWxlKSBwcm9wcy5zdHlsZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgdm5vZGVIb29rcztcbiAgICAgIGlmICh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSB7XG4gICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgIH1cbiAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVNb3VudFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICgodm5vZGVIb29rcyA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBkaXJzIHx8IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICAgIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKCgpID0+IHtcbiAgICAgICAgICB2bm9kZUhvb2tzICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJtb3VudGVkXCIpO1xuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbC5uZXh0U2libGluZztcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUNoaWxkcmVuID0gKG5vZGUsIHBhcmVudFZOb2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhcGFyZW50Vk5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gcGFyZW50Vk5vZGUuY2hpbGRyZW47XG4gICAgY29uc3QgbCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IHZub2RlID0gb3B0aW1pemVkID8gY2hpbGRyZW5baV0gOiBjaGlsZHJlbltpXSA9IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKTtcbiAgICAgIGNvbnN0IGlzVGV4dCA9IHZub2RlLnR5cGUgPT09IFRleHQ7XG4gICAgICBpZiAobm9kZSkge1xuICAgICAgICBpZiAoaXNUZXh0ICYmICFvcHRpbWl6ZWQpIHtcbiAgICAgICAgICBpZiAoaSArIDEgPCBsICYmIG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2kgKyAxXSkudHlwZSA9PT0gVGV4dCkge1xuICAgICAgICAgICAgaW5zZXJ0KFxuICAgICAgICAgICAgICBjcmVhdGVUZXh0KFxuICAgICAgICAgICAgICAgIG5vZGUuZGF0YS5zbGljZSh2bm9kZS5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgbmV4dFNpYmxpbmcobm9kZSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBub2RlLmRhdGEgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IGh5ZHJhdGVOb2RlKFxuICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNUZXh0ICYmICF2bm9kZS5jaGlsZHJlbikge1xuICAgICAgICBpbnNlcnQodm5vZGUuZWwgPSBjcmVhdGVUZXh0KFwiXCIpLCBjb250YWluZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChjb250YWluZXIsIDEgLyogQ0hJTERSRU4gKi8pKSB7XG4gICAgICAgICAgaWYgKCghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgIWhhc1dhcm5lZCkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgICBgXG5TZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBmZXdlciBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShjb250YWluZXIpLFxuICAgICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUZyYWdtZW50ID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IHsgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gdm5vZGU7XG4gICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XG4gICAgICBzbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHMgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKSA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xuICAgIH1cbiAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgIGNvbnN0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICBuZXh0U2libGluZyhub2RlKSxcbiAgICAgIHZub2RlLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBzbG90U2NvcGVJZHMsXG4gICAgICBvcHRpbWl6ZWRcbiAgICApO1xuICAgIGlmIChuZXh0ICYmIGlzQ29tbWVudChuZXh0KSAmJiBuZXh0LmRhdGEgPT09IFwiXVwiKSB7XG4gICAgICByZXR1cm4gbmV4dFNpYmxpbmcodm5vZGUuYW5jaG9yID0gbmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgIGluc2VydCh2bm9kZS5hbmNob3IgPSBjcmVhdGVDb21tZW50KGBdYCksIGNvbnRhaW5lciwgbmV4dCk7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZU1pc21hdGNoID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIGlzRnJhZ21lbnQpID0+IHtcbiAgICBpZiAoIWlzTWlzbWF0Y2hBbGxvd2VkKG5vZGUucGFyZW50RWxlbWVudCwgMSAvKiBDSElMRFJFTiAqLykpIHtcbiAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICBgSHlkcmF0aW9uIG5vZGUgbWlzbWF0Y2g6XG4tIHJlbmRlcmVkIG9uIHNlcnZlcjpgLFxuICAgICAgICBub2RlLFxuICAgICAgICBub2RlLm5vZGVUeXBlID09PSAzID8gYCh0ZXh0KWAgOiBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSBcIltcIiA/IGAoc3RhcnQgb2YgZnJhZ21lbnQpYCA6IGBgLFxuICAgICAgICBgXG4tIGV4cGVjdGVkIG9uIGNsaWVudDpgLFxuICAgICAgICB2bm9kZS50eXBlXG4gICAgICApO1xuICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgIH1cbiAgICB2bm9kZS5lbCA9IG51bGw7XG4gICAgaWYgKGlzRnJhZ21lbnQpIHtcbiAgICAgIGNvbnN0IGVuZCA9IGxvY2F0ZUNsb3NpbmdBbmNob3Iobm9kZSk7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBuZXh0MiA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICBpZiAobmV4dDIgJiYgbmV4dDIgIT09IGVuZCkge1xuICAgICAgICAgIHJlbW92ZShuZXh0Mik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV4dCA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XG4gICAgcmVtb3ZlKG5vZGUpO1xuICAgIHBhdGNoKFxuICAgICAgbnVsbCxcbiAgICAgIHZub2RlLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgbmV4dCxcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgZ2V0Q29udGFpbmVyVHlwZShjb250YWluZXIpLFxuICAgICAgc2xvdFNjb3BlSWRzXG4gICAgKTtcbiAgICBpZiAocGFyZW50Q29tcG9uZW50KSB7XG4gICAgICBwYXJlbnRDb21wb25lbnQudm5vZGUuZWwgPSB2bm9kZS5lbDtcbiAgICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIHZub2RlLmVsKTtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQ7XG4gIH07XG4gIGNvbnN0IGxvY2F0ZUNsb3NpbmdBbmNob3IgPSAobm9kZSwgb3BlbiA9IFwiW1wiLCBjbG9zZSA9IFwiXVwiKSA9PiB7XG4gICAgbGV0IG1hdGNoID0gMDtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgbm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgaWYgKG5vZGUgJiYgaXNDb21tZW50KG5vZGUpKSB7XG4gICAgICAgIGlmIChub2RlLmRhdGEgPT09IG9wZW4pIG1hdGNoKys7XG4gICAgICAgIGlmIChub2RlLmRhdGEgPT09IGNsb3NlKSB7XG4gICAgICAgICAgaWYgKG1hdGNoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hdGNoLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICBjb25zdCByZXBsYWNlTm9kZSA9IChuZXdOb2RlLCBvbGROb2RlLCBwYXJlbnRDb21wb25lbnQpID0+IHtcbiAgICBjb25zdCBwYXJlbnROb2RlMiA9IG9sZE5vZGUucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50Tm9kZTIpIHtcbiAgICAgIHBhcmVudE5vZGUyLnJlcGxhY2VDaGlsZChuZXdOb2RlLCBvbGROb2RlKTtcbiAgICB9XG4gICAgbGV0IHBhcmVudCA9IHBhcmVudENvbXBvbmVudDtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICBpZiAocGFyZW50LnZub2RlLmVsID09PSBvbGROb2RlKSB7XG4gICAgICAgIHBhcmVudC52bm9kZS5lbCA9IHBhcmVudC5zdWJUcmVlLmVsID0gbmV3Tm9kZTtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICB9O1xuICBjb25zdCBpc1RlbXBsYXRlTm9kZSA9IChub2RlKSA9PiB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDEgJiYgbm9kZS50YWdOYW1lID09PSBcIlRFTVBMQVRFXCI7XG4gIH07XG4gIHJldHVybiBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdO1xufVxuZnVuY3Rpb24gcHJvcEhhc01pc21hdGNoKGVsLCBrZXksIGNsaWVudFZhbHVlLCB2bm9kZSwgaW5zdGFuY2UpIHtcbiAgbGV0IG1pc21hdGNoVHlwZTtcbiAgbGV0IG1pc21hdGNoS2V5O1xuICBsZXQgYWN0dWFsO1xuICBsZXQgZXhwZWN0ZWQ7XG4gIGlmIChrZXkgPT09IFwiY2xhc3NcIikge1xuICAgIGlmIChlbC4kY2xzKSB7XG4gICAgICBhY3R1YWwgPSBlbC4kY2xzO1xuICAgICAgZGVsZXRlIGVsLiRjbHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdHVhbCA9IGVsLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIH1cbiAgICBleHBlY3RlZCA9IG5vcm1hbGl6ZUNsYXNzKGNsaWVudFZhbHVlKTtcbiAgICBpZiAoIWlzU2V0RXF1YWwodG9DbGFzc1NldChhY3R1YWwgfHwgXCJcIiksIHRvQ2xhc3NTZXQoZXhwZWN0ZWQpKSkge1xuICAgICAgbWlzbWF0Y2hUeXBlID0gMiAvKiBDTEFTUyAqLztcbiAgICAgIG1pc21hdGNoS2V5ID0gYGNsYXNzYDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcbiAgICBhY3R1YWwgPSBlbC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSB8fCBcIlwiO1xuICAgIGV4cGVjdGVkID0gaXNTdHJpbmcoY2xpZW50VmFsdWUpID8gY2xpZW50VmFsdWUgOiBzdHJpbmdpZnlTdHlsZShub3JtYWxpemVTdHlsZShjbGllbnRWYWx1ZSkpO1xuICAgIGNvbnN0IGFjdHVhbE1hcCA9IHRvU3R5bGVNYXAoYWN0dWFsKTtcbiAgICBjb25zdCBleHBlY3RlZE1hcCA9IHRvU3R5bGVNYXAoZXhwZWN0ZWQpO1xuICAgIGlmICh2bm9kZS5kaXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IHsgZGlyLCB2YWx1ZSB9IG9mIHZub2RlLmRpcnMpIHtcbiAgICAgICAgaWYgKGRpci5uYW1lID09PSBcInNob3dcIiAmJiAhdmFsdWUpIHtcbiAgICAgICAgICBleHBlY3RlZE1hcC5zZXQoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIHJlc29sdmVDc3NWYXJzKGluc3RhbmNlLCB2bm9kZSwgZXhwZWN0ZWRNYXApO1xuICAgIH1cbiAgICBpZiAoIWlzTWFwRXF1YWwoYWN0dWFsTWFwLCBleHBlY3RlZE1hcCkpIHtcbiAgICAgIG1pc21hdGNoVHlwZSA9IDMgLyogU1RZTEUgKi87XG4gICAgICBtaXNtYXRjaEtleSA9IFwic3R5bGVcIjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZWwgaW5zdGFuY2VvZiBTVkdFbGVtZW50ICYmIGlzS25vd25TdmdBdHRyKGtleSkgfHwgZWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiAoaXNCb29sZWFuQXR0cihrZXkpIHx8IGlzS25vd25IdG1sQXR0cihrZXkpKSkge1xuICAgIGlmIChpc0Jvb2xlYW5BdHRyKGtleSkpIHtcbiAgICAgIGFjdHVhbCA9IGVsLmhhc0F0dHJpYnV0ZShrZXkpO1xuICAgICAgZXhwZWN0ZWQgPSBpbmNsdWRlQm9vbGVhbkF0dHIoY2xpZW50VmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoY2xpZW50VmFsdWUgPT0gbnVsbCkge1xuICAgICAgYWN0dWFsID0gZWwuaGFzQXR0cmlidXRlKGtleSk7XG4gICAgICBleHBlY3RlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKGtleSkpIHtcbiAgICAgICAgYWN0dWFsID0gZWwuZ2V0QXR0cmlidXRlKGtleSk7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJ2YWx1ZVwiICYmIGVsLnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIikge1xuICAgICAgICBhY3R1YWwgPSBlbC52YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdHVhbCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZXhwZWN0ZWQgPSBpc1JlbmRlcmFibGVBdHRyVmFsdWUoY2xpZW50VmFsdWUpID8gU3RyaW5nKGNsaWVudFZhbHVlKSA6IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xuICAgICAgbWlzbWF0Y2hUeXBlID0gNCAvKiBBVFRSSUJVVEUgKi87XG4gICAgICBtaXNtYXRjaEtleSA9IGtleTtcbiAgICB9XG4gIH1cbiAgaWYgKG1pc21hdGNoVHlwZSAhPSBudWxsICYmICFpc01pc21hdGNoQWxsb3dlZChlbCwgbWlzbWF0Y2hUeXBlKSkge1xuICAgIGNvbnN0IGZvcm1hdCA9ICh2KSA9PiB2ID09PSBmYWxzZSA/IGAobm90IHJlbmRlcmVkKWAgOiBgJHttaXNtYXRjaEtleX09XCIke3Z9XCJgO1xuICAgIGNvbnN0IHByZVNlZ21lbnQgPSBgSHlkcmF0aW9uICR7TWlzbWF0Y2hUeXBlU3RyaW5nW21pc21hdGNoVHlwZV19IG1pc21hdGNoIG9uYDtcbiAgICBjb25zdCBwb3N0U2VnbWVudCA9IGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7Zm9ybWF0KGFjdHVhbCl9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke2Zvcm1hdChleHBlY3RlZCl9XG4gIE5vdGU6IHRoaXMgbWlzbWF0Y2ggaXMgY2hlY2stb25seS4gVGhlIERPTSB3aWxsIG5vdCBiZSByZWN0aWZpZWQgaW4gcHJvZHVjdGlvbiBkdWUgdG8gcGVyZm9ybWFuY2Ugb3ZlcmhlYWQuXG4gIFlvdSBzaG91bGQgZml4IHRoZSBzb3VyY2Ugb2YgdGhlIG1pc21hdGNoLmA7XG4gICAge1xuICAgICAgd2FybiQxKHByZVNlZ21lbnQsIGVsLCBwb3N0U2VnbWVudCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHRvQ2xhc3NTZXQoc3RyKSB7XG4gIHJldHVybiBuZXcgU2V0KHN0ci50cmltKCkuc3BsaXQoL1xccysvKSk7XG59XG5mdW5jdGlvbiBpc1NldEVxdWFsKGEsIGIpIHtcbiAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAoY29uc3QgcyBvZiBhKSB7XG4gICAgaWYgKCFiLmhhcyhzKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHRvU3R5bGVNYXAoc3RyKSB7XG4gIGNvbnN0IHN0eWxlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgZm9yIChjb25zdCBpdGVtIG9mIHN0ci5zcGxpdChcIjtcIikpIHtcbiAgICBsZXQgW2tleSwgdmFsdWVdID0gaXRlbS5zcGxpdChcIjpcIik7XG4gICAga2V5ID0ga2V5LnRyaW0oKTtcbiAgICB2YWx1ZSA9IHZhbHVlICYmIHZhbHVlLnRyaW0oKTtcbiAgICBpZiAoa2V5ICYmIHZhbHVlKSB7XG4gICAgICBzdHlsZU1hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHlsZU1hcDtcbn1cbmZ1bmN0aW9uIGlzTWFwRXF1YWwoYSwgYikge1xuICBpZiAoYS5zaXplICE9PSBiLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgYSkge1xuICAgIGlmICh2YWx1ZSAhPT0gYi5nZXQoa2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVDc3NWYXJzKGluc3RhbmNlLCB2bm9kZSwgZXhwZWN0ZWRNYXApIHtcbiAgY29uc3Qgcm9vdCA9IGluc3RhbmNlLnN1YlRyZWU7XG4gIGlmIChpbnN0YW5jZS5nZXRDc3NWYXJzICYmICh2bm9kZSA9PT0gcm9vdCB8fCByb290ICYmIHJvb3QudHlwZSA9PT0gRnJhZ21lbnQgJiYgcm9vdC5jaGlsZHJlbi5pbmNsdWRlcyh2bm9kZSkpKSB7XG4gICAgY29uc3QgY3NzVmFycyA9IGluc3RhbmNlLmdldENzc1ZhcnMoKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBjc3NWYXJzKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG5vcm1hbGl6ZUNzc1ZhclZhbHVlKGNzc1ZhcnNba2V5XSk7XG4gICAgICBleHBlY3RlZE1hcC5zZXQoYC0tJHtnZXRFc2NhcGVkQ3NzVmFyTmFtZShrZXksIGZhbHNlKX1gLCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIGlmICh2bm9kZSA9PT0gcm9vdCAmJiBpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICByZXNvbHZlQ3NzVmFycyhpbnN0YW5jZS5wYXJlbnQsIGluc3RhbmNlLnZub2RlLCBleHBlY3RlZE1hcCk7XG4gIH1cbn1cbmNvbnN0IGFsbG93TWlzbWF0Y2hBdHRyID0gXCJkYXRhLWFsbG93LW1pc21hdGNoXCI7XG5jb25zdCBNaXNtYXRjaFR5cGVTdHJpbmcgPSB7XG4gIFswIC8qIFRFWFQgKi9dOiBcInRleHRcIixcbiAgWzEgLyogQ0hJTERSRU4gKi9dOiBcImNoaWxkcmVuXCIsXG4gIFsyIC8qIENMQVNTICovXTogXCJjbGFzc1wiLFxuICBbMyAvKiBTVFlMRSAqL106IFwic3R5bGVcIixcbiAgWzQgLyogQVRUUklCVVRFICovXTogXCJhdHRyaWJ1dGVcIlxufTtcbmZ1bmN0aW9uIGlzTWlzbWF0Y2hBbGxvd2VkKGVsLCBhbGxvd2VkVHlwZSkge1xuICBpZiAoYWxsb3dlZFR5cGUgPT09IDAgLyogVEVYVCAqLyB8fCBhbGxvd2VkVHlwZSA9PT0gMSAvKiBDSElMRFJFTiAqLykge1xuICAgIHdoaWxlIChlbCAmJiAhZWwuaGFzQXR0cmlidXRlKGFsbG93TWlzbWF0Y2hBdHRyKSkge1xuICAgICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgfVxuICBjb25zdCBhbGxvd2VkQXR0ciA9IGVsICYmIGVsLmdldEF0dHJpYnV0ZShhbGxvd01pc21hdGNoQXR0cik7XG4gIGlmIChhbGxvd2VkQXR0ciA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGFsbG93ZWRBdHRyID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbGlzdCA9IGFsbG93ZWRBdHRyLnNwbGl0KFwiLFwiKTtcbiAgICBpZiAoYWxsb3dlZFR5cGUgPT09IDAgLyogVEVYVCAqLyAmJiBsaXN0LmluY2x1ZGVzKFwiY2hpbGRyZW5cIikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gbGlzdC5pbmNsdWRlcyhNaXNtYXRjaFR5cGVTdHJpbmdbYWxsb3dlZFR5cGVdKTtcbiAgfVxufVxuXG5jb25zdCByZXF1ZXN0SWRsZUNhbGxiYWNrID0gZ2V0R2xvYmFsVGhpcygpLnJlcXVlc3RJZGxlQ2FsbGJhY2sgfHwgKChjYikgPT4gc2V0VGltZW91dChjYiwgMSkpO1xuY29uc3QgY2FuY2VsSWRsZUNhbGxiYWNrID0gZ2V0R2xvYmFsVGhpcygpLmNhbmNlbElkbGVDYWxsYmFjayB8fCAoKGlkKSA9PiBjbGVhclRpbWVvdXQoaWQpKTtcbmNvbnN0IGh5ZHJhdGVPbklkbGUgPSAodGltZW91dCA9IDFlNCkgPT4gKGh5ZHJhdGUpID0+IHtcbiAgY29uc3QgaWQgPSByZXF1ZXN0SWRsZUNhbGxiYWNrKGh5ZHJhdGUsIHsgdGltZW91dCB9KTtcbiAgcmV0dXJuICgpID0+IGNhbmNlbElkbGVDYWxsYmFjayhpZCk7XG59O1xuZnVuY3Rpb24gZWxlbWVudElzVmlzaWJsZUluVmlld3BvcnQoZWwpIHtcbiAgY29uc3QgeyB0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQgfSA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCB7IGlubmVySGVpZ2h0LCBpbm5lcldpZHRoIH0gPSB3aW5kb3c7XG4gIHJldHVybiAodG9wID4gMCAmJiB0b3AgPCBpbm5lckhlaWdodCB8fCBib3R0b20gPiAwICYmIGJvdHRvbSA8IGlubmVySGVpZ2h0KSAmJiAobGVmdCA+IDAgJiYgbGVmdCA8IGlubmVyV2lkdGggfHwgcmlnaHQgPiAwICYmIHJpZ2h0IDwgaW5uZXJXaWR0aCk7XG59XG5jb25zdCBoeWRyYXRlT25WaXNpYmxlID0gKG9wdHMpID0+IChoeWRyYXRlLCBmb3JFYWNoKSA9PiB7XG4gIGNvbnN0IG9iID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgZm9yIChjb25zdCBlIG9mIGVudHJpZXMpIHtcbiAgICAgIGlmICghZS5pc0ludGVyc2VjdGluZykgY29udGludWU7XG4gICAgICBvYi5kaXNjb25uZWN0KCk7XG4gICAgICBoeWRyYXRlKCk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH0sIG9wdHMpO1xuICBmb3JFYWNoKChlbCkgPT4ge1xuICAgIGlmICghKGVsIGluc3RhbmNlb2YgRWxlbWVudCkpIHJldHVybjtcbiAgICBpZiAoZWxlbWVudElzVmlzaWJsZUluVmlld3BvcnQoZWwpKSB7XG4gICAgICBoeWRyYXRlKCk7XG4gICAgICBvYi5kaXNjb25uZWN0KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG9iLm9ic2VydmUoZWwpO1xuICB9KTtcbiAgcmV0dXJuICgpID0+IG9iLmRpc2Nvbm5lY3QoKTtcbn07XG5jb25zdCBoeWRyYXRlT25NZWRpYVF1ZXJ5ID0gKHF1ZXJ5KSA9PiAoaHlkcmF0ZSkgPT4ge1xuICBpZiAocXVlcnkpIHtcbiAgICBjb25zdCBtcWwgPSBtYXRjaE1lZGlhKHF1ZXJ5KTtcbiAgICBpZiAobXFsLm1hdGNoZXMpIHtcbiAgICAgIGh5ZHJhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbXFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaHlkcmF0ZSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgcmV0dXJuICgpID0+IG1xbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGh5ZHJhdGUpO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IGh5ZHJhdGVPbkludGVyYWN0aW9uID0gKGludGVyYWN0aW9ucyA9IFtdKSA9PiAoaHlkcmF0ZSwgZm9yRWFjaCkgPT4ge1xuICBpZiAoaXNTdHJpbmcoaW50ZXJhY3Rpb25zKSkgaW50ZXJhY3Rpb25zID0gW2ludGVyYWN0aW9uc107XG4gIGxldCBoYXNIeWRyYXRlZCA9IGZhbHNlO1xuICBjb25zdCBkb0h5ZHJhdGUgPSAoZSkgPT4ge1xuICAgIGlmICghaGFzSHlkcmF0ZWQpIHtcbiAgICAgIGhhc0h5ZHJhdGVkID0gdHJ1ZTtcbiAgICAgIHRlYXJkb3duKCk7XG4gICAgICBoeWRyYXRlKCk7XG4gICAgICBlLnRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBlLmNvbnN0cnVjdG9yKGUudHlwZSwgZSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdGVhcmRvd24gPSAoKSA9PiB7XG4gICAgZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGZvciAoY29uc3QgaSBvZiBpbnRlcmFjdGlvbnMpIHtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLCBkb0h5ZHJhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBmb3JFYWNoKChlbCkgPT4ge1xuICAgIGZvciAoY29uc3QgaSBvZiBpbnRlcmFjdGlvbnMpIHtcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoaSwgZG9IeWRyYXRlLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRlYXJkb3duO1xufTtcbmZ1bmN0aW9uIGZvckVhY2hFbGVtZW50KG5vZGUsIGNiKSB7XG4gIGlmIChpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSBcIltcIikge1xuICAgIGxldCBkZXB0aCA9IDE7XG4gICAgbGV0IG5leHQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgIHdoaWxlIChuZXh0KSB7XG4gICAgICBpZiAobmV4dC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjYihuZXh0KTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc0NvbW1lbnQobmV4dCkpIHtcbiAgICAgICAgaWYgKG5leHQuZGF0YSA9PT0gXCJdXCIpIHtcbiAgICAgICAgICBpZiAoLS1kZXB0aCA9PT0gMCkgYnJlYWs7XG4gICAgICAgIH0gZWxzZSBpZiAobmV4dC5kYXRhID09PSBcIltcIikge1xuICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5leHQgPSBuZXh0Lm5leHRTaWJsaW5nO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjYihub2RlKTtcbiAgfVxufVxuXG5jb25zdCBpc0FzeW5jV3JhcHBlciA9IChpKSA9PiAhIWkudHlwZS5fX2FzeW5jTG9hZGVyO1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xuICBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgc291cmNlID0geyBsb2FkZXI6IHNvdXJjZSB9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBsb2FkZXIsXG4gICAgbG9hZGluZ0NvbXBvbmVudCxcbiAgICBlcnJvckNvbXBvbmVudCxcbiAgICBkZWxheSA9IDIwMCxcbiAgICBoeWRyYXRlOiBoeWRyYXRlU3RyYXRlZ3ksXG4gICAgdGltZW91dCxcbiAgICAvLyB1bmRlZmluZWQgPSBuZXZlciB0aW1lcyBvdXRcbiAgICBzdXNwZW5zaWJsZSA9IHRydWUsXG4gICAgb25FcnJvcjogdXNlck9uRXJyb3JcbiAgfSA9IHNvdXJjZTtcbiAgbGV0IHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgbGV0IHJlc29sdmVkQ29tcDtcbiAgbGV0IHJldHJpZXMgPSAwO1xuICBjb25zdCByZXRyeSA9ICgpID0+IHtcbiAgICByZXRyaWVzKys7XG4gICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICAgIHJldHVybiBsb2FkKCk7XG4gIH07XG4gIGNvbnN0IGxvYWQgPSAoKSA9PiB7XG4gICAgbGV0IHRoaXNSZXF1ZXN0O1xuICAgIHJldHVybiBwZW5kaW5nUmVxdWVzdCB8fCAodGhpc1JlcXVlc3QgPSBwZW5kaW5nUmVxdWVzdCA9IGxvYWRlcigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGVyciA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyIDogbmV3IEVycm9yKFN0cmluZyhlcnIpKTtcbiAgICAgIGlmICh1c2VyT25FcnJvcikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVzZXJSZXRyeSA9ICgpID0+IHJlc29sdmUocmV0cnkoKSk7XG4gICAgICAgICAgY29uc3QgdXNlckZhaWwgPSAoKSA9PiByZWplY3QoZXJyKTtcbiAgICAgICAgICB1c2VyT25FcnJvcihlcnIsIHVzZXJSZXRyeSwgdXNlckZhaWwsIHJldHJpZXMgKyAxKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfSkudGhlbigoY29tcCkgPT4ge1xuICAgICAgaWYgKHRoaXNSZXF1ZXN0ICE9PSBwZW5kaW5nUmVxdWVzdCAmJiBwZW5kaW5nUmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3Q7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhY29tcCkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYEFzeW5jIGNvbXBvbmVudCBsb2FkZXIgcmVzb2x2ZWQgdG8gdW5kZWZpbmVkLiBJZiB5b3UgYXJlIHVzaW5nIHJldHJ5KCksIG1ha2Ugc3VyZSB0byByZXR1cm4gaXRzIHJldHVybiB2YWx1ZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcCAmJiAoY29tcC5fX2VzTW9kdWxlIHx8IGNvbXBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gXCJNb2R1bGVcIikpIHtcbiAgICAgICAgY29tcCA9IGNvbXAuZGVmYXVsdDtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNvbXAgJiYgIWlzT2JqZWN0KGNvbXApICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhc3luYyBjb21wb25lbnQgbG9hZCByZXN1bHQ6ICR7Y29tcH1gKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmVkQ29tcCA9IGNvbXA7XG4gICAgICByZXR1cm4gY29tcDtcbiAgICB9KSk7XG4gIH07XG4gIHJldHVybiBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6IFwiQXN5bmNDb21wb25lbnRXcmFwcGVyXCIsXG4gICAgX19hc3luY0xvYWRlcjogbG9hZCxcbiAgICBfX2FzeW5jSHlkcmF0ZShlbCwgaW5zdGFuY2UsIGh5ZHJhdGUpIHtcbiAgICAgIGxldCBwYXRjaGVkID0gZmFsc2U7XG4gICAgICAoaW5zdGFuY2UuYnUgfHwgKGluc3RhbmNlLmJ1ID0gW10pKS5wdXNoKCgpID0+IHBhdGNoZWQgPSB0cnVlKTtcbiAgICAgIGNvbnN0IHBlcmZvcm1IeWRyYXRlID0gKCkgPT4ge1xuICAgICAgICBpZiAocGF0Y2hlZCkge1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBTa2lwcGluZyBsYXp5IGh5ZHJhdGlvbiBmb3IgY29tcG9uZW50ICcke2dldENvbXBvbmVudE5hbWUocmVzb2x2ZWRDb21wKSB8fCByZXNvbHZlZENvbXAuX19maWxlfSc6IGl0IHdhcyB1cGRhdGVkIGJlZm9yZSBsYXp5IGh5ZHJhdGlvbiBwZXJmb3JtZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGh5ZHJhdGUoKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBkb0h5ZHJhdGUgPSBoeWRyYXRlU3RyYXRlZ3kgPyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlYXJkb3duID0gaHlkcmF0ZVN0cmF0ZWd5KFxuICAgICAgICAgIHBlcmZvcm1IeWRyYXRlLFxuICAgICAgICAgIChjYikgPT4gZm9yRWFjaEVsZW1lbnQoZWwsIGNiKVxuICAgICAgICApO1xuICAgICAgICBpZiAodGVhcmRvd24pIHtcbiAgICAgICAgICAoaW5zdGFuY2UuYnVtIHx8IChpbnN0YW5jZS5idW0gPSBbXSkpLnB1c2godGVhcmRvd24pO1xuICAgICAgICB9XG4gICAgICB9IDogcGVyZm9ybUh5ZHJhdGU7XG4gICAgICBpZiAocmVzb2x2ZWRDb21wKSB7XG4gICAgICAgIGRvSHlkcmF0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9hZCgpLnRoZW4oKCkgPT4gIWluc3RhbmNlLmlzVW5tb3VudGVkICYmIGRvSHlkcmF0ZSgpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldCBfX2FzeW5jUmVzb2x2ZWQoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZWRDb21wO1xuICAgIH0sXG4gICAgc2V0dXAoKSB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICAgIG1hcmtBc3luY0JvdW5kYXJ5KGluc3RhbmNlKTtcbiAgICAgIGlmIChyZXNvbHZlZENvbXApIHtcbiAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChyZXNvbHZlZENvbXAsIGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgaGFuZGxlRXJyb3IoXG4gICAgICAgICAgZXJyLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIDEzLFxuICAgICAgICAgICFlcnJvckNvbXBvbmVudFxuICAgICAgICApO1xuICAgICAgfTtcbiAgICAgIGlmIChzdXNwZW5zaWJsZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSB8fCBpc0luU1NSQ29tcG9uZW50U2V0dXApIHtcbiAgICAgICAgcmV0dXJuIGxvYWQoKS50aGVuKChjb21wKSA9PiB7XG4gICAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChjb21wLCBpbnN0YW5jZSk7XG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgcmV0dXJuICgpID0+IGVycm9yQ29tcG9uZW50ID8gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgICB9KSA6IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgbG9hZGVkID0gcmVmKGZhbHNlKTtcbiAgICAgIGNvbnN0IGVycm9yID0gcmVmKCk7XG4gICAgICBjb25zdCBkZWxheWVkID0gcmVmKCEhZGVsYXkpO1xuICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGRlbGF5ZWQudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgfVxuICAgICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoIWxvYWRlZC52YWx1ZSAmJiAhZXJyb3IudmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYEFzeW5jIGNvbXBvbmVudCB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0fW1zLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgfVxuICAgICAgbG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBsb2FkZWQudmFsdWUgPSB0cnVlO1xuICAgICAgICBpZiAoaW5zdGFuY2UucGFyZW50ICYmIGlzS2VlcEFsaXZlKGluc3RhbmNlLnBhcmVudC52bm9kZSkpIHtcbiAgICAgICAgICBpbnN0YW5jZS5wYXJlbnQudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKGxvYWRlZC52YWx1ZSAmJiByZXNvbHZlZENvbXApIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnZhbHVlICYmIGVycm9yQ29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKGVycm9yQ29tcG9uZW50LCB7XG4gICAgICAgICAgICBlcnJvcjogZXJyb3IudmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChsb2FkaW5nQ29tcG9uZW50ICYmICFkZWxheWVkLnZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKGxvYWRpbmdDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVJbm5lckNvbXAoY29tcCwgcGFyZW50KSB7XG4gIGNvbnN0IHsgcmVmOiByZWYyLCBwcm9wcywgY2hpbGRyZW4sIGNlIH0gPSBwYXJlbnQudm5vZGU7XG4gIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUoY29tcCwgcHJvcHMsIGNoaWxkcmVuKTtcbiAgdm5vZGUucmVmID0gcmVmMjtcbiAgdm5vZGUuY2UgPSBjZTtcbiAgZGVsZXRlIHBhcmVudC52bm9kZS5jZTtcbiAgcmV0dXJuIHZub2RlO1xufVxuXG5jb25zdCBpc0tlZXBBbGl2ZSA9ICh2bm9kZSkgPT4gdm5vZGUudHlwZS5fX2lzS2VlcEFsaXZlO1xuY29uc3QgS2VlcEFsaXZlSW1wbCA9IHtcbiAgbmFtZTogYEtlZXBBbGl2ZWAsXG4gIC8vIE1hcmtlciBmb3Igc3BlY2lhbCBoYW5kbGluZyBpbnNpZGUgdGhlIHJlbmRlcmVyLiBXZSBhcmUgbm90IHVzaW5nIGEgPT09XG4gIC8vIGNoZWNrIGRpcmVjdGx5IG9uIEtlZXBBbGl2ZSBpbiB0aGUgcmVuZGVyZXIsIGJlY2F1c2UgaW1wb3J0aW5nIGl0IGRpcmVjdGx5XG4gIC8vIHdvdWxkIHByZXZlbnQgaXQgZnJvbSBiZWluZyB0cmVlLXNoYWtlbi5cbiAgX19pc0tlZXBBbGl2ZTogdHJ1ZSxcbiAgcHJvcHM6IHtcbiAgICBpbmNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcbiAgICBleGNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcbiAgICBtYXg6IFtTdHJpbmcsIE51bWJlcl1cbiAgfSxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgY29uc3Qgc2hhcmVkQ29udGV4dCA9IGluc3RhbmNlLmN0eDtcbiAgICBpZiAoIXNoYXJlZENvbnRleHQucmVuZGVyZXIpIHtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBzbG90cy5kZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGggPT09IDEgPyBjaGlsZHJlblswXSA6IGNoaWxkcmVuO1xuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGtleXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGxldCBjdXJyZW50ID0gbnVsbDtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGluc3RhbmNlLl9fdl9jYWNoZSA9IGNhY2hlO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnRTdXNwZW5zZSA9IGluc3RhbmNlLnN1c3BlbnNlO1xuICAgIGNvbnN0IHtcbiAgICAgIHJlbmRlcmVyOiB7XG4gICAgICAgIHA6IHBhdGNoLFxuICAgICAgICBtOiBtb3ZlLFxuICAgICAgICB1bTogX3VubW91bnQsXG4gICAgICAgIG86IHsgY3JlYXRlRWxlbWVudCB9XG4gICAgICB9XG4gICAgfSA9IHNoYXJlZENvbnRleHQ7XG4gICAgY29uc3Qgc3RvcmFnZUNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgc2hhcmVkQ29udGV4dC5hY3RpdmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgICBjb25zdCBpbnN0YW5jZTIgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICBtb3ZlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgMCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgcGF0Y2goXG4gICAgICAgIGluc3RhbmNlMi52bm9kZSxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBpbnN0YW5jZTIsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHZub2RlLnNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaW5zdGFuY2UyLmlzRGVhY3RpdmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGluc3RhbmNlMi5hKSB7XG4gICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UyLmEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVNb3VudGVkO1xuICAgICAgICBpZiAodm5vZGVIb29rKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UyLnBhcmVudCwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZTIpO1xuICAgICAgfVxuICAgIH07XG4gICAgc2hhcmVkQ29udGV4dC5kZWFjdGl2YXRlID0gKHZub2RlKSA9PiB7XG4gICAgICBjb25zdCBpbnN0YW5jZTIgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICBpbnZhbGlkYXRlTW91bnQoaW5zdGFuY2UyLm0pO1xuICAgICAgaW52YWxpZGF0ZU1vdW50KGluc3RhbmNlMi5hKTtcbiAgICAgIG1vdmUodm5vZGUsIHN0b3JhZ2VDb250YWluZXIsIG51bGwsIDEsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZTIuZGEpIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZTIuZGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVVbm1vdW50ZWQ7XG4gICAgICAgIGlmICh2bm9kZUhvb2spIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBpbnN0YW5jZTIucGFyZW50LCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UyLmlzRGVhY3RpdmF0ZWQgPSB0cnVlO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UyKTtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHRydWUpIHtcbiAgICAgICAgaW5zdGFuY2UyLl9fa2VlcEFsaXZlU3RvcmFnZUNvbnRhaW5lciA9IHN0b3JhZ2VDb250YWluZXI7XG4gICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiB1bm1vdW50KHZub2RlKSB7XG4gICAgICByZXNldFNoYXBlRmxhZyh2bm9kZSk7XG4gICAgICBfdW5tb3VudCh2bm9kZSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJ1bmVDYWNoZShmaWx0ZXIpIHtcbiAgICAgIGNhY2hlLmZvckVhY2goKHZub2RlLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUodm5vZGUudHlwZSk7XG4gICAgICAgIGlmIChuYW1lICYmICFmaWx0ZXIobmFtZSkpIHtcbiAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGVFbnRyeShrZXkpIHtcbiAgICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChrZXkpO1xuICAgICAgaWYgKGNhY2hlZCAmJiAoIWN1cnJlbnQgfHwgIWlzU2FtZVZOb2RlVHlwZShjYWNoZWQsIGN1cnJlbnQpKSkge1xuICAgICAgICB1bm1vdW50KGNhY2hlZCk7XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgcmVzZXRTaGFwZUZsYWcoY3VycmVudCk7XG4gICAgICB9XG4gICAgICBjYWNoZS5kZWxldGUoa2V5KTtcbiAgICAgIGtleXMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIHdhdGNoKFxuICAgICAgKCkgPT4gW3Byb3BzLmluY2x1ZGUsIHByb3BzLmV4Y2x1ZGVdLFxuICAgICAgKFtpbmNsdWRlLCBleGNsdWRlXSkgPT4ge1xuICAgICAgICBpbmNsdWRlICYmIHBydW5lQ2FjaGUoKG5hbWUpID0+IG1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpO1xuICAgICAgICBleGNsdWRlICYmIHBydW5lQ2FjaGUoKG5hbWUpID0+ICFtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKTtcbiAgICAgIH0sXG4gICAgICAvLyBwcnVuZSBwb3N0LXJlbmRlciBhZnRlciBgY3VycmVudGAgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgeyBmbHVzaDogXCJwb3N0XCIsIGRlZXA6IHRydWUgfVxuICAgICk7XG4gICAgbGV0IHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XG4gICAgY29uc3QgY2FjaGVTdWJ0cmVlID0gKCkgPT4ge1xuICAgICAgaWYgKHBlbmRpbmdDYWNoZUtleSAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc1N1c3BlbnNlKGluc3RhbmNlLnN1YlRyZWUudHlwZSkpIHtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgY2FjaGUuc2V0KHBlbmRpbmdDYWNoZUtleSwgZ2V0SW5uZXJDaGlsZChpbnN0YW5jZS5zdWJUcmVlKSk7XG4gICAgICAgICAgfSwgaW5zdGFuY2Uuc3ViVHJlZS5zdXNwZW5zZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FjaGUuc2V0KHBlbmRpbmdDYWNoZUtleSwgZ2V0SW5uZXJDaGlsZChpbnN0YW5jZS5zdWJUcmVlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG9uTW91bnRlZChjYWNoZVN1YnRyZWUpO1xuICAgIG9uVXBkYXRlZChjYWNoZVN1YnRyZWUpO1xuICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XG4gICAgICBjYWNoZS5mb3JFYWNoKChjYWNoZWQpID0+IHtcbiAgICAgICAgY29uc3QgeyBzdWJUcmVlLCBzdXNwZW5zZSB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChzdWJUcmVlKTtcbiAgICAgICAgaWYgKGNhY2hlZC50eXBlID09PSB2bm9kZS50eXBlICYmIGNhY2hlZC5rZXkgPT09IHZub2RlLmtleSkge1xuICAgICAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcbiAgICAgICAgICBjb25zdCBkYSA9IHZub2RlLmNvbXBvbmVudC5kYTtcbiAgICAgICAgICBkYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZGEsIHN1c3BlbnNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdW5tb3VudChjYWNoZWQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XG4gICAgICBpZiAoIXNsb3RzLmRlZmF1bHQpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0KCk7XG4gICAgICBjb25zdCByYXdWTm9kZSA9IGNoaWxkcmVuWzBdO1xuICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoYEtlZXBBbGl2ZSBzaG91bGQgY29udGFpbiBleGFjdGx5IG9uZSBjb21wb25lbnQgY2hpbGQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIH0gZWxzZSBpZiAoIWlzVk5vZGUocmF3Vk5vZGUpIHx8ICEocmF3Vk5vZGUuc2hhcGVGbGFnICYgNCkgJiYgIShyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjgpKSB7XG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XG4gICAgICB9XG4gICAgICBsZXQgdm5vZGUgPSBnZXRJbm5lckNoaWxkKHJhd1ZOb2RlKTtcbiAgICAgIGlmICh2bm9kZS50eXBlID09PSBDb21tZW50KSB7XG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gdm5vZGU7XG4gICAgICB9XG4gICAgICBjb25zdCBjb21wID0gdm5vZGUudHlwZTtcbiAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKFxuICAgICAgICBpc0FzeW5jV3JhcHBlcih2bm9kZSkgPyB2bm9kZS50eXBlLl9fYXN5bmNSZXNvbHZlZCB8fCB7fSA6IGNvbXBcbiAgICAgICk7XG4gICAgICBjb25zdCB7IGluY2x1ZGUsIGV4Y2x1ZGUsIG1heCB9ID0gcHJvcHM7XG4gICAgICBpZiAoaW5jbHVkZSAmJiAoIW5hbWUgfHwgIW1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpIHx8IGV4Y2x1ZGUgJiYgbmFtZSAmJiBtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKSB7XG4gICAgICAgIHZub2RlLnNoYXBlRmxhZyAmPSAtMjU3O1xuICAgICAgICBjdXJyZW50ID0gdm5vZGU7XG4gICAgICAgIHJldHVybiByYXdWTm9kZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGtleSA9IHZub2RlLmtleSA9PSBudWxsID8gY29tcCA6IHZub2RlLmtleTtcbiAgICAgIGNvbnN0IGNhY2hlZFZOb2RlID0gY2FjaGUuZ2V0KGtleSk7XG4gICAgICBpZiAodm5vZGUuZWwpIHtcbiAgICAgICAgdm5vZGUgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICAgICAgaWYgKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgICAgIHJhd1ZOb2RlLnNzQ29udGVudCA9IHZub2RlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwZW5kaW5nQ2FjaGVLZXkgPSBrZXk7XG4gICAgICBpZiAoY2FjaGVkVk5vZGUpIHtcbiAgICAgICAgdm5vZGUuZWwgPSBjYWNoZWRWTm9kZS5lbDtcbiAgICAgICAgdm5vZGUuY29tcG9uZW50ID0gY2FjaGVkVk5vZGUuY29tcG9uZW50O1xuICAgICAgICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xuICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZSwgdm5vZGUudHJhbnNpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdm5vZGUuc2hhcGVGbGFnIHw9IDUxMjtcbiAgICAgICAga2V5cy5kZWxldGUoa2V5KTtcbiAgICAgICAga2V5cy5hZGQoa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgICAgIGlmIChtYXggJiYga2V5cy5zaXplID4gcGFyc2VJbnQobWF4LCAxMCkpIHtcbiAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5cy52YWx1ZXMoKS5uZXh0KCkudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gMjU2O1xuICAgICAgY3VycmVudCA9IHZub2RlO1xuICAgICAgcmV0dXJuIGlzU3VzcGVuc2UocmF3Vk5vZGUudHlwZSkgPyByYXdWTm9kZSA6IHZub2RlO1xuICAgIH07XG4gIH1cbn07XG5jb25zdCBLZWVwQWxpdmUgPSBLZWVwQWxpdmVJbXBsO1xuZnVuY3Rpb24gbWF0Y2hlcyhwYXR0ZXJuLCBuYW1lKSB7XG4gIGlmIChpc0FycmF5KHBhdHRlcm4pKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4uc29tZSgocCkgPT4gbWF0Y2hlcyhwLCBuYW1lKSk7XG4gIH0gZWxzZSBpZiAoaXNTdHJpbmcocGF0dGVybikpIHtcbiAgICByZXR1cm4gcGF0dGVybi5zcGxpdChcIixcIikuaW5jbHVkZXMobmFtZSk7XG4gIH0gZWxzZSBpZiAoaXNSZWdFeHAocGF0dGVybikpIHtcbiAgICBwYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG4gICAgcmV0dXJuIHBhdHRlcm4udGVzdChuYW1lKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBvbkFjdGl2YXRlZChob29rLCB0YXJnZXQpIHtcbiAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiYVwiLCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gb25EZWFjdGl2YXRlZChob29rLCB0YXJnZXQpIHtcbiAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiZGFcIiwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCB0eXBlLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpIHtcbiAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2RjIHx8IChob29rLl9fd2RjID0gKCkgPT4ge1xuICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0O1xuICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICBpZiAoY3VycmVudC5pc0RlYWN0aXZhdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIGhvb2soKTtcbiAgfSk7XG4gIGluamVjdEhvb2sodHlwZSwgd3JhcHBlZEhvb2ssIHRhcmdldCk7XG4gIGlmICh0YXJnZXQpIHtcbiAgICBsZXQgY3VycmVudCA9IHRhcmdldC5wYXJlbnQ7XG4gICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudC5wYXJlbnQpIHtcbiAgICAgIGlmIChpc0tlZXBBbGl2ZShjdXJyZW50LnBhcmVudC52bm9kZSkpIHtcbiAgICAgICAgaW5qZWN0VG9LZWVwQWxpdmVSb290KHdyYXBwZWRIb29rLCB0eXBlLCB0YXJnZXQsIGN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaW5qZWN0VG9LZWVwQWxpdmVSb290KGhvb2ssIHR5cGUsIHRhcmdldCwga2VlcEFsaXZlUm9vdCkge1xuICBjb25zdCBpbmplY3RlZCA9IGluamVjdEhvb2soXG4gICAgdHlwZSxcbiAgICBob29rLFxuICAgIGtlZXBBbGl2ZVJvb3QsXG4gICAgdHJ1ZVxuICAgIC8qIHByZXBlbmQgKi9cbiAgKTtcbiAgb25Vbm1vdW50ZWQoKCkgPT4ge1xuICAgIHJlbW92ZShrZWVwQWxpdmVSb290W3R5cGVdLCBpbmplY3RlZCk7XG4gIH0sIHRhcmdldCk7XG59XG5mdW5jdGlvbiByZXNldFNoYXBlRmxhZyh2bm9kZSkge1xuICB2bm9kZS5zaGFwZUZsYWcgJj0gLTI1NztcbiAgdm5vZGUuc2hhcGVGbGFnICY9IC01MTM7XG59XG5mdW5jdGlvbiBnZXRJbm5lckNoaWxkKHZub2RlKSB7XG4gIHJldHVybiB2bm9kZS5zaGFwZUZsYWcgJiAxMjggPyB2bm9kZS5zc0NvbnRlbnQgOiB2bm9kZTtcbn1cblxuZnVuY3Rpb24gaW5qZWN0SG9vayh0eXBlLCBob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UsIHByZXBlbmQgPSBmYWxzZSkge1xuICBpZiAodGFyZ2V0KSB7XG4gICAgY29uc3QgaG9va3MgPSB0YXJnZXRbdHlwZV0gfHwgKHRhcmdldFt0eXBlXSA9IFtdKTtcbiAgICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZWggfHwgKGhvb2suX193ZWggPSAoLi4uYXJncykgPT4ge1xuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UodGFyZ2V0KTtcbiAgICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIHRhcmdldCwgdHlwZSwgYXJncyk7XG4gICAgICByZXNldCgpO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9KTtcbiAgICBpZiAocHJlcGVuZCkge1xuICAgICAgaG9va3MudW5zaGlmdCh3cmFwcGVkSG9vayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhvb2tzLnB1c2god3JhcHBlZEhvb2spO1xuICAgIH1cbiAgICByZXR1cm4gd3JhcHBlZEhvb2s7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGFwaU5hbWUgPSB0b0hhbmRsZXJLZXkoRXJyb3JUeXBlU3RyaW5ncyQxW3R5cGVdLnJlcGxhY2UoLyBob29rJC8sIFwiXCIpKTtcbiAgICB3YXJuJDEoXG4gICAgICBgJHthcGlOYW1lfSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlIHRvIGJlIGFzc29jaWF0ZWQgd2l0aC4gTGlmZWN5Y2xlIGluamVjdGlvbiBBUElzIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGV4ZWN1dGlvbiBvZiBzZXR1cCgpLmAgKyAoYCBJZiB5b3UgYXJlIHVzaW5nIGFzeW5jIHNldHVwKCksIG1ha2Ugc3VyZSB0byByZWdpc3RlciBsaWZlY3ljbGUgaG9va3MgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdCBzdGF0ZW1lbnQuYCApXG4gICAgKTtcbiAgfVxufVxuY29uc3QgY3JlYXRlSG9vayA9IChsaWZlY3ljbGUpID0+IChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpID0+IHtcbiAgaWYgKCFpc0luU1NSQ29tcG9uZW50U2V0dXAgfHwgbGlmZWN5Y2xlID09PSBcInNwXCIpIHtcbiAgICBpbmplY3RIb29rKGxpZmVjeWNsZSwgKC4uLmFyZ3MpID0+IGhvb2soLi4uYXJncyksIHRhcmdldCk7XG4gIH1cbn07XG5jb25zdCBvbkJlZm9yZU1vdW50ID0gY3JlYXRlSG9vayhcImJtXCIpO1xuY29uc3Qgb25Nb3VudGVkID0gY3JlYXRlSG9vayhcIm1cIik7XG5jb25zdCBvbkJlZm9yZVVwZGF0ZSA9IGNyZWF0ZUhvb2soXG4gIFwiYnVcIlxuKTtcbmNvbnN0IG9uVXBkYXRlZCA9IGNyZWF0ZUhvb2soXCJ1XCIpO1xuY29uc3Qgb25CZWZvcmVVbm1vdW50ID0gY3JlYXRlSG9vayhcbiAgXCJidW1cIlxuKTtcbmNvbnN0IG9uVW5tb3VudGVkID0gY3JlYXRlSG9vayhcInVtXCIpO1xuY29uc3Qgb25TZXJ2ZXJQcmVmZXRjaCA9IGNyZWF0ZUhvb2soXG4gIFwic3BcIlxuKTtcbmNvbnN0IG9uUmVuZGVyVHJpZ2dlcmVkID0gY3JlYXRlSG9vayhcInJ0Z1wiKTtcbmNvbnN0IG9uUmVuZGVyVHJhY2tlZCA9IGNyZWF0ZUhvb2soXCJydGNcIik7XG5mdW5jdGlvbiBvbkVycm9yQ2FwdHVyZWQoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XG4gIGluamVjdEhvb2soXCJlY1wiLCBob29rLCB0YXJnZXQpO1xufVxuXG5jb25zdCBDT01QT05FTlRTID0gXCJjb21wb25lbnRzXCI7XG5jb25zdCBESVJFQ1RJVkVTID0gXCJkaXJlY3RpdmVzXCI7XG5mdW5jdGlvbiByZXNvbHZlQ29tcG9uZW50KG5hbWUsIG1heWJlU2VsZlJlZmVyZW5jZSkge1xuICByZXR1cm4gcmVzb2x2ZUFzc2V0KENPTVBPTkVOVFMsIG5hbWUsIHRydWUsIG1heWJlU2VsZlJlZmVyZW5jZSkgfHwgbmFtZTtcbn1cbmNvbnN0IE5VTExfRFlOQU1JQ19DT01QT05FTlQgPSBTeW1ib2wuZm9yKFwidi1uZGNcIik7XG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY0NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgaWYgKGlzU3RyaW5nKGNvbXBvbmVudCkpIHtcbiAgICByZXR1cm4gcmVzb2x2ZUFzc2V0KENPTVBPTkVOVFMsIGNvbXBvbmVudCwgZmFsc2UpIHx8IGNvbXBvbmVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29tcG9uZW50IHx8IE5VTExfRFlOQU1JQ19DT01QT05FTlQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVEaXJlY3RpdmUobmFtZSkge1xuICByZXR1cm4gcmVzb2x2ZUFzc2V0KERJUkVDVElWRVMsIG5hbWUpO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUFzc2V0KHR5cGUsIG5hbWUsIHdhcm5NaXNzaW5nID0gdHJ1ZSwgbWF5YmVTZWxmUmVmZXJlbmNlID0gZmFsc2UpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEluc3RhbmNlO1xuICBpZiAoaW5zdGFuY2UpIHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICAgIGlmICh0eXBlID09PSBDT01QT05FTlRTKSB7XG4gICAgICBjb25zdCBzZWxmTmFtZSA9IGdldENvbXBvbmVudE5hbWUoXG4gICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgICBpZiAoc2VsZk5hbWUgJiYgKHNlbGZOYW1lID09PSBuYW1lIHx8IHNlbGZOYW1lID09PSBjYW1lbGl6ZShuYW1lKSB8fCBzZWxmTmFtZSA9PT0gY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSkpKSB7XG4gICAgICAgIHJldHVybiBDb21wb25lbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IChcbiAgICAgIC8vIGxvY2FsIHJlZ2lzdHJhdGlvblxuICAgICAgLy8gY2hlY2sgaW5zdGFuY2VbdHlwZV0gZmlyc3Qgd2hpY2ggaXMgcmVzb2x2ZWQgZm9yIG9wdGlvbnMgQVBJXG4gICAgICByZXNvbHZlKGluc3RhbmNlW3R5cGVdIHx8IENvbXBvbmVudFt0eXBlXSwgbmFtZSkgfHwgLy8gZ2xvYmFsIHJlZ2lzdHJhdGlvblxuICAgICAgcmVzb2x2ZShpbnN0YW5jZS5hcHBDb250ZXh0W3R5cGVdLCBuYW1lKVxuICAgICk7XG4gICAgaWYgKCFyZXMgJiYgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XG4gICAgICByZXR1cm4gQ29tcG9uZW50O1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuTWlzc2luZyAmJiAhcmVzKSB7XG4gICAgICBjb25zdCBleHRyYSA9IHR5cGUgPT09IENPTVBPTkVOVFMgPyBgXG5JZiB0aGlzIGlzIGEgbmF0aXZlIGN1c3RvbSBlbGVtZW50LCBtYWtlIHN1cmUgdG8gZXhjbHVkZSBpdCBmcm9tIGNvbXBvbmVudCByZXNvbHV0aW9uIHZpYSBjb21waWxlck9wdGlvbnMuaXNDdXN0b21FbGVtZW50LmAgOiBgYDtcbiAgICAgIHdhcm4kMShgRmFpbGVkIHRvIHJlc29sdmUgJHt0eXBlLnNsaWNlKDAsIC0xKX06ICR7bmFtZX0ke2V4dHJhfWApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgcmVzb2x2ZSR7Y2FwaXRhbGl6ZSh0eXBlLnNsaWNlKDAsIC0xKSl9IGNhbiBvbmx5IGJlIHVzZWQgaW4gcmVuZGVyKCkgb3Igc2V0dXAoKS5gXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZShyZWdpc3RyeSwgbmFtZSkge1xuICByZXR1cm4gcmVnaXN0cnkgJiYgKHJlZ2lzdHJ5W25hbWVdIHx8IHJlZ2lzdHJ5W2NhbWVsaXplKG5hbWUpXSB8fCByZWdpc3RyeVtjYXBpdGFsaXplKGNhbWVsaXplKG5hbWUpKV0pO1xufVxuXG5mdW5jdGlvbiByZW5kZXJMaXN0KHNvdXJjZSwgcmVuZGVySXRlbSwgY2FjaGUsIGluZGV4KSB7XG4gIGxldCByZXQ7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlICYmIGNhY2hlW2luZGV4XTtcbiAgY29uc3Qgc291cmNlSXNBcnJheSA9IGlzQXJyYXkoc291cmNlKTtcbiAgaWYgKHNvdXJjZUlzQXJyYXkgfHwgaXNTdHJpbmcoc291cmNlKSkge1xuICAgIGNvbnN0IHNvdXJjZUlzUmVhY3RpdmVBcnJheSA9IHNvdXJjZUlzQXJyYXkgJiYgaXNSZWFjdGl2ZShzb3VyY2UpO1xuICAgIGxldCBuZWVkc1dyYXAgPSBmYWxzZTtcbiAgICBsZXQgaXNSZWFkb25seVNvdXJjZSA9IGZhbHNlO1xuICAgIGlmIChzb3VyY2VJc1JlYWN0aXZlQXJyYXkpIHtcbiAgICAgIG5lZWRzV3JhcCA9ICFpc1NoYWxsb3coc291cmNlKTtcbiAgICAgIGlzUmVhZG9ubHlTb3VyY2UgPSBpc1JlYWRvbmx5KHNvdXJjZSk7XG4gICAgICBzb3VyY2UgPSBzaGFsbG93UmVhZEFycmF5KHNvdXJjZSk7XG4gICAgfVxuICAgIHJldCA9IG5ldyBBcnJheShzb3VyY2UubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHNvdXJjZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oXG4gICAgICAgIG5lZWRzV3JhcCA/IGlzUmVhZG9ubHlTb3VyY2UgPyB0b1JlYWRvbmx5KHRvUmVhY3RpdmUoc291cmNlW2ldKSkgOiB0b1JlYWN0aXZlKHNvdXJjZVtpXSkgOiBzb3VyY2VbaV0sXG4gICAgICAgIGksXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgY2FjaGVkICYmIGNhY2hlZFtpXVxuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNvdXJjZSA9PT0gXCJudW1iZXJcIikge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFOdW1iZXIuaXNJbnRlZ2VyKHNvdXJjZSkpIHtcbiAgICAgIHdhcm4kMShgVGhlIHYtZm9yIHJhbmdlIGV4cGVjdCBhbiBpbnRlZ2VyIHZhbHVlIGJ1dCBnb3QgJHtzb3VyY2V9LmApO1xuICAgIH1cbiAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZTsgaSsrKSB7XG4gICAgICByZXRbaV0gPSByZW5kZXJJdGVtKGkgKyAxLCBpLCB2b2lkIDAsIGNhY2hlZCAmJiBjYWNoZWRbaV0pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgaWYgKHNvdXJjZVtTeW1ib2wuaXRlcmF0b3JdKSB7XG4gICAgICByZXQgPSBBcnJheS5mcm9tKFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIChpdGVtLCBpKSA9PiByZW5kZXJJdGVtKGl0ZW0sIGksIHZvaWQgMCwgY2FjaGVkICYmIGNhY2hlZFtpXSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgICAgcmV0ID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2Vba2V5XSwga2V5LCBpLCBjYWNoZWQgJiYgY2FjaGVkW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0ID0gW107XG4gIH1cbiAgaWYgKGNhY2hlKSB7XG4gICAgY2FjaGVbaW5kZXhdID0gcmV0O1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNsb3RzKHNsb3RzLCBkeW5hbWljU2xvdHMpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeW5hbWljU2xvdHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzbG90ID0gZHluYW1pY1Nsb3RzW2ldO1xuICAgIGlmIChpc0FycmF5KHNsb3QpKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNsb3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgc2xvdHNbc2xvdFtqXS5uYW1lXSA9IHNsb3Rbal0uZm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzbG90KSB7XG4gICAgICBzbG90c1tzbG90Lm5hbWVdID0gc2xvdC5rZXkgPyAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSBzbG90LmZuKC4uLmFyZ3MpO1xuICAgICAgICBpZiAocmVzKSByZXMua2V5ID0gc2xvdC5rZXk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9IDogc2xvdC5mbjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNsb3RzO1xufVxuXG5mdW5jdGlvbiByZW5kZXJTbG90KHNsb3RzLCBuYW1lLCBwcm9wcyA9IHt9LCBmYWxsYmFjaywgbm9TbG90dGVkKSB7XG4gIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudCAmJiBpc0FzeW5jV3JhcHBlcihjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UucGFyZW50KSAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UucGFyZW50LmNlKSB7XG4gICAgaWYgKG5hbWUgIT09IFwiZGVmYXVsdFwiKSBwcm9wcy5uYW1lID0gbmFtZTtcbiAgICByZXR1cm4gb3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKFxuICAgICAgRnJhZ21lbnQsXG4gICAgICBudWxsLFxuICAgICAgW2NyZWF0ZVZOb2RlKFwic2xvdFwiLCBwcm9wcywgZmFsbGJhY2sgJiYgZmFsbGJhY2soKSldLFxuICAgICAgNjRcbiAgICApO1xuICB9XG4gIGxldCBzbG90ID0gc2xvdHNbbmFtZV07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNsb3QgJiYgc2xvdC5sZW5ndGggPiAxKSB7XG4gICAgd2FybiQxKFxuICAgICAgYFNTUi1vcHRpbWl6ZWQgc2xvdCBmdW5jdGlvbiBkZXRlY3RlZCBpbiBhIG5vbi1TU1Itb3B0aW1pemVkIHJlbmRlciBmdW5jdGlvbi4gWW91IG5lZWQgdG8gbWFyayB0aGlzIGNvbXBvbmVudCB3aXRoICRkeW5hbWljLXNsb3RzIGluIHRoZSBwYXJlbnQgdGVtcGxhdGUuYFxuICAgICk7XG4gICAgc2xvdCA9ICgpID0+IFtdO1xuICB9XG4gIGlmIChzbG90ICYmIHNsb3QuX2MpIHtcbiAgICBzbG90Ll9kID0gZmFsc2U7XG4gIH1cbiAgb3BlbkJsb2NrKCk7XG4gIGNvbnN0IHZhbGlkU2xvdENvbnRlbnQgPSBzbG90ICYmIGVuc3VyZVZhbGlkVk5vZGUoc2xvdChwcm9wcykpO1xuICBjb25zdCBzbG90S2V5ID0gcHJvcHMua2V5IHx8IC8vIHNsb3QgY29udGVudCBhcnJheSBvZiBhIGR5bmFtaWMgY29uZGl0aW9uYWwgc2xvdCBtYXkgaGF2ZSBhIGJyYW5jaFxuICAvLyBrZXkgYXR0YWNoZWQgaW4gdGhlIGBjcmVhdGVTbG90c2AgaGVscGVyLCByZXNwZWN0IHRoYXRcbiAgdmFsaWRTbG90Q29udGVudCAmJiB2YWxpZFNsb3RDb250ZW50LmtleTtcbiAgY29uc3QgcmVuZGVyZWQgPSBjcmVhdGVCbG9jayhcbiAgICBGcmFnbWVudCxcbiAgICB7XG4gICAgICBrZXk6IChzbG90S2V5ICYmICFpc1N5bWJvbChzbG90S2V5KSA/IHNsb3RLZXkgOiBgXyR7bmFtZX1gKSArIC8vICM3MjU2IGZvcmNlIGRpZmZlcmVudGlhdGUgZmFsbGJhY2sgY29udGVudCBmcm9tIGFjdHVhbCBjb250ZW50XG4gICAgICAoIXZhbGlkU2xvdENvbnRlbnQgJiYgZmFsbGJhY2sgPyBcIl9mYlwiIDogXCJcIilcbiAgICB9LFxuICAgIHZhbGlkU2xvdENvbnRlbnQgfHwgKGZhbGxiYWNrID8gZmFsbGJhY2soKSA6IFtdKSxcbiAgICB2YWxpZFNsb3RDb250ZW50ICYmIHNsb3RzLl8gPT09IDEgPyA2NCA6IC0yXG4gICk7XG4gIGlmICghbm9TbG90dGVkICYmIHJlbmRlcmVkLnNjb3BlSWQpIHtcbiAgICByZW5kZXJlZC5zbG90U2NvcGVJZHMgPSBbcmVuZGVyZWQuc2NvcGVJZCArIFwiLXNcIl07XG4gIH1cbiAgaWYgKHNsb3QgJiYgc2xvdC5fYykge1xuICAgIHNsb3QuX2QgPSB0cnVlO1xuICB9XG4gIHJldHVybiByZW5kZXJlZDtcbn1cbmZ1bmN0aW9uIGVuc3VyZVZhbGlkVk5vZGUodm5vZGVzKSB7XG4gIHJldHVybiB2bm9kZXMuc29tZSgoY2hpbGQpID0+IHtcbiAgICBpZiAoIWlzVk5vZGUoY2hpbGQpKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gQ29tbWVudCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCAmJiAhZW5zdXJlVmFsaWRWTm9kZShjaGlsZC5jaGlsZHJlbikpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pID8gdm5vZGVzIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gdG9IYW5kbGVycyhvYmosIHByZXNlcnZlQ2FzZUlmTmVjZXNzYXJ5KSB7XG4gIGNvbnN0IHJldCA9IHt9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNPYmplY3Qob2JqKSkge1xuICAgIHdhcm4kMShgdi1vbiB3aXRoIG5vIGFyZ3VtZW50IGV4cGVjdHMgYW4gb2JqZWN0IHZhbHVlLmApO1xuICAgIHJldHVybiByZXQ7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgcmV0W3ByZXNlcnZlQ2FzZUlmTmVjZXNzYXJ5ICYmIC9bQS1aXS8udGVzdChrZXkpID8gYG9uOiR7a2V5fWAgOiB0b0hhbmRsZXJLZXkoa2V5KV0gPSBvYmpba2V5XTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5jb25zdCBnZXRQdWJsaWNJbnN0YW5jZSA9IChpKSA9PiB7XG4gIGlmICghaSkgcmV0dXJuIG51bGw7XG4gIGlmIChpc1N0YXRlZnVsQ29tcG9uZW50KGkpKSByZXR1cm4gZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2UoaSk7XG4gIHJldHVybiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCk7XG59O1xuY29uc3QgcHVibGljUHJvcGVydGllc01hcCA9IChcbiAgLy8gTW92ZSBQVVJFIG1hcmtlciB0byBuZXcgbGluZSB0byB3b3JrYXJvdW5kIGNvbXBpbGVyIGRpc2NhcmRpbmcgaXRcbiAgLy8gZHVlIHRvIHR5cGUgYW5ub3RhdGlvblxuICAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB7XG4gICAgJDogKGkpID0+IGksXG4gICAgJGVsOiAoaSkgPT4gaS52bm9kZS5lbCxcbiAgICAkZGF0YTogKGkpID0+IGkuZGF0YSxcbiAgICAkcHJvcHM6IChpKSA9PiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGkucHJvcHMpIDogaS5wcm9wcyxcbiAgICAkYXR0cnM6IChpKSA9PiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGkuYXR0cnMpIDogaS5hdHRycyxcbiAgICAkc2xvdHM6IChpKSA9PiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGkuc2xvdHMpIDogaS5zbG90cyxcbiAgICAkcmVmczogKGkpID0+ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkoaS5yZWZzKSA6IGkucmVmcyxcbiAgICAkcGFyZW50OiAoaSkgPT4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpLFxuICAgICRyb290OiAoaSkgPT4gZ2V0UHVibGljSW5zdGFuY2UoaS5yb290KSxcbiAgICAkaG9zdDogKGkpID0+IGkuY2UsXG4gICAgJGVtaXQ6IChpKSA9PiBpLmVtaXQsXG4gICAgJG9wdGlvbnM6IChpKSA9PiBfX1ZVRV9PUFRJT05TX0FQSV9fID8gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaSkgOiBpLnR5cGUsXG4gICAgJGZvcmNlVXBkYXRlOiAoaSkgPT4gaS5mIHx8IChpLmYgPSAoKSA9PiB7XG4gICAgICBxdWV1ZUpvYihpLnVwZGF0ZSk7XG4gICAgfSksXG4gICAgJG5leHRUaWNrOiAoaSkgPT4gaS5uIHx8IChpLm4gPSBuZXh0VGljay5iaW5kKGkucHJveHkpKSxcbiAgICAkd2F0Y2g6IChpKSA9PiBfX1ZVRV9PUFRJT05TX0FQSV9fID8gaW5zdGFuY2VXYXRjaC5iaW5kKGkpIDogTk9PUFxuICB9KVxuKTtcbmNvbnN0IGlzUmVzZXJ2ZWRQcmVmaXggPSAoa2V5KSA9PiBrZXkgPT09IFwiX1wiIHx8IGtleSA9PT0gXCIkXCI7XG5jb25zdCBoYXNTZXR1cEJpbmRpbmcgPSAoc3RhdGUsIGtleSkgPT4gc3RhdGUgIT09IEVNUFRZX09CSiAmJiAhc3RhdGUuX19pc1NjcmlwdFNldHVwICYmIGhhc093bihzdGF0ZSwga2V5KTtcbmNvbnN0IFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IHtcbiAgZ2V0KHsgXzogaW5zdGFuY2UgfSwga2V5KSB7XG4gICAgaWYgKGtleSA9PT0gXCJfX3Zfc2tpcFwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUsIGRhdGEsIHByb3BzLCBhY2Nlc3NDYWNoZSwgdHlwZSwgYXBwQ29udGV4dCB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5ID09PSBcIl9faXNWdWVcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBub3JtYWxpemVkUHJvcHM7XG4gICAgaWYgKGtleVswXSAhPT0gXCIkXCIpIHtcbiAgICAgIGNvbnN0IG4gPSBhY2Nlc3NDYWNoZVtrZXldO1xuICAgICAgaWYgKG4gIT09IHZvaWQgMCkge1xuICAgICAgICBzd2l0Y2ggKG4pIHtcbiAgICAgICAgICBjYXNlIDEgLyogU0VUVVAgKi86XG4gICAgICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xuICAgICAgICAgIGNhc2UgMiAvKiBEQVRBICovOlxuICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcbiAgICAgICAgICBjYXNlIDQgLyogQ09OVEVYVCAqLzpcbiAgICAgICAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICAgICAgICBjYXNlIDMgLyogUFJPUFMgKi86XG4gICAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChoYXNTZXR1cEJpbmRpbmcoc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMSAvKiBTRVRVUCAqLztcbiAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAyIC8qIERBVEEgKi87XG4gICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAvLyBvbmx5IGNhY2hlIG90aGVyIHByb3BlcnRpZXMgd2hlbiBpbnN0YW5jZSBoYXMgZGVjbGFyZWQgKHRodXMgc3RhYmxlKVxuICAgICAgICAvLyBwcm9wc1xuICAgICAgICAobm9ybWFsaXplZFByb3BzID0gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSAmJiBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpXG4gICAgICApIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDMgLyogUFJPUFMgKi87XG4gICAgICAgIHJldHVybiBwcm9wc1trZXldO1xuICAgICAgfSBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIENPTlRFWFQgKi87XG4gICAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoIV9fVlVFX09QVElPTlNfQVBJX18gfHwgc2hvdWxkQ2FjaGVBY2Nlc3MpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDAgLyogT1RIRVIgKi87XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHB1YmxpY0dldHRlciA9IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XTtcbiAgICBsZXQgY3NzTW9kdWxlLCBnbG9iYWxQcm9wZXJ0aWVzO1xuICAgIGlmIChwdWJsaWNHZXR0ZXIpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiJGF0dHJzXCIpIHtcbiAgICAgICAgdHJhY2soaW5zdGFuY2UuYXR0cnMsIFwiZ2V0XCIsIFwiXCIpO1xuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5ID09PSBcIiRzbG90c1wiKSB7XG4gICAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiLCBrZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHB1YmxpY0dldHRlcihpbnN0YW5jZSk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIC8vIGNzcyBtb2R1bGUgKGluamVjdGVkIGJ5IHZ1ZS1sb2FkZXIpXG4gICAgICAoY3NzTW9kdWxlID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmIChjc3NNb2R1bGUgPSBjc3NNb2R1bGVba2V5XSlcbiAgICApIHtcbiAgICAgIHJldHVybiBjc3NNb2R1bGU7XG4gICAgfSBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XG4gICAgICBhY2Nlc3NDYWNoZVtrZXldID0gNCAvKiBDT05URVhUICovO1xuICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAvLyBnbG9iYWwgcHJvcGVydGllc1xuICAgICAgZ2xvYmFsUHJvcGVydGllcyA9IGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGhhc093bihnbG9iYWxQcm9wZXJ0aWVzLCBrZXkpXG4gICAgKSB7XG4gICAgICB7XG4gICAgICAgIHJldHVybiBnbG9iYWxQcm9wZXJ0aWVzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSAmJiAoIWlzU3RyaW5nKGtleSkgfHwgLy8gIzEwOTEgYXZvaWQgaW50ZXJuYWwgaXNSZWYvaXNWTm9kZSBjaGVja3Mgb24gY29tcG9uZW50IGluc3RhbmNlIGxlYWRpbmdcbiAgICAvLyB0byBpbmZpbml0ZSB3YXJuaW5nIGxvb3BcbiAgICBrZXkuaW5kZXhPZihcIl9fdlwiKSAhPT0gMCkpIHtcbiAgICAgIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIGtleVxuICAgICAgICAgICl9IG11c3QgYmUgYWNjZXNzZWQgdmlhICRkYXRhIGJlY2F1c2UgaXQgc3RhcnRzIHdpdGggYSByZXNlcnZlZCBjaGFyYWN0ZXIgKFwiJFwiIG9yIFwiX1wiKSBhbmQgaXMgbm90IHByb3hpZWQgb24gdGhlIHJlbmRlciBjb250ZXh0LmBcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UgPT09IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gd2FzIGFjY2Vzc2VkIGR1cmluZyByZW5kZXIgYnV0IGlzIG5vdCBkZWZpbmVkIG9uIGluc3RhbmNlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHNldCh7IF86IGluc3RhbmNlIH0sIGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCB7IGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICBzZXR1cFN0YXRlW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgd2FybiQxKGBDYW5ub3QgbXV0YXRlIDxzY3JpcHQgc2V0dXA+IGJpbmRpbmcgXCIke2tleX1cIiBmcm9tIE9wdGlvbnMgQVBJLmApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaGFzT3duKGluc3RhbmNlLnByb3BzLCBrZXkpKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgQXR0ZW1wdGluZyB0byBtdXRhdGUgcHJvcCBcIiR7a2V5fVwiLiBQcm9wcyBhcmUgcmVhZG9ubHkuYCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChrZXlbMF0gPT09IFwiJFwiICYmIGtleS5zbGljZSgxKSBpbiBpbnN0YW5jZSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwdWJsaWMgcHJvcGVydHkgXCIke2tleX1cIi4gUHJvcGVydGllcyBzdGFydGluZyB3aXRoICQgYXJlIHJlc2VydmVkIGFuZCByZWFkb25seS5gXG4gICAgICApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXkgaW4gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN0eFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBoYXMoe1xuICAgIF86IHsgZGF0YSwgc2V0dXBTdGF0ZSwgYWNjZXNzQ2FjaGUsIGN0eCwgYXBwQ29udGV4dCwgcHJvcHNPcHRpb25zLCB0eXBlIH1cbiAgfSwga2V5KSB7XG4gICAgbGV0IG5vcm1hbGl6ZWRQcm9wcywgY3NzTW9kdWxlcztcbiAgICByZXR1cm4gISEoYWNjZXNzQ2FjaGVba2V5XSB8fCBkYXRhICE9PSBFTVBUWV9PQkogJiYga2V5WzBdICE9PSBcIiRcIiAmJiBoYXNPd24oZGF0YSwga2V5KSB8fCBoYXNTZXR1cEJpbmRpbmcoc2V0dXBTdGF0ZSwga2V5KSB8fCAobm9ybWFsaXplZFByb3BzID0gcHJvcHNPcHRpb25zWzBdKSAmJiBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpIHx8IGhhc093bihjdHgsIGtleSkgfHwgaGFzT3duKHB1YmxpY1Byb3BlcnRpZXNNYXAsIGtleSkgfHwgaGFzT3duKGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGtleSkgfHwgKGNzc01vZHVsZXMgPSB0eXBlLl9fY3NzTW9kdWxlcykgJiYgY3NzTW9kdWxlc1trZXldKTtcbiAgfSxcbiAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICBpZiAoZGVzY3JpcHRvci5nZXQgIT0gbnVsbCkge1xuICAgICAgdGFyZ2V0Ll8uYWNjZXNzQ2FjaGVba2V5XSA9IDA7XG4gICAgfSBlbHNlIGlmIChoYXNPd24oZGVzY3JpcHRvciwgXCJ2YWx1ZVwiKSkge1xuICAgICAgdGhpcy5zZXQodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IudmFsdWUsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn07XG5pZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlKSB7XG4gIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5vd25LZXlzID0gKHRhcmdldCkgPT4ge1xuICAgIHdhcm4kMShcbiAgICAgIGBBdm9pZCBhcHAgbG9naWMgdGhhdCByZWxpZXMgb24gZW51bWVyYXRpbmcga2V5cyBvbiBhIGNvbXBvbmVudCBpbnN0YW5jZS4gVGhlIGtleXMgd2lsbCBiZSBlbXB0eSBpbiBwcm9kdWN0aW9uIG1vZGUgdG8gYXZvaWQgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQuYFxuICAgICk7XG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICB9O1xufVxuY29uc3QgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIGV4dGVuZCh7fSwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLCB7XG4gIGdldCh0YXJnZXQsIGtleSkge1xuICAgIGlmIChrZXkgPT09IFN5bWJvbC51bnNjb3BhYmxlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmdldCh0YXJnZXQsIGtleSwgdGFyZ2V0KTtcbiAgfSxcbiAgaGFzKF8sIGtleSkge1xuICAgIGNvbnN0IGhhcyA9IGtleVswXSAhPT0gXCJfXCIgJiYgIWlzR2xvYmFsbHlBbGxvd2VkKGtleSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWhhcyAmJiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuaGFzKF8sIGtleSkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAga2V5XG4gICAgICAgICl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBfIHdoaWNoIGlzIGEgcmVzZXJ2ZWQgcHJlZml4IGZvciBWdWUgaW50ZXJuYWxzLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBoYXM7XG4gIH1cbn0pO1xuZnVuY3Rpb24gY3JlYXRlRGV2UmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCB0YXJnZXQgPSB7fTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgYF9gLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGdldDogKCkgPT4gaW5zdGFuY2VcbiAgfSk7XG4gIE9iamVjdC5rZXlzKHB1YmxpY1Byb3BlcnRpZXNNYXApLmZvckVhY2goKGtleSkgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBnZXQ6ICgpID0+IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XShpbnN0YW5jZSksXG4gICAgICAvLyBpbnRlcmNlcHRlZCBieSB0aGUgcHJveHkgc28gbm8gbmVlZCBmb3IgaW1wbGVtZW50YXRpb24sXG4gICAgICAvLyBidXQgbmVlZGVkIHRvIHByZXZlbnQgc2V0IGVycm9yc1xuICAgICAgc2V0OiBOT09QXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGN0eCxcbiAgICBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdXG4gIH0gPSBpbnN0YW5jZTtcbiAgaWYgKHByb3BzT3B0aW9ucykge1xuICAgIE9iamVjdC5rZXlzKHByb3BzT3B0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGluc3RhbmNlLnByb3BzW2tleV0sXG4gICAgICAgIHNldDogTk9PUFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUgfSA9IGluc3RhbmNlO1xuICBPYmplY3Qua2V5cyh0b1JhdyhzZXR1cFN0YXRlKSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKCFzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCkge1xuICAgICAgaWYgKGlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYHNldHVwKCkgcmV0dXJuIHByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICApfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXCIkXCIgb3IgXCJfXCIgd2hpY2ggYXJlIHJlc2VydmVkIHByZWZpeGVzIGZvciBWdWUgaW50ZXJuYWxzLmBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBzZXR1cFN0YXRlW2tleV0sXG4gICAgICAgIHNldDogTk9PUFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3Qgd2FyblJ1bnRpbWVVc2FnZSA9IChtZXRob2QpID0+IHdhcm4kMShcbiAgYCR7bWV0aG9kfSgpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgPHNjcmlwdCBzZXR1cD4gb2YgYSBzaW5nbGUgZmlsZSBjb21wb25lbnQuIEl0cyBhcmd1bWVudHMgc2hvdWxkIGJlIGNvbXBpbGVkIGF3YXkgYW5kIHBhc3NpbmcgaXQgYXQgcnVudGltZSBoYXMgbm8gZWZmZWN0LmBcbik7XG5mdW5jdGlvbiBkZWZpbmVQcm9wcygpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVQcm9wc2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZGVmaW5lRW1pdHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRW1pdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZUV4cG9zZShleHBvc2VkKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRXhwb3NlYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlZmluZU9wdGlvbnMob3B0aW9ucykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZU9wdGlvbnNgKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVmaW5lU2xvdHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lU2xvdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZU1vZGVsKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoXCJkZWZpbmVNb2RlbFwiKTtcbiAgfVxufVxuZnVuY3Rpb24gd2l0aERlZmF1bHRzKHByb3BzLCBkZWZhdWx0cykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYHdpdGhEZWZhdWx0c2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gdXNlU2xvdHMoKSB7XG4gIHJldHVybiBnZXRDb250ZXh0KFwidXNlU2xvdHNcIikuc2xvdHM7XG59XG5mdW5jdGlvbiB1c2VBdHRycygpIHtcbiAgcmV0dXJuIGdldENvbnRleHQoXCJ1c2VBdHRyc1wiKS5hdHRycztcbn1cbmZ1bmN0aW9uIGdldENvbnRleHQoY2FsbGVkRnVuY3Rpb25OYW1lKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWkpIHtcbiAgICB3YXJuJDEoYCR7Y2FsbGVkRnVuY3Rpb25OYW1lfSgpIGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBpbnN0YW5jZS5gKTtcbiAgfVxuICByZXR1cm4gaS5zZXR1cENvbnRleHQgfHwgKGkuc2V0dXBDb250ZXh0ID0gY3JlYXRlU2V0dXBDb250ZXh0KGkpKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhwcm9wcykge1xuICByZXR1cm4gaXNBcnJheShwcm9wcykgPyBwcm9wcy5yZWR1Y2UoXG4gICAgKG5vcm1hbGl6ZWQsIHApID0+IChub3JtYWxpemVkW3BdID0gbnVsbCwgbm9ybWFsaXplZCksXG4gICAge31cbiAgKSA6IHByb3BzO1xufVxuZnVuY3Rpb24gbWVyZ2VEZWZhdWx0cyhyYXcsIGRlZmF1bHRzKSB7XG4gIGNvbnN0IHByb3BzID0gbm9ybWFsaXplUHJvcHNPckVtaXRzKHJhdyk7XG4gIGZvciAoY29uc3Qga2V5IGluIGRlZmF1bHRzKSB7XG4gICAgaWYgKGtleS5zdGFydHNXaXRoKFwiX19za2lwXCIpKSBjb250aW51ZTtcbiAgICBsZXQgb3B0ID0gcHJvcHNba2V5XTtcbiAgICBpZiAob3B0KSB7XG4gICAgICBpZiAoaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSkge1xuICAgICAgICBvcHQgPSBwcm9wc1trZXldID0geyB0eXBlOiBvcHQsIGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdC5kZWZhdWx0ID0gZGVmYXVsdHNba2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdCA9PT0gbnVsbCkge1xuICAgICAgb3B0ID0gcHJvcHNba2V5XSA9IHsgZGVmYXVsdDogZGVmYXVsdHNba2V5XSB9O1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBwcm9wcyBkZWZhdWx0IGtleSBcIiR7a2V5fVwiIGhhcyBubyBjb3JyZXNwb25kaW5nIGRlY2xhcmF0aW9uLmApO1xuICAgIH1cbiAgICBpZiAob3B0ICYmIGRlZmF1bHRzW2BfX3NraXBfJHtrZXl9YF0pIHtcbiAgICAgIG9wdC5za2lwRmFjdG9yeSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wcztcbn1cbmZ1bmN0aW9uIG1lcmdlTW9kZWxzKGEsIGIpIHtcbiAgaWYgKCFhIHx8ICFiKSByZXR1cm4gYSB8fCBiO1xuICBpZiAoaXNBcnJheShhKSAmJiBpc0FycmF5KGIpKSByZXR1cm4gYS5jb25jYXQoYik7XG4gIHJldHVybiBleHRlbmQoe30sIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhhKSwgbm9ybWFsaXplUHJvcHNPckVtaXRzKGIpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3BzUmVzdFByb3h5KHByb3BzLCBleGNsdWRlZEtleXMpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgaWYgKCFleGNsdWRlZEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJldCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gcHJvcHNba2V5XVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiB3aXRoQXN5bmNDb250ZXh0KGdldEF3YWl0YWJsZSkge1xuICBjb25zdCBjdHggPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWN0eCkge1xuICAgIHdhcm4kMShcbiAgICAgIGB3aXRoQXN5bmNDb250ZXh0IGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBjdXJyZW50IGluc3RhbmNlLiBUaGlzIGlzIGxpa2VseSBhIGJ1Zy5gXG4gICAgKTtcbiAgfVxuICBsZXQgYXdhaXRhYmxlID0gZ2V0QXdhaXRhYmxlKCk7XG4gIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmIChpc1Byb21pc2UoYXdhaXRhYmxlKSkge1xuICAgIGF3YWl0YWJsZSA9IGF3YWl0YWJsZS5jYXRjaCgoZSkgPT4ge1xuICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGN0eCk7XG4gICAgICB0aHJvdyBlO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBbYXdhaXRhYmxlLCAoKSA9PiBzZXRDdXJyZW50SW5zdGFuY2UoY3R4KV07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSB7XG4gIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAodHlwZSwga2V5KSA9PiB7XG4gICAgaWYgKGNhY2hlW2tleV0pIHtcbiAgICAgIHdhcm4kMShgJHt0eXBlfSBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIGFscmVhZHkgZGVmaW5lZCBpbiAke2NhY2hlW2tleV19LmApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWNoZVtrZXldID0gdHlwZTtcbiAgICB9XG4gIH07XG59XG5sZXQgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xuZnVuY3Rpb24gYXBwbHlPcHRpb25zKGluc3RhbmNlKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSk7XG4gIGNvbnN0IHB1YmxpY1RoaXMgPSBpbnN0YW5jZS5wcm94eTtcbiAgY29uc3QgY3R4ID0gaW5zdGFuY2UuY3R4O1xuICBzaG91bGRDYWNoZUFjY2VzcyA9IGZhbHNlO1xuICBpZiAob3B0aW9ucy5iZWZvcmVDcmVhdGUpIHtcbiAgICBjYWxsSG9vayhvcHRpb25zLmJlZm9yZUNyZWF0ZSwgaW5zdGFuY2UsIFwiYmNcIik7XG4gIH1cbiAgY29uc3Qge1xuICAgIC8vIHN0YXRlXG4gICAgZGF0YTogZGF0YU9wdGlvbnMsXG4gICAgY29tcHV0ZWQ6IGNvbXB1dGVkT3B0aW9ucyxcbiAgICBtZXRob2RzLFxuICAgIHdhdGNoOiB3YXRjaE9wdGlvbnMsXG4gICAgcHJvdmlkZTogcHJvdmlkZU9wdGlvbnMsXG4gICAgaW5qZWN0OiBpbmplY3RPcHRpb25zLFxuICAgIC8vIGxpZmVjeWNsZVxuICAgIGNyZWF0ZWQsXG4gICAgYmVmb3JlTW91bnQsXG4gICAgbW91bnRlZCxcbiAgICBiZWZvcmVVcGRhdGUsXG4gICAgdXBkYXRlZCxcbiAgICBhY3RpdmF0ZWQsXG4gICAgZGVhY3RpdmF0ZWQsXG4gICAgYmVmb3JlRGVzdHJveSxcbiAgICBiZWZvcmVVbm1vdW50LFxuICAgIGRlc3Ryb3llZCxcbiAgICB1bm1vdW50ZWQsXG4gICAgcmVuZGVyLFxuICAgIHJlbmRlclRyYWNrZWQsXG4gICAgcmVuZGVyVHJpZ2dlcmVkLFxuICAgIGVycm9yQ2FwdHVyZWQsXG4gICAgc2VydmVyUHJlZmV0Y2gsXG4gICAgLy8gcHVibGljIEFQSVxuICAgIGV4cG9zZSxcbiAgICBpbmhlcml0QXR0cnMsXG4gICAgLy8gYXNzZXRzXG4gICAgY29tcG9uZW50cyxcbiAgICBkaXJlY3RpdmVzLFxuICAgIGZpbHRlcnNcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkgOiBudWxsO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IFtwcm9wc09wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICAgIGlmIChwcm9wc09wdGlvbnMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzT3B0aW9ucykge1xuICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJQcm9wc1wiIC8qIFBST1BTICovLCBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaW5qZWN0T3B0aW9ucykge1xuICAgIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKTtcbiAgfVxuICBpZiAobWV0aG9kcykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIG1ldGhvZHMpIHtcbiAgICAgIGNvbnN0IG1ldGhvZEhhbmRsZXIgPSBtZXRob2RzW2tleV07XG4gICAgICBpZiAoaXNGdW5jdGlvbihtZXRob2RIYW5kbGVyKSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgdmFsdWU6IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0eFtrZXldID0gbWV0aG9kSGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiTWV0aG9kc1wiIC8qIE1FVEhPRFMgKi8sIGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYE1ldGhvZCBcIiR7a2V5fVwiIGhhcyB0eXBlIFwiJHt0eXBlb2YgbWV0aG9kSGFuZGxlcn1cIiBpbiB0aGUgY29tcG9uZW50IGRlZmluaXRpb24uIERpZCB5b3UgcmVmZXJlbmNlIHRoZSBmdW5jdGlvbiBjb3JyZWN0bHk/YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoZGF0YU9wdGlvbnMpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNGdW5jdGlvbihkYXRhT3B0aW9ucykpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFRoZSBkYXRhIG9wdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uIFBsYWluIG9iamVjdCB1c2FnZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBkYXRhT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzUHJvbWlzZShkYXRhKSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgZGF0YSgpIHJldHVybmVkIGEgUHJvbWlzZSAtIG5vdGUgZGF0YSgpIGNhbm5vdCBiZSBhc3luYzsgSWYgeW91IGludGVuZCB0byBwZXJmb3JtIGRhdGEgZmV0Y2hpbmcgYmVmb3JlIGNvbXBvbmVudCByZW5kZXJzLCB1c2UgYXN5bmMgc2V0dXAoKSArIDxTdXNwZW5zZT4uYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYGRhdGEoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UuZGF0YSA9IHJlYWN0aXZlKGRhdGEpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkRhdGFcIiAvKiBEQVRBICovLCBrZXkpO1xuICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBnZXQ6ICgpID0+IGRhdGFba2V5XSxcbiAgICAgICAgICAgICAgc2V0OiBOT09QXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xuICBpZiAoY29tcHV0ZWRPcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY29tcHV0ZWRPcHRpb25zKSB7XG4gICAgICBjb25zdCBvcHQgPSBjb21wdXRlZE9wdGlvbnNba2V5XTtcbiAgICAgIGNvbnN0IGdldCA9IGlzRnVuY3Rpb24ob3B0KSA/IG9wdC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpIDogaXNGdW5jdGlvbihvcHQuZ2V0KSA/IG9wdC5nZXQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKSA6IE5PT1A7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBnZXQgPT09IE5PT1ApIHtcbiAgICAgICAgd2FybiQxKGBDb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGhhcyBubyBnZXR0ZXIuYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBzZXQgPSAhaXNGdW5jdGlvbihvcHQpICYmIGlzRnVuY3Rpb24ob3B0LnNldCkgPyBvcHQuc2V0LmJpbmQocHVibGljVGhpcykgOiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gKCkgPT4ge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFdyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgcmVhZG9ubHkuYFxuICAgICAgICApO1xuICAgICAgfSA6IE5PT1A7XG4gICAgICBjb25zdCBjID0gY29tcHV0ZWQoe1xuICAgICAgICBnZXQsXG4gICAgICAgIHNldFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGMudmFsdWUsXG4gICAgICAgIHNldDogKHYpID0+IGMudmFsdWUgPSB2XG4gICAgICB9KTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkNvbXB1dGVkXCIgLyogQ09NUFVURUQgKi8sIGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh3YXRjaE9wdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB3YXRjaE9wdGlvbnMpIHtcbiAgICAgIGNyZWF0ZVdhdGNoZXIod2F0Y2hPcHRpb25zW2tleV0sIGN0eCwgcHVibGljVGhpcywga2V5KTtcbiAgICB9XG4gIH1cbiAgaWYgKHByb3ZpZGVPcHRpb25zKSB7XG4gICAgY29uc3QgcHJvdmlkZXMgPSBpc0Z1bmN0aW9uKHByb3ZpZGVPcHRpb25zKSA/IHByb3ZpZGVPcHRpb25zLmNhbGwocHVibGljVGhpcykgOiBwcm92aWRlT3B0aW9ucztcbiAgICBSZWZsZWN0Lm93bktleXMocHJvdmlkZXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgcHJvdmlkZShrZXksIHByb3ZpZGVzW2tleV0pO1xuICAgIH0pO1xuICB9XG4gIGlmIChjcmVhdGVkKSB7XG4gICAgY2FsbEhvb2soY3JlYXRlZCwgaW5zdGFuY2UsIFwiY1wiKTtcbiAgfVxuICBmdW5jdGlvbiByZWdpc3RlckxpZmVjeWNsZUhvb2socmVnaXN0ZXIsIGhvb2spIHtcbiAgICBpZiAoaXNBcnJheShob29rKSkge1xuICAgICAgaG9vay5mb3JFYWNoKChfaG9vaykgPT4gcmVnaXN0ZXIoX2hvb2suYmluZChwdWJsaWNUaGlzKSkpO1xuICAgIH0gZWxzZSBpZiAoaG9vaykge1xuICAgICAgcmVnaXN0ZXIoaG9vay5iaW5kKHB1YmxpY1RoaXMpKTtcbiAgICB9XG4gIH1cbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlTW91bnQsIGJlZm9yZU1vdW50KTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uTW91bnRlZCwgbW91bnRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVwZGF0ZSwgYmVmb3JlVXBkYXRlKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVXBkYXRlZCwgdXBkYXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkFjdGl2YXRlZCwgYWN0aXZhdGVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRGVhY3RpdmF0ZWQsIGRlYWN0aXZhdGVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRXJyb3JDYXB0dXJlZCwgZXJyb3JDYXB0dXJlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblJlbmRlclRyYWNrZWQsIHJlbmRlclRyYWNrZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmlnZ2VyZWQsIHJlbmRlclRyaWdnZXJlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVubW91bnQsIGJlZm9yZVVubW91bnQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25Vbm1vdW50ZWQsIHVubW91bnRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblNlcnZlclByZWZldGNoLCBzZXJ2ZXJQcmVmZXRjaCk7XG4gIGlmIChpc0FycmF5KGV4cG9zZSkpIHtcbiAgICBpZiAoZXhwb3NlLmxlbmd0aCkge1xuICAgICAgY29uc3QgZXhwb3NlZCA9IGluc3RhbmNlLmV4cG9zZWQgfHwgKGluc3RhbmNlLmV4cG9zZWQgPSB7fSk7XG4gICAgICBleHBvc2UuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvc2VkLCBrZXksIHtcbiAgICAgICAgICBnZXQ6ICgpID0+IHB1YmxpY1RoaXNba2V5XSxcbiAgICAgICAgICBzZXQ6ICh2YWwpID0+IHB1YmxpY1RoaXNba2V5XSA9IHZhbCxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICghaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgICAgaW5zdGFuY2UuZXhwb3NlZCA9IHt9O1xuICAgIH1cbiAgfVxuICBpZiAocmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCkge1xuICAgIGluc3RhbmNlLnJlbmRlciA9IHJlbmRlcjtcbiAgfVxuICBpZiAoaW5oZXJpdEF0dHJzICE9IG51bGwpIHtcbiAgICBpbnN0YW5jZS5pbmhlcml0QXR0cnMgPSBpbmhlcml0QXR0cnM7XG4gIH1cbiAgaWYgKGNvbXBvbmVudHMpIGluc3RhbmNlLmNvbXBvbmVudHMgPSBjb21wb25lbnRzO1xuICBpZiAoZGlyZWN0aXZlcykgaW5zdGFuY2UuZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXM7XG4gIGlmIChzZXJ2ZXJQcmVmZXRjaCkge1xuICAgIG1hcmtBc3luY0JvdW5kYXJ5KGluc3RhbmNlKTtcbiAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZUluamVjdGlvbnMoaW5qZWN0T3B0aW9ucywgY3R4LCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSBOT09QKSB7XG4gIGlmIChpc0FycmF5KGluamVjdE9wdGlvbnMpKSB7XG4gICAgaW5qZWN0T3B0aW9ucyA9IG5vcm1hbGl6ZUluamVjdChpbmplY3RPcHRpb25zKTtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBpbmplY3RPcHRpb25zKSB7XG4gICAgY29uc3Qgb3B0ID0gaW5qZWN0T3B0aW9uc1trZXldO1xuICAgIGxldCBpbmplY3RlZDtcbiAgICBpZiAoaXNPYmplY3Qob3B0KSkge1xuICAgICAgaWYgKFwiZGVmYXVsdFwiIGluIG9wdCkge1xuICAgICAgICBpbmplY3RlZCA9IGluamVjdChcbiAgICAgICAgICBvcHQuZnJvbSB8fCBrZXksXG4gICAgICAgICAgb3B0LmRlZmF1bHQsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5qZWN0ZWQgPSBpbmplY3Qob3B0LmZyb20gfHwga2V5KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5qZWN0ZWQgPSBpbmplY3Qob3B0KTtcbiAgICB9XG4gICAgaWYgKGlzUmVmKGluamVjdGVkKSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBpbmplY3RlZC52YWx1ZSxcbiAgICAgICAgc2V0OiAodikgPT4gaW5qZWN0ZWQudmFsdWUgPSB2XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3R4W2tleV0gPSBpbmplY3RlZDtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkluamVjdFwiIC8qIElOSkVDVCAqLywga2V5KTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxIb29rKGhvb2ssIGluc3RhbmNlLCB0eXBlKSB7XG4gIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgIGlzQXJyYXkoaG9vaykgPyBob29rLm1hcCgoaCkgPT4gaC5iaW5kKGluc3RhbmNlLnByb3h5KSkgOiBob29rLmJpbmQoaW5zdGFuY2UucHJveHkpLFxuICAgIGluc3RhbmNlLFxuICAgIHR5cGVcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVdhdGNoZXIocmF3LCBjdHgsIHB1YmxpY1RoaXMsIGtleSkge1xuICBsZXQgZ2V0dGVyID0ga2V5LmluY2x1ZGVzKFwiLlwiKSA/IGNyZWF0ZVBhdGhHZXR0ZXIocHVibGljVGhpcywga2V5KSA6ICgpID0+IHB1YmxpY1RoaXNba2V5XTtcbiAgaWYgKGlzU3RyaW5nKHJhdykpIHtcbiAgICBjb25zdCBoYW5kbGVyID0gY3R4W3Jhd107XG4gICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICAgIHtcbiAgICAgICAgd2F0Y2goZ2V0dGVyLCBoYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShgSW52YWxpZCB3YXRjaCBoYW5kbGVyIHNwZWNpZmllZCBieSBrZXkgXCIke3Jhd31cImAsIGhhbmRsZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHJhdykpIHtcbiAgICB7XG4gICAgICB3YXRjaChnZXR0ZXIsIHJhdy5iaW5kKHB1YmxpY1RoaXMpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QocmF3KSkge1xuICAgIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICAgIHJhdy5mb3JFYWNoKChyKSA9PiBjcmVhdGVXYXRjaGVyKHIsIGN0eCwgcHVibGljVGhpcywga2V5KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSBpc0Z1bmN0aW9uKHJhdy5oYW5kbGVyKSA/IHJhdy5oYW5kbGVyLmJpbmQocHVibGljVGhpcykgOiBjdHhbcmF3LmhhbmRsZXJdO1xuICAgICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICAgICAgd2F0Y2goZ2V0dGVyLCBoYW5kbGVyLCByYXcpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHdhcm4kMShgSW52YWxpZCB3YXRjaCBoYW5kbGVyIHNwZWNpZmllZCBieSBrZXkgXCIke3Jhdy5oYW5kbGVyfVwiYCwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggb3B0aW9uOiBcIiR7a2V5fVwiYCwgcmF3KTtcbiAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpIHtcbiAgY29uc3QgYmFzZSA9IGluc3RhbmNlLnR5cGU7XG4gIGNvbnN0IHsgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gYmFzZTtcbiAgY29uc3Qge1xuICAgIG1peGluczogZ2xvYmFsTWl4aW5zLFxuICAgIG9wdGlvbnNDYWNoZTogY2FjaGUsXG4gICAgY29uZmlnOiB7IG9wdGlvbk1lcmdlU3RyYXRlZ2llcyB9XG4gIH0gPSBpbnN0YW5jZS5hcHBDb250ZXh0O1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoYmFzZSk7XG4gIGxldCByZXNvbHZlZDtcbiAgaWYgKGNhY2hlZCkge1xuICAgIHJlc29sdmVkID0gY2FjaGVkO1xuICB9IGVsc2UgaWYgKCFnbG9iYWxNaXhpbnMubGVuZ3RoICYmICFtaXhpbnMgJiYgIWV4dGVuZHNPcHRpb25zKSB7XG4gICAge1xuICAgICAgcmVzb2x2ZWQgPSBiYXNlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXNvbHZlZCA9IHt9O1xuICAgIGlmIChnbG9iYWxNaXhpbnMubGVuZ3RoKSB7XG4gICAgICBnbG9iYWxNaXhpbnMuZm9yRWFjaChcbiAgICAgICAgKG0pID0+IG1lcmdlT3B0aW9ucyhyZXNvbHZlZCwgbSwgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzLCB0cnVlKVxuICAgICAgKTtcbiAgICB9XG4gICAgbWVyZ2VPcHRpb25zKHJlc29sdmVkLCBiYXNlLCBvcHRpb25NZXJnZVN0cmF0ZWdpZXMpO1xuICB9XG4gIGlmIChpc09iamVjdChiYXNlKSkge1xuICAgIGNhY2hlLnNldChiYXNlLCByZXNvbHZlZCk7XG4gIH1cbiAgcmV0dXJuIHJlc29sdmVkO1xufVxuZnVuY3Rpb24gbWVyZ2VPcHRpb25zKHRvLCBmcm9tLCBzdHJhdHMsIGFzTWl4aW4gPSBmYWxzZSkge1xuICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGZyb207XG4gIGlmIChleHRlbmRzT3B0aW9ucykge1xuICAgIG1lcmdlT3B0aW9ucyh0bywgZXh0ZW5kc09wdGlvbnMsIHN0cmF0cywgdHJ1ZSk7XG4gIH1cbiAgaWYgKG1peGlucykge1xuICAgIG1peGlucy5mb3JFYWNoKFxuICAgICAgKG0pID0+IG1lcmdlT3B0aW9ucyh0bywgbSwgc3RyYXRzLCB0cnVlKVxuICAgICk7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gZnJvbSkge1xuICAgIGlmIChhc01peGluICYmIGtleSA9PT0gXCJleHBvc2VcIikge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBcImV4cG9zZVwiIG9wdGlvbiBpcyBpZ25vcmVkIHdoZW4gZGVjbGFyZWQgaW4gbWl4aW5zIG9yIGV4dGVuZHMuIEl0IHNob3VsZCBvbmx5IGJlIGRlY2xhcmVkIGluIHRoZSBiYXNlIGNvbXBvbmVudCBpdHNlbGYuYFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3RyYXQgPSBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzW2tleV0gfHwgc3RyYXRzICYmIHN0cmF0c1trZXldO1xuICAgICAgdG9ba2V5XSA9IHN0cmF0ID8gc3RyYXQodG9ba2V5XSwgZnJvbVtrZXldKSA6IGZyb21ba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvO1xufVxuY29uc3QgaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyA9IHtcbiAgZGF0YTogbWVyZ2VEYXRhRm4sXG4gIHByb3BzOiBtZXJnZUVtaXRzT3JQcm9wc09wdGlvbnMsXG4gIGVtaXRzOiBtZXJnZUVtaXRzT3JQcm9wc09wdGlvbnMsXG4gIC8vIG9iamVjdHNcbiAgbWV0aG9kczogbWVyZ2VPYmplY3RPcHRpb25zLFxuICBjb21wdXRlZDogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAvLyBsaWZlY3ljbGVcbiAgYmVmb3JlQ3JlYXRlOiBtZXJnZUFzQXJyYXksXG4gIGNyZWF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlTW91bnQ6IG1lcmdlQXNBcnJheSxcbiAgbW91bnRlZDogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVVcGRhdGU6IG1lcmdlQXNBcnJheSxcbiAgdXBkYXRlZDogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVEZXN0cm95OiBtZXJnZUFzQXJyYXksXG4gIGJlZm9yZVVubW91bnQ6IG1lcmdlQXNBcnJheSxcbiAgZGVzdHJveWVkOiBtZXJnZUFzQXJyYXksXG4gIHVubW91bnRlZDogbWVyZ2VBc0FycmF5LFxuICBhY3RpdmF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgZGVhY3RpdmF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgZXJyb3JDYXB0dXJlZDogbWVyZ2VBc0FycmF5LFxuICBzZXJ2ZXJQcmVmZXRjaDogbWVyZ2VBc0FycmF5LFxuICAvLyBhc3NldHNcbiAgY29tcG9uZW50czogbWVyZ2VPYmplY3RPcHRpb25zLFxuICBkaXJlY3RpdmVzOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gIC8vIHdhdGNoXG4gIHdhdGNoOiBtZXJnZVdhdGNoT3B0aW9ucyxcbiAgLy8gcHJvdmlkZSAvIGluamVjdFxuICBwcm92aWRlOiBtZXJnZURhdGFGbixcbiAgaW5qZWN0OiBtZXJnZUluamVjdFxufTtcbmZ1bmN0aW9uIG1lcmdlRGF0YUZuKHRvLCBmcm9tKSB7XG4gIGlmICghZnJvbSkge1xuICAgIHJldHVybiB0bztcbiAgfVxuICBpZiAoIXRvKSB7XG4gICAgcmV0dXJuIGZyb207XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZERhdGFGbigpIHtcbiAgICByZXR1cm4gKGV4dGVuZCkoXG4gICAgICBpc0Z1bmN0aW9uKHRvKSA/IHRvLmNhbGwodGhpcywgdGhpcykgOiB0byxcbiAgICAgIGlzRnVuY3Rpb24oZnJvbSkgPyBmcm9tLmNhbGwodGhpcywgdGhpcykgOiBmcm9tXG4gICAgKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIG1lcmdlSW5qZWN0KHRvLCBmcm9tKSB7XG4gIHJldHVybiBtZXJnZU9iamVjdE9wdGlvbnMobm9ybWFsaXplSW5qZWN0KHRvKSwgbm9ybWFsaXplSW5qZWN0KGZyb20pKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUluamVjdChyYXcpIHtcbiAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXNbcmF3W2ldXSA9IHJhd1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICByZXR1cm4gcmF3O1xufVxuZnVuY3Rpb24gbWVyZ2VBc0FycmF5KHRvLCBmcm9tKSB7XG4gIHJldHVybiB0byA/IFsuLi5uZXcgU2V0KFtdLmNvbmNhdCh0bywgZnJvbSkpXSA6IGZyb207XG59XG5mdW5jdGlvbiBtZXJnZU9iamVjdE9wdGlvbnModG8sIGZyb20pIHtcbiAgcmV0dXJuIHRvID8gZXh0ZW5kKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB0bywgZnJvbSkgOiBmcm9tO1xufVxuZnVuY3Rpb24gbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zKHRvLCBmcm9tKSB7XG4gIGlmICh0bykge1xuICAgIGlmIChpc0FycmF5KHRvKSAmJiBpc0FycmF5KGZyb20pKSB7XG4gICAgICByZXR1cm4gWy4uLi8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFsuLi50bywgLi4uZnJvbV0pXTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVuZChcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgbm9ybWFsaXplUHJvcHNPckVtaXRzKHRvKSxcbiAgICAgIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhmcm9tICE9IG51bGwgPyBmcm9tIDoge30pXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnJvbTtcbiAgfVxufVxuZnVuY3Rpb24gbWVyZ2VXYXRjaE9wdGlvbnModG8sIGZyb20pIHtcbiAgaWYgKCF0bykgcmV0dXJuIGZyb207XG4gIGlmICghZnJvbSkgcmV0dXJuIHRvO1xuICBjb25zdCBtZXJnZWQgPSBleHRlbmQoLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksIHRvKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gZnJvbSkge1xuICAgIG1lcmdlZFtrZXldID0gbWVyZ2VBc0FycmF5KHRvW2tleV0sIGZyb21ba2V5XSk7XG4gIH1cbiAgcmV0dXJuIG1lcmdlZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQXBwQ29udGV4dCgpIHtcbiAgcmV0dXJuIHtcbiAgICBhcHA6IG51bGwsXG4gICAgY29uZmlnOiB7XG4gICAgICBpc05hdGl2ZVRhZzogTk8sXG4gICAgICBwZXJmb3JtYW5jZTogZmFsc2UsXG4gICAgICBnbG9iYWxQcm9wZXJ0aWVzOiB7fSxcbiAgICAgIG9wdGlvbk1lcmdlU3RyYXRlZ2llczoge30sXG4gICAgICBlcnJvckhhbmRsZXI6IHZvaWQgMCxcbiAgICAgIHdhcm5IYW5kbGVyOiB2b2lkIDAsXG4gICAgICBjb21waWxlck9wdGlvbnM6IHt9XG4gICAgfSxcbiAgICBtaXhpbnM6IFtdLFxuICAgIGNvbXBvbmVudHM6IHt9LFxuICAgIGRpcmVjdGl2ZXM6IHt9LFxuICAgIHByb3ZpZGVzOiAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICBvcHRpb25zQ2FjaGU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLFxuICAgIHByb3BzQ2FjaGU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLFxuICAgIGVtaXRzQ2FjaGU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpXG4gIH07XG59XG5sZXQgdWlkJDEgPSAwO1xuZnVuY3Rpb24gY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQXBwKHJvb3RDb21wb25lbnQsIHJvb3RQcm9wcyA9IG51bGwpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24ocm9vdENvbXBvbmVudCkpIHtcbiAgICAgIHJvb3RDb21wb25lbnQgPSBleHRlbmQoe30sIHJvb3RDb21wb25lbnQpO1xuICAgIH1cbiAgICBpZiAocm9vdFByb3BzICE9IG51bGwgJiYgIWlzT2JqZWN0KHJvb3RQcm9wcykpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGByb290IHByb3BzIHBhc3NlZCB0byBhcHAubW91bnQoKSBtdXN0IGJlIGFuIG9iamVjdC5gKTtcbiAgICAgIHJvb3RQcm9wcyA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSBjcmVhdGVBcHBDb250ZXh0KCk7XG4gICAgY29uc3QgaW5zdGFsbGVkUGx1Z2lucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuICAgIGNvbnN0IHBsdWdpbkNsZWFudXBGbnMgPSBbXTtcbiAgICBsZXQgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgY29uc3QgYXBwID0gY29udGV4dC5hcHAgPSB7XG4gICAgICBfdWlkOiB1aWQkMSsrLFxuICAgICAgX2NvbXBvbmVudDogcm9vdENvbXBvbmVudCxcbiAgICAgIF9wcm9wczogcm9vdFByb3BzLFxuICAgICAgX2NvbnRhaW5lcjogbnVsbCxcbiAgICAgIF9jb250ZXh0OiBjb250ZXh0LFxuICAgICAgX2luc3RhbmNlOiBudWxsLFxuICAgICAgdmVyc2lvbixcbiAgICAgIGdldCBjb25maWcoKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmNvbmZpZztcbiAgICAgIH0sXG4gICAgICBzZXQgY29uZmlnKHYpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgYXBwLmNvbmZpZyBjYW5ub3QgYmUgcmVwbGFjZWQuIE1vZGlmeSBpbmRpdmlkdWFsIG9wdGlvbnMgaW5zdGVhZC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZShwbHVnaW4sIC4uLm9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGluc3RhbGxlZFBsdWdpbnMuaGFzKHBsdWdpbikpIHtcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgUGx1Z2luIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwLmApO1xuICAgICAgICB9IGVsc2UgaWYgKHBsdWdpbiAmJiBpc0Z1bmN0aW9uKHBsdWdpbi5pbnN0YWxsKSkge1xuICAgICAgICAgIGluc3RhbGxlZFBsdWdpbnMuYWRkKHBsdWdpbik7XG4gICAgICAgICAgcGx1Z2luLmluc3RhbGwoYXBwLCAuLi5vcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHBsdWdpbikpIHtcbiAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xuICAgICAgICAgIHBsdWdpbihhcHAsIC4uLm9wdGlvbnMpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgQSBwbHVnaW4gbXVzdCBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhbiBvYmplY3Qgd2l0aCBhbiBcImluc3RhbGxcIiBmdW5jdGlvbi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIG1peGluKG1peGluKSB7XG4gICAgICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fKSB7XG4gICAgICAgICAgaWYgKCFjb250ZXh0Lm1peGlucy5pbmNsdWRlcyhtaXhpbikpIHtcbiAgICAgICAgICAgIGNvbnRleHQubWl4aW5zLnB1c2gobWl4aW4pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBcIk1peGluIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwXCIgKyAobWl4aW4ubmFtZSA/IGA6ICR7bWl4aW4ubmFtZX1gIDogXCJcIilcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJNaXhpbnMgYXJlIG9ubHkgYXZhaWxhYmxlIGluIGJ1aWxkcyBzdXBwb3J0aW5nIE9wdGlvbnMgQVBJXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgY29tcG9uZW50KG5hbWUsIGNvbXBvbmVudCkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb250ZXh0LmNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5jb21wb25lbnRzW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSkge1xuICAgICAgICAgIHdhcm4kMShgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSA9IGNvbXBvbmVudDtcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBkaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGlyZWN0aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0pIHtcbiAgICAgICAgICB3YXJuJDEoYERpcmVjdGl2ZSBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0gPSBkaXJlY3RpdmU7XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgbW91bnQocm9vdENvbnRhaW5lciwgaXNIeWRyYXRlLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFpc01vdW50ZWQpIHtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiByb290Q29udGFpbmVyLl9fdnVlX2FwcF9fKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBUaGVyZSBpcyBhbHJlYWR5IGFuIGFwcCBpbnN0YW5jZSBtb3VudGVkIG9uIHRoZSBob3N0IGNvbnRhaW5lci5cbiBJZiB5b3Ugd2FudCB0byBtb3VudCBhbm90aGVyIGFwcCBvbiB0aGUgc2FtZSBob3N0IGNvbnRhaW5lciwgeW91IG5lZWQgdG8gdW5tb3VudCB0aGUgcHJldmlvdXMgYXBwIGJ5IGNhbGxpbmcgXFxgYXBwLnVubW91bnQoKVxcYCBmaXJzdC5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB2bm9kZSA9IGFwcC5fY2VWTm9kZSB8fCBjcmVhdGVWTm9kZShyb290Q29tcG9uZW50LCByb290UHJvcHMpO1xuICAgICAgICAgIHZub2RlLmFwcENvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgIGlmIChuYW1lc3BhY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSA9IFwic3ZnXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChuYW1lc3BhY2UgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlbG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgICAgICAgICAgIGNsb25lZC5lbCA9IG51bGw7XG4gICAgICAgICAgICAgIHJlbmRlcihjbG9uZWQsIHJvb3RDb250YWluZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNIeWRyYXRlICYmIGh5ZHJhdGUpIHtcbiAgICAgICAgICAgIGh5ZHJhdGUodm5vZGUsIHJvb3RDb250YWluZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW5kZXIodm5vZGUsIHJvb3RDb250YWluZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlzTW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgYXBwLl9jb250YWluZXIgPSByb290Q29udGFpbmVyO1xuICAgICAgICAgIHJvb3RDb250YWluZXIuX192dWVfYXBwX18gPSBhcHA7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICBhcHAuX2luc3RhbmNlID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgICAgICAgZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSh2bm9kZS5jb21wb25lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgQXBwIGhhcyBhbHJlYWR5IGJlZW4gbW91bnRlZC5cbklmIHlvdSB3YW50IHRvIHJlbW91bnQgdGhlIHNhbWUgYXBwLCBtb3ZlIHlvdXIgYXBwIGNyZWF0aW9uIGxvZ2ljIGludG8gYSBmYWN0b3J5IGZ1bmN0aW9uIGFuZCBjcmVhdGUgZnJlc2ggYXBwIGluc3RhbmNlcyBmb3IgZWFjaCBtb3VudCAtIGUuZy4gXFxgY29uc3QgY3JlYXRlTXlBcHAgPSAoKSA9PiBjcmVhdGVBcHAoQXBwKVxcYGBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25Vbm1vdW50KGNsZWFudXBGbikge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0eXBlb2YgY2xlYW51cEZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgRXhwZWN0ZWQgZnVuY3Rpb24gYXMgZmlyc3QgYXJndW1lbnQgdG8gYXBwLm9uVW5tb3VudCgpLCBidXQgZ290ICR7dHlwZW9mIGNsZWFudXBGbn1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBwbHVnaW5DbGVhbnVwRm5zLnB1c2goY2xlYW51cEZuKTtcbiAgICAgIH0sXG4gICAgICB1bm1vdW50KCkge1xuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICAgICAgICBwbHVnaW5DbGVhbnVwRm5zLFxuICAgICAgICAgICAgYXBwLl9pbnN0YW5jZSxcbiAgICAgICAgICAgIDE2XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZW5kZXIobnVsbCwgYXBwLl9jb250YWluZXIpO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgYXBwLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICBkZXZ0b29sc1VubW91bnRBcHAoYXBwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIGFwcC5fY29udGFpbmVyLl9fdnVlX2FwcF9fO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoYENhbm5vdCB1bm1vdW50IGFuIGFwcCB0aGF0IGlzIG5vdCBtb3VudGVkLmApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcHJvdmlkZShrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSBpbiBjb250ZXh0LnByb3ZpZGVzKSB7XG4gICAgICAgICAgaWYgKGhhc093bihjb250ZXh0LnByb3ZpZGVzLCBrZXkpKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBBcHAgYWxyZWFkeSBwcm92aWRlcyBwcm9wZXJ0eSB3aXRoIGtleSBcIiR7U3RyaW5nKGtleSl9XCIuIEl0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gd2l0aCB0aGUgbmV3IHZhbHVlLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYEFwcCBhbHJlYWR5IHByb3ZpZGVzIHByb3BlcnR5IHdpdGgga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBpbmhlcml0ZWQgZnJvbSBpdHMgcGFyZW50IGVsZW1lbnQuIEl0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gd2l0aCB0aGUgbmV3IHZhbHVlLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQucHJvdmlkZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIHJ1bldpdGhDb250ZXh0KGZuKSB7XG4gICAgICAgIGNvbnN0IGxhc3RBcHAgPSBjdXJyZW50QXBwO1xuICAgICAgICBjdXJyZW50QXBwID0gYXBwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGN1cnJlbnRBcHAgPSBsYXN0QXBwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gYXBwO1xuICB9O1xufVxubGV0IGN1cnJlbnRBcHAgPSBudWxsO1xuXG5mdW5jdGlvbiBwcm92aWRlKGtleSwgdmFsdWUpIHtcbiAgaWYgKCFjdXJyZW50SW5zdGFuY2UpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBwcm92aWRlKCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKS5gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzO1xuICAgIGNvbnN0IHBhcmVudFByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnBhcmVudCAmJiBjdXJyZW50SW5zdGFuY2UucGFyZW50LnByb3ZpZGVzO1xuICAgIGlmIChwYXJlbnRQcm92aWRlcyA9PT0gcHJvdmlkZXMpIHtcbiAgICAgIHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRQcm92aWRlcyk7XG4gICAgfVxuICAgIHByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuZnVuY3Rpb24gaW5qZWN0KGtleSwgZGVmYXVsdFZhbHVlLCB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgPSBmYWxzZSkge1xuICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoaW5zdGFuY2UgfHwgY3VycmVudEFwcCkge1xuICAgIGxldCBwcm92aWRlcyA9IGN1cnJlbnRBcHAgPyBjdXJyZW50QXBwLl9jb250ZXh0LnByb3ZpZGVzIDogaW5zdGFuY2UgPyBpbnN0YW5jZS5wYXJlbnQgPT0gbnVsbCB8fCBpbnN0YW5jZS5jZSA/IGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQgJiYgaW5zdGFuY2Uudm5vZGUuYXBwQ29udGV4dC5wcm92aWRlcyA6IGluc3RhbmNlLnBhcmVudC5wcm92aWRlcyA6IHZvaWQgMDtcbiAgICBpZiAocHJvdmlkZXMgJiYga2V5IGluIHByb3ZpZGVzKSB7XG4gICAgICByZXR1cm4gcHJvdmlkZXNba2V5XTtcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gdHJlYXREZWZhdWx0QXNGYWN0b3J5ICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKSA/IGRlZmF1bHRWYWx1ZS5jYWxsKGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5KSA6IGRlZmF1bHRWYWx1ZTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShgaW5qZWN0aW9uIFwiJHtTdHJpbmcoa2V5KX1cIiBub3QgZm91bmQuYCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoYGluamVjdCgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkgb3IgZnVuY3Rpb25hbCBjb21wb25lbnRzLmApO1xuICB9XG59XG5mdW5jdGlvbiBoYXNJbmplY3Rpb25Db250ZXh0KCkge1xuICByZXR1cm4gISEoZ2V0Q3VycmVudEluc3RhbmNlKCkgfHwgY3VycmVudEFwcCk7XG59XG5cbmNvbnN0IGludGVybmFsT2JqZWN0UHJvdG8gPSB7fTtcbmNvbnN0IGNyZWF0ZUludGVybmFsT2JqZWN0ID0gKCkgPT4gT2JqZWN0LmNyZWF0ZShpbnRlcm5hbE9iamVjdFByb3RvKTtcbmNvbnN0IGlzSW50ZXJuYWxPYmplY3QgPSAob2JqKSA9PiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gaW50ZXJuYWxPYmplY3RQcm90bztcblxuZnVuY3Rpb24gaW5pdFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgaXNTdGF0ZWZ1bCwgaXNTU1IgPSBmYWxzZSkge1xuICBjb25zdCBwcm9wcyA9IHt9O1xuICBjb25zdCBhdHRycyA9IGNyZWF0ZUludGVybmFsT2JqZWN0KCk7XG4gIGluc3RhbmNlLnByb3BzRGVmYXVsdHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSB7XG4gICAgaWYgKCEoa2V5IGluIHByb3BzKSkge1xuICAgICAgcHJvcHNba2V5XSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xuICB9XG4gIGlmIChpc1N0YXRlZnVsKSB7XG4gICAgaW5zdGFuY2UucHJvcHMgPSBpc1NTUiA/IHByb3BzIDogc2hhbGxvd1JlYWN0aXZlKHByb3BzKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWluc3RhbmNlLnR5cGUucHJvcHMpIHtcbiAgICAgIGluc3RhbmNlLnByb3BzID0gYXR0cnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLnByb3BzID0gcHJvcHM7XG4gICAgfVxuICB9XG4gIGluc3RhbmNlLmF0dHJzID0gYXR0cnM7XG59XG5mdW5jdGlvbiBpc0luSG1yQ29udGV4dChpbnN0YW5jZSkge1xuICB3aGlsZSAoaW5zdGFuY2UpIHtcbiAgICBpZiAoaW5zdGFuY2UudHlwZS5fX2htcklkKSByZXR1cm4gdHJ1ZTtcbiAgICBpbnN0YW5jZSA9IGluc3RhbmNlLnBhcmVudDtcbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCByYXdQcmV2UHJvcHMsIG9wdGltaXplZCkge1xuICBjb25zdCB7XG4gICAgcHJvcHMsXG4gICAgYXR0cnMsXG4gICAgdm5vZGU6IHsgcGF0Y2hGbGFnIH1cbiAgfSA9IGluc3RhbmNlO1xuICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gIGNvbnN0IFtvcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgbGV0IGhhc0F0dHJzQ2hhbmdlZCA9IGZhbHNlO1xuICBpZiAoXG4gICAgLy8gYWx3YXlzIGZvcmNlIGZ1bGwgZGlmZiBpbiBkZXZcbiAgICAvLyAtICMxOTQyIGlmIGhtciBpcyBlbmFibGVkIHdpdGggc2ZjIGNvbXBvbmVudFxuICAgIC8vIC0gdml0ZSM4NzIgbm9uLXNmYyBjb21wb25lbnQgdXNlZCBieSBzZmMgY29tcG9uZW50XG4gICAgISghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSW5IbXJDb250ZXh0KGluc3RhbmNlKSkgJiYgKG9wdGltaXplZCB8fCBwYXRjaEZsYWcgPiAwKSAmJiAhKHBhdGNoRmxhZyAmIDE2KVxuICApIHtcbiAgICBpZiAocGF0Y2hGbGFnICYgOCkge1xuICAgICAgY29uc3QgcHJvcHNUb1VwZGF0ZSA9IGluc3RhbmNlLnZub2RlLmR5bmFtaWNQcm9wcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcbiAgICAgICAgaWYgKGlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICBpZiAoaGFzT3duKGF0dHJzLCBrZXkpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjYW1lbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgICAgICAgcHJvcHNbY2FtZWxpemVkS2V5XSA9IHJlc29sdmVQcm9wVmFsdWUoXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIHJhd0N1cnJlbnRQcm9wcyxcbiAgICAgICAgICAgICAgY2FtZWxpemVkS2V5LFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpKSB7XG4gICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgIH1cbiAgICBsZXQga2ViYWJLZXk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3Q3VycmVudFByb3BzKSB7XG4gICAgICBpZiAoIXJhd1Byb3BzIHx8IC8vIGZvciBjYW1lbENhc2VcbiAgICAgICFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiYgLy8gaXQncyBwb3NzaWJsZSB0aGUgb3JpZ2luYWwgcHJvcHMgd2FzIHBhc3NlZCBpbiBhcyBrZWJhYi1jYXNlXG4gICAgICAvLyBhbmQgY29udmVydGVkIHRvIGNhbWVsQ2FzZSAoIzk1NSlcbiAgICAgICgoa2ViYWJLZXkgPSBoeXBoZW5hdGUoa2V5KSkgPT09IGtleSB8fCAhaGFzT3duKHJhd1Byb3BzLCBrZWJhYktleSkpKSB7XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgaWYgKHJhd1ByZXZQcm9wcyAmJiAvLyBmb3IgY2FtZWxDYXNlXG4gICAgICAgICAgKHJhd1ByZXZQcm9wc1trZXldICE9PSB2b2lkIDAgfHwgLy8gZm9yIGtlYmFiLWNhc2VcbiAgICAgICAgICByYXdQcmV2UHJvcHNba2ViYWJLZXldICE9PSB2b2lkIDApKSB7XG4gICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgcmF3Q3VycmVudFByb3BzLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhdHRycyAhPT0gcmF3Q3VycmVudFByb3BzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgICAgICBpZiAoIXJhd1Byb3BzIHx8ICFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiYgdHJ1ZSkge1xuICAgICAgICAgIGRlbGV0ZSBhdHRyc1trZXldO1xuICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGhhc0F0dHJzQ2hhbmdlZCkge1xuICAgIHRyaWdnZXIoaW5zdGFuY2UuYXR0cnMsIFwic2V0XCIsIFwiXCIpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgdmFsaWRhdGVQcm9wcyhyYXdQcm9wcyB8fCB7fSwgcHJvcHMsIGluc3RhbmNlKTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSB7XG4gIGNvbnN0IFtvcHRpb25zLCBuZWVkQ2FzdEtleXNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICBsZXQgaGFzQXR0cnNDaGFuZ2VkID0gZmFsc2U7XG4gIGxldCByYXdDYXN0VmFsdWVzO1xuICBpZiAocmF3UHJvcHMpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gcmF3UHJvcHMpIHtcbiAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWUgPSByYXdQcm9wc1trZXldO1xuICAgICAgbGV0IGNhbWVsS2V5O1xuICAgICAgaWYgKG9wdGlvbnMgJiYgaGFzT3duKG9wdGlvbnMsIGNhbWVsS2V5ID0gY2FtZWxpemUoa2V5KSkpIHtcbiAgICAgICAgaWYgKCFuZWVkQ2FzdEtleXMgfHwgIW5lZWRDYXN0S2V5cy5pbmNsdWRlcyhjYW1lbEtleSkpIHtcbiAgICAgICAgICBwcm9wc1tjYW1lbEtleV0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAocmF3Q2FzdFZhbHVlcyB8fCAocmF3Q2FzdFZhbHVlcyA9IHt9KSlbY2FtZWxLZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIWlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgICBpZiAoIShrZXkgaW4gYXR0cnMpIHx8IHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKG5lZWRDYXN0S2V5cykge1xuICAgIGNvbnN0IHJhd0N1cnJlbnRQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICBjb25zdCBjYXN0VmFsdWVzID0gcmF3Q2FzdFZhbHVlcyB8fCBFTVBUWV9PQko7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWVkQ2FzdEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IG5lZWRDYXN0S2V5c1tpXTtcbiAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICByYXdDdXJyZW50UHJvcHMsXG4gICAgICAgIGtleSxcbiAgICAgICAgY2FzdFZhbHVlc1trZXldLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgIWhhc093bihjYXN0VmFsdWVzLCBrZXkpXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaGFzQXR0cnNDaGFuZ2VkO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCBwcm9wcywga2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGlzQWJzZW50KSB7XG4gIGNvbnN0IG9wdCA9IG9wdGlvbnNba2V5XTtcbiAgaWYgKG9wdCAhPSBudWxsKSB7XG4gICAgY29uc3QgaGFzRGVmYXVsdCA9IGhhc093bihvcHQsIFwiZGVmYXVsdFwiKTtcbiAgICBpZiAoaGFzRGVmYXVsdCAmJiB2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdDtcbiAgICAgIGlmIChvcHQudHlwZSAhPT0gRnVuY3Rpb24gJiYgIW9wdC5za2lwRmFjdG9yeSAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgeyBwcm9wc0RlZmF1bHRzIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgaWYgKGtleSBpbiBwcm9wc0RlZmF1bHRzKSB7XG4gICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldID0gZGVmYXVsdFZhbHVlLmNhbGwoXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcHJvcHNcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGluc3RhbmNlLmNlKSB7XG4gICAgICAgIGluc3RhbmNlLmNlLl9zZXRQcm9wKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0WzAgLyogc2hvdWxkQ2FzdCAqL10pIHtcbiAgICAgIGlmIChpc0Fic2VudCAmJiAhaGFzRGVmYXVsdCkge1xuICAgICAgICB2YWx1ZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChvcHRbMSAvKiBzaG91bGRDYXN0VHJ1ZSAqL10gJiYgKHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09PSBoeXBoZW5hdGUoa2V5KSkpIHtcbiAgICAgICAgdmFsdWUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5jb25zdCBtaXhpblByb3BzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgY2FjaGUgPSBfX1ZVRV9PUFRJT05TX0FQSV9fICYmIGFzTWl4aW4gPyBtaXhpblByb3BzQ2FjaGUgOiBhcHBDb250ZXh0LnByb3BzQ2FjaGU7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcbiAgaWYgKGNhY2hlZCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmF3ID0gY29tcC5wcm9wcztcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHt9O1xuICBjb25zdCBuZWVkQ2FzdEtleXMgPSBbXTtcbiAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICBjb25zdCBleHRlbmRQcm9wcyA9IChyYXcyKSA9PiB7XG4gICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcbiAgICAgIGNvbnN0IFtwcm9wcywga2V5c10gPSBub3JtYWxpemVQcm9wc09wdGlvbnMocmF3MiwgYXBwQ29udGV4dCwgdHJ1ZSk7XG4gICAgICBleHRlbmQobm9ybWFsaXplZCwgcHJvcHMpO1xuICAgICAgaWYgKGtleXMpIG5lZWRDYXN0S2V5cy5wdXNoKC4uLmtleXMpO1xuICAgIH07XG4gICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xuICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgfVxuICAgIGlmIChjb21wLmV4dGVuZHMpIHtcbiAgICAgIGV4dGVuZFByb3BzKGNvbXAuZXh0ZW5kcyk7XG4gICAgfVxuICAgIGlmIChjb21wLm1peGlucykge1xuICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgfVxuICB9XG4gIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XG4gICAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgICBjYWNoZS5zZXQoY29tcCwgRU1QVFlfQVJSKTtcbiAgICB9XG4gICAgcmV0dXJuIEVNUFRZX0FSUjtcbiAgfVxuICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc1N0cmluZyhyYXdbaV0pKSB7XG4gICAgICAgIHdhcm4kMShgcHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LmAsIHJhd1tpXSk7XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUocmF3W2ldKTtcbiAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XG4gICAgICAgIG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBFTVBUWV9PQko7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHJhdykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc09iamVjdChyYXcpKSB7XG4gICAgICB3YXJuJDEoYGludmFsaWQgcHJvcHMgb3B0aW9uc2AsIHJhdyk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHJhdykge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xuICAgICAgICBjb25zdCBvcHQgPSByYXdba2V5XTtcbiAgICAgICAgY29uc3QgcHJvcCA9IG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpID8geyB0eXBlOiBvcHQgfSA6IGV4dGVuZCh7fSwgb3B0KTtcbiAgICAgICAgY29uc3QgcHJvcFR5cGUgPSBwcm9wLnR5cGU7XG4gICAgICAgIGxldCBzaG91bGRDYXN0ID0gZmFsc2U7XG4gICAgICAgIGxldCBzaG91bGRDYXN0VHJ1ZSA9IHRydWU7XG4gICAgICAgIGlmIChpc0FycmF5KHByb3BUeXBlKSkge1xuICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwcm9wVHlwZS5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwcm9wVHlwZVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCB0eXBlTmFtZSA9IGlzRnVuY3Rpb24odHlwZSkgJiYgdHlwZS5uYW1lO1xuICAgICAgICAgICAgaWYgKHR5cGVOYW1lID09PSBcIkJvb2xlYW5cIikge1xuICAgICAgICAgICAgICBzaG91bGRDYXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVOYW1lID09PSBcIlN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgIHNob3VsZENhc3RUcnVlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNob3VsZENhc3QgPSBpc0Z1bmN0aW9uKHByb3BUeXBlKSAmJiBwcm9wVHlwZS5uYW1lID09PSBcIkJvb2xlYW5cIjtcbiAgICAgICAgfVxuICAgICAgICBwcm9wWzAgLyogc2hvdWxkQ2FzdCAqL10gPSBzaG91bGRDYXN0O1xuICAgICAgICBwcm9wWzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dID0gc2hvdWxkQ2FzdFRydWU7XG4gICAgICAgIGlmIChzaG91bGRDYXN0IHx8IGhhc093bihwcm9wLCBcImRlZmF1bHRcIikpIHtcbiAgICAgICAgICBuZWVkQ2FzdEtleXMucHVzaChub3JtYWxpemVkS2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCByZXMgPSBbbm9ybWFsaXplZCwgbmVlZENhc3RLZXlzXTtcbiAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgY2FjaGUuc2V0KGNvbXAsIHJlcyk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcE5hbWUoa2V5KSB7XG4gIGlmIChrZXlbMF0gIT09IFwiJFwiICYmICFpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShgSW52YWxpZCBwcm9wIG5hbWU6IFwiJHtrZXl9XCIgaXMgYSByZXNlcnZlZCBwcm9wZXJ0eS5gKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRUeXBlKGN0b3IpIHtcbiAgaWYgKGN0b3IgPT09IG51bGwpIHtcbiAgICByZXR1cm4gXCJudWxsXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBjdG9yID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gY3Rvci5uYW1lIHx8IFwiXCI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGN0b3IgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBuYW1lID0gY3Rvci5jb25zdHJ1Y3RvciAmJiBjdG9yLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgcmV0dXJuIG5hbWUgfHwgXCJcIjtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMsIHByb3BzLCBpbnN0YW5jZSkge1xuICBjb25zdCByZXNvbHZlZFZhbHVlcyA9IHRvUmF3KHByb3BzKTtcbiAgY29uc3Qgb3B0aW9ucyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXTtcbiAgY29uc3QgY2FtZWxpemVQcm9wc0tleSA9IE9iamVjdC5rZXlzKHJhd1Byb3BzKS5tYXAoKGtleSkgPT4gY2FtZWxpemUoa2V5KSk7XG4gIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcbiAgICBsZXQgb3B0ID0gb3B0aW9uc1trZXldO1xuICAgIGlmIChvcHQgPT0gbnVsbCkgY29udGludWU7XG4gICAgdmFsaWRhdGVQcm9wKFxuICAgICAga2V5LFxuICAgICAgcmVzb2x2ZWRWYWx1ZXNba2V5XSxcbiAgICAgIG9wdCxcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocmVzb2x2ZWRWYWx1ZXMpIDogcmVzb2x2ZWRWYWx1ZXMsXG4gICAgICAhY2FtZWxpemVQcm9wc0tleS5pbmNsdWRlcyhrZXkpXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wKG5hbWUsIHZhbHVlLCBwcm9wLCBwcm9wcywgaXNBYnNlbnQpIHtcbiAgY29uc3QgeyB0eXBlLCByZXF1aXJlZCwgdmFsaWRhdG9yLCBza2lwQ2hlY2sgfSA9IHByb3A7XG4gIGlmIChyZXF1aXJlZCAmJiBpc0Fic2VudCkge1xuICAgIHdhcm4kMSgnTWlzc2luZyByZXF1aXJlZCBwcm9wOiBcIicgKyBuYW1lICsgJ1wiJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsICYmICFyZXF1aXJlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZSAhPSBudWxsICYmIHR5cGUgIT09IHRydWUgJiYgIXNraXBDaGVjaykge1xuICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XG4gICAgY29uc3QgdHlwZXMgPSBpc0FycmF5KHR5cGUpID8gdHlwZSA6IFt0eXBlXTtcbiAgICBjb25zdCBleHBlY3RlZFR5cGVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGggJiYgIWlzVmFsaWQ7IGkrKykge1xuICAgICAgY29uc3QgeyB2YWxpZCwgZXhwZWN0ZWRUeXBlIH0gPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlc1tpXSk7XG4gICAgICBleHBlY3RlZFR5cGVzLnB1c2goZXhwZWN0ZWRUeXBlIHx8IFwiXCIpO1xuICAgICAgaXNWYWxpZCA9IHZhbGlkO1xuICAgIH1cbiAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgIHdhcm4kMShnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKHZhbGlkYXRvciAmJiAhdmFsaWRhdG9yKHZhbHVlLCBwcm9wcykpIHtcbiAgICB3YXJuJDEoJ0ludmFsaWQgcHJvcDogY3VzdG9tIHZhbGlkYXRvciBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nKTtcbiAgfVxufVxuY29uc3QgaXNTaW1wbGVUeXBlID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIFwiU3RyaW5nLE51bWJlcixCb29sZWFuLEZ1bmN0aW9uLFN5bWJvbCxCaWdJbnRcIlxuKTtcbmZ1bmN0aW9uIGFzc2VydFR5cGUodmFsdWUsIHR5cGUpIHtcbiAgbGV0IHZhbGlkO1xuICBjb25zdCBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpO1xuICBpZiAoZXhwZWN0ZWRUeXBlID09PSBcIm51bGxcIikge1xuICAgIHZhbGlkID0gdmFsdWUgPT09IG51bGw7XG4gIH0gZWxzZSBpZiAoaXNTaW1wbGVUeXBlKGV4cGVjdGVkVHlwZSkpIHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIHZhbHVlO1xuICAgIHZhbGlkID0gdCA9PT0gZXhwZWN0ZWRUeXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKCF2YWxpZCAmJiB0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBcIk9iamVjdFwiKSB7XG4gICAgdmFsaWQgPSBpc09iamVjdCh2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBcIkFycmF5XCIpIHtcbiAgICB2YWxpZCA9IGlzQXJyYXkodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xuICB9XG4gIHJldHVybiB7XG4gICAgdmFsaWQsXG4gICAgZXhwZWN0ZWRUeXBlXG4gIH07XG59XG5mdW5jdGlvbiBnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpIHtcbiAgaWYgKGV4cGVjdGVkVHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGBQcm9wIHR5cGUgW10gZm9yIHByb3AgXCIke25hbWV9XCIgd29uJ3QgbWF0Y2ggYW55dGhpbmcuIERpZCB5b3UgbWVhbiB0byB1c2UgdHlwZSBBcnJheSBpbnN0ZWFkP2A7XG4gIH1cbiAgbGV0IG1lc3NhZ2UgPSBgSW52YWxpZCBwcm9wOiB0eXBlIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIiR7bmFtZX1cIi4gRXhwZWN0ZWQgJHtleHBlY3RlZFR5cGVzLm1hcChjYXBpdGFsaXplKS5qb2luKFwiIHwgXCIpfWA7XG4gIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGV4cGVjdGVkVHlwZXNbMF07XG4gIGNvbnN0IHJlY2VpdmVkVHlwZSA9IHRvUmF3VHlwZSh2YWx1ZSk7XG4gIGNvbnN0IGV4cGVjdGVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCBleHBlY3RlZFR5cGUpO1xuICBjb25zdCByZWNlaXZlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgcmVjZWl2ZWRUeXBlKTtcbiAgaWYgKGV4cGVjdGVkVHlwZXMubGVuZ3RoID09PSAxICYmIGlzRXhwbGljYWJsZShleHBlY3RlZFR5cGUpICYmICFpc0Jvb2xlYW4oZXhwZWN0ZWRUeXBlLCByZWNlaXZlZFR5cGUpKSB7XG4gICAgbWVzc2FnZSArPSBgIHdpdGggdmFsdWUgJHtleHBlY3RlZFZhbHVlfWA7XG4gIH1cbiAgbWVzc2FnZSArPSBgLCBnb3QgJHtyZWNlaXZlZFR5cGV9IGA7XG4gIGlmIChpc0V4cGxpY2FibGUocmVjZWl2ZWRUeXBlKSkge1xuICAgIG1lc3NhZ2UgKz0gYHdpdGggdmFsdWUgJHtyZWNlaXZlZFZhbHVlfS5gO1xuICB9XG4gIHJldHVybiBtZXNzYWdlO1xufVxuZnVuY3Rpb24gc3R5bGVWYWx1ZSh2YWx1ZSwgdHlwZSkge1xuICBpZiAodHlwZSA9PT0gXCJTdHJpbmdcIikge1xuICAgIHJldHVybiBgXCIke3ZhbHVlfVwiYDtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBcIk51bWJlclwiKSB7XG4gICAgcmV0dXJuIGAke051bWJlcih2YWx1ZSl9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYCR7dmFsdWV9YDtcbiAgfVxufVxuZnVuY3Rpb24gaXNFeHBsaWNhYmxlKHR5cGUpIHtcbiAgY29uc3QgZXhwbGljaXRUeXBlcyA9IFtcInN0cmluZ1wiLCBcIm51bWJlclwiLCBcImJvb2xlYW5cIl07XG4gIHJldHVybiBleHBsaWNpdFR5cGVzLnNvbWUoKGVsZW0pID0+IHR5cGUudG9Mb3dlckNhc2UoKSA9PT0gZWxlbSk7XG59XG5mdW5jdGlvbiBpc0Jvb2xlYW4oLi4uYXJncykge1xuICByZXR1cm4gYXJncy5zb21lKChlbGVtKSA9PiBlbGVtLnRvTG93ZXJDYXNlKCkgPT09IFwiYm9vbGVhblwiKTtcbn1cblxuY29uc3QgaXNJbnRlcm5hbEtleSA9IChrZXkpID0+IGtleSA9PT0gXCJfXCIgfHwga2V5ID09PSBcIl9jdHhcIiB8fCBrZXkgPT09IFwiJHN0YWJsZVwiO1xuY29uc3Qgbm9ybWFsaXplU2xvdFZhbHVlID0gKHZhbHVlKSA9PiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChub3JtYWxpemVWTm9kZSkgOiBbbm9ybWFsaXplVk5vZGUodmFsdWUpXTtcbmNvbnN0IG5vcm1hbGl6ZVNsb3QgPSAoa2V5LCByYXdTbG90LCBjdHgpID0+IHtcbiAgaWYgKHJhd1Nsb3QuX24pIHtcbiAgICByZXR1cm4gcmF3U2xvdDtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkID0gd2l0aEN0eCgoLi4uYXJncykgPT4ge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGN1cnJlbnRJbnN0YW5jZSAmJiAhKGN0eCA9PT0gbnVsbCAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpICYmICEoY3R4ICYmIGN0eC5yb290ICE9PSBjdXJyZW50SW5zdGFuY2Uucm9vdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFNsb3QgXCIke2tleX1cIiBpbnZva2VkIG91dHNpZGUgb2YgdGhlIHJlbmRlciBmdW5jdGlvbjogdGhpcyB3aWxsIG5vdCB0cmFjayBkZXBlbmRlbmNpZXMgdXNlZCBpbiB0aGUgc2xvdC4gSW52b2tlIHRoZSBzbG90IGZ1bmN0aW9uIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZVNsb3RWYWx1ZShyYXdTbG90KC4uLmFyZ3MpKTtcbiAgfSwgY3R4KTtcbiAgbm9ybWFsaXplZC5fYyA9IGZhbHNlO1xuICByZXR1cm4gbm9ybWFsaXplZDtcbn07XG5jb25zdCBub3JtYWxpemVPYmplY3RTbG90cyA9IChyYXdTbG90cywgc2xvdHMsIGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IGN0eCA9IHJhd1Nsb3RzLl9jdHg7XG4gIGZvciAoY29uc3Qga2V5IGluIHJhd1Nsb3RzKSB7XG4gICAgaWYgKGlzSW50ZXJuYWxLZXkoa2V5KSkgY29udGludWU7XG4gICAgY29uc3QgdmFsdWUgPSByYXdTbG90c1trZXldO1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgc2xvdHNba2V5XSA9IG5vcm1hbGl6ZVNsb3Qoa2V5LCB2YWx1ZSwgY3R4KTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHRydWUpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIHNsb3QgXCIke2tleX1cIi4gUHJlZmVyIGZ1bmN0aW9uIHNsb3RzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZSh2YWx1ZSk7XG4gICAgICBzbG90c1trZXldID0gKCkgPT4gbm9ybWFsaXplZDtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBub3JtYWxpemVWTm9kZVNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbikgPT4ge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNLZWVwQWxpdmUoaW5zdGFuY2Uudm5vZGUpICYmIHRydWUpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgTm9uLWZ1bmN0aW9uIHZhbHVlIGVuY291bnRlcmVkIGZvciBkZWZhdWx0IHNsb3QuIFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmBcbiAgICApO1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUoY2hpbGRyZW4pO1xuICBpbnN0YW5jZS5zbG90cy5kZWZhdWx0ID0gKCkgPT4gbm9ybWFsaXplZDtcbn07XG5jb25zdCBhc3NpZ25TbG90cyA9IChzbG90cywgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xuICBmb3IgKGNvbnN0IGtleSBpbiBjaGlsZHJlbikge1xuICAgIGlmIChvcHRpbWl6ZWQgfHwgIWlzSW50ZXJuYWxLZXkoa2V5KSkge1xuICAgICAgc2xvdHNba2V5XSA9IGNoaWxkcmVuW2tleV07XG4gICAgfVxuICB9XG59O1xuY29uc3QgaW5pdFNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbiwgb3B0aW1pemVkKSA9PiB7XG4gIGNvbnN0IHNsb3RzID0gaW5zdGFuY2Uuc2xvdHMgPSBjcmVhdGVJbnRlcm5hbE9iamVjdCgpO1xuICBpZiAoaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgMzIpIHtcbiAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcbiAgICBpZiAodHlwZSkge1xuICAgICAgYXNzaWduU2xvdHMoc2xvdHMsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xuICAgICAgaWYgKG9wdGltaXplZCkge1xuICAgICAgICBkZWYoc2xvdHMsIFwiX1wiLCB0eXBlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIHNsb3RzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW4pIHtcbiAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XG4gIH1cbn07XG5jb25zdCB1cGRhdGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xuICBjb25zdCB7IHZub2RlLCBzbG90cyB9ID0gaW5zdGFuY2U7XG4gIGxldCBuZWVkRGVsZXRpb25DaGVjayA9IHRydWU7XG4gIGxldCBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBFTVBUWV9PQko7XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAzMikge1xuICAgIGNvbnN0IHR5cGUgPSBjaGlsZHJlbi5fO1xuICAgIGlmICh0eXBlKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgICAgIGFzc2lnblNsb3RzKHNsb3RzLCBjaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICAgICAgdHJpZ2dlcihpbnN0YW5jZSwgXCJzZXRcIiwgXCIkc2xvdHNcIik7XG4gICAgICB9IGVsc2UgaWYgKG9wdGltaXplZCAmJiB0eXBlID09PSAxKSB7XG4gICAgICAgIG5lZWREZWxldGlvbkNoZWNrID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc3NpZ25TbG90cyhzbG90cywgY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5lZWREZWxldGlvbkNoZWNrID0gIWNoaWxkcmVuLiRzdGFibGU7XG4gICAgICBub3JtYWxpemVPYmplY3RTbG90cyhjaGlsZHJlbiwgc2xvdHMpO1xuICAgIH1cbiAgICBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBjaGlsZHJlbjtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcbiAgICBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSB7IGRlZmF1bHQ6IDEgfTtcbiAgfVxuICBpZiAobmVlZERlbGV0aW9uQ2hlY2spIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuICAgICAgaWYgKCFpc0ludGVybmFsS2V5KGtleSkgJiYgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0W2tleV0gPT0gbnVsbCkge1xuICAgICAgICBkZWxldGUgc2xvdHNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmxldCBzdXBwb3J0ZWQ7XG5sZXQgcGVyZjtcbmZ1bmN0aW9uIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xuICBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcucGVyZm9ybWFuY2UgJiYgaXNTdXBwb3J0ZWQoKSkge1xuICAgIHBlcmYubWFyayhgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YCk7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgZGV2dG9vbHNQZXJmU3RhcnQoaW5zdGFuY2UsIHR5cGUsIGlzU3VwcG9ydGVkKCkgPyBwZXJmLm5vdygpIDogRGF0ZS5ub3coKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVuZE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcbiAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcbiAgICBjb25zdCBzdGFydFRhZyA9IGB2dWUtJHt0eXBlfS0ke2luc3RhbmNlLnVpZH1gO1xuICAgIGNvbnN0IGVuZFRhZyA9IHN0YXJ0VGFnICsgYDplbmRgO1xuICAgIGNvbnN0IG1lYXN1cmVOYW1lID0gYDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIGluc3RhbmNlLnR5cGUpfT4gJHt0eXBlfWA7XG4gICAgcGVyZi5tYXJrKGVuZFRhZyk7XG4gICAgcGVyZi5tZWFzdXJlKG1lYXN1cmVOYW1lLCBzdGFydFRhZywgZW5kVGFnKTtcbiAgICBwZXJmLmNsZWFyTWVhc3VyZXMobWVhc3VyZU5hbWUpO1xuICAgIHBlcmYuY2xlYXJNYXJrcyhzdGFydFRhZyk7XG4gICAgcGVyZi5jbGVhck1hcmtzKGVuZFRhZyk7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgZGV2dG9vbHNQZXJmRW5kKGluc3RhbmNlLCB0eXBlLCBpc1N1cHBvcnRlZCgpID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xuICB9XG59XG5mdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgaWYgKHN1cHBvcnRlZCAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbiAgfVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cucGVyZm9ybWFuY2UpIHtcbiAgICBzdXBwb3J0ZWQgPSB0cnVlO1xuICAgIHBlcmYgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG4gIH0gZWxzZSB7XG4gICAgc3VwcG9ydGVkID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxuZnVuY3Rpb24gaW5pdEZlYXR1cmVGbGFncygpIHtcbiAgY29uc3QgbmVlZFdhcm4gPSBbXTtcbiAgaWYgKHR5cGVvZiBfX1ZVRV9PUFRJT05TX0FQSV9fICE9PSBcImJvb2xlYW5cIikge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ucHVzaChgX19WVUVfT1BUSU9OU19BUElfX2ApO1xuICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9PUFRJT05TX0FQSV9fID0gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIF9fVlVFX1BST0RfREVWVE9PTFNfXyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX1BST0RfREVWVE9PTFNfX2ApO1xuICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9QUk9EX0RFVlRPT0xTX18gPSBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfX2ApO1xuICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18gPSBmYWxzZTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5sZW5ndGgpIHtcbiAgICBjb25zdCBtdWx0aSA9IG5lZWRXYXJuLmxlbmd0aCA+IDE7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgYEZlYXR1cmUgZmxhZyR7bXVsdGkgPyBgc2AgOiBgYH0gJHtuZWVkV2Fybi5qb2luKFwiLCBcIil9ICR7bXVsdGkgPyBgYXJlYCA6IGBpc2B9IG5vdCBleHBsaWNpdGx5IGRlZmluZWQuIFlvdSBhcmUgcnVubmluZyB0aGUgZXNtLWJ1bmRsZXIgYnVpbGQgb2YgVnVlLCB3aGljaCBleHBlY3RzIHRoZXNlIGNvbXBpbGUtdGltZSBmZWF0dXJlIGZsYWdzIHRvIGJlIGdsb2JhbGx5IGluamVjdGVkIHZpYSB0aGUgYnVuZGxlciBjb25maWcgaW4gb3JkZXIgdG8gZ2V0IGJldHRlciB0cmVlLXNoYWtpbmcgaW4gdGhlIHByb2R1Y3Rpb24gYnVuZGxlLlxuXG5Gb3IgbW9yZSBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9saW5rLnZ1ZWpzLm9yZy9mZWF0dXJlLWZsYWdzLmBcbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHF1ZXVlUG9zdFJlbmRlckVmZmVjdCA9IHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlIDtcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMpO1xufVxuZnVuY3Rpb24gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMsIGNyZWF0ZUh5ZHJhdGlvbkZucykge1xuICB7XG4gICAgaW5pdEZlYXR1cmVGbGFncygpO1xuICB9XG4gIGNvbnN0IHRhcmdldCA9IGdldEdsb2JhbFRoaXMoKTtcbiAgdGFyZ2V0Ll9fVlVFX18gPSB0cnVlO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICBzZXREZXZ0b29sc0hvb2skMSh0YXJnZXQuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXywgdGFyZ2V0KTtcbiAgfVxuICBjb25zdCB7XG4gICAgaW5zZXJ0OiBob3N0SW5zZXJ0LFxuICAgIHJlbW92ZTogaG9zdFJlbW92ZSxcbiAgICBwYXRjaFByb3A6IGhvc3RQYXRjaFByb3AsXG4gICAgY3JlYXRlRWxlbWVudDogaG9zdENyZWF0ZUVsZW1lbnQsXG4gICAgY3JlYXRlVGV4dDogaG9zdENyZWF0ZVRleHQsXG4gICAgY3JlYXRlQ29tbWVudDogaG9zdENyZWF0ZUNvbW1lbnQsXG4gICAgc2V0VGV4dDogaG9zdFNldFRleHQsXG4gICAgc2V0RWxlbWVudFRleHQ6IGhvc3RTZXRFbGVtZW50VGV4dCxcbiAgICBwYXJlbnROb2RlOiBob3N0UGFyZW50Tm9kZSxcbiAgICBuZXh0U2libGluZzogaG9zdE5leHRTaWJsaW5nLFxuICAgIHNldFNjb3BlSWQ6IGhvc3RTZXRTY29wZUlkID0gTk9PUCxcbiAgICBpbnNlcnRTdGF0aWNDb250ZW50OiBob3N0SW5zZXJ0U3RhdGljQ29udGVudFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcGF0Y2ggPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciA9IG51bGwsIHBhcmVudENvbXBvbmVudCA9IG51bGwsIHBhcmVudFN1c3BlbnNlID0gbnVsbCwgbmFtZXNwYWNlID0gdm9pZCAwLCBzbG90U2NvcGVJZHMgPSBudWxsLCBvcHRpbWl6ZWQgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcgPyBmYWxzZSA6ICEhbjIuZHluYW1pY0NoaWxkcmVuKSA9PiB7XG4gICAgaWYgKG4xID09PSBuMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobjEgJiYgIWlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICBhbmNob3IgPSBnZXROZXh0SG9zdE5vZGUobjEpO1xuICAgICAgdW5tb3VudChuMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICBuMSA9IG51bGw7XG4gICAgfVxuICAgIGlmIChuMi5wYXRjaEZsYWcgPT09IC0yKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIG4yLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcgfSA9IG4yO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBUZXh0OlxuICAgICAgICBwcm9jZXNzVGV4dChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRpYzpcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgICAgICBtb3VudFN0YXRpY05vZGUobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwYXRjaFN0YXRpY05vZGUobjEsIG4yLCBjb250YWluZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEZyYWdtZW50OlxuICAgICAgICBwcm9jZXNzRnJhZ21lbnQoXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSkge1xuICAgICAgICAgIHByb2Nlc3NFbGVtZW50KFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiA2KSB7XG4gICAgICAgICAgcHJvY2Vzc0NvbXBvbmVudChcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgICAgICB0eXBlLnByb2Nlc3MoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICBpbnRlcm5hbHNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgICAgIHR5cGUucHJvY2VzcyhcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIGludGVybmFsc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcIkludmFsaWQgVk5vZGUgdHlwZTpcIiwgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVmICE9IG51bGwgJiYgcGFyZW50Q29tcG9uZW50KSB7XG4gICAgICBzZXRSZWYocmVmLCBuMSAmJiBuMS5yZWYsIHBhcmVudFN1c3BlbnNlLCBuMiB8fCBuMSwgIW4yKTtcbiAgICB9IGVsc2UgaWYgKHJlZiA9PSBudWxsICYmIG4xICYmIG4xLnJlZiAhPSBudWxsKSB7XG4gICAgICBzZXRSZWYobjEucmVmLCBudWxsLCBwYXJlbnRTdXNwZW5zZSwgbjEsIHRydWUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJvY2Vzc1RleHQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KFxuICAgICAgICBuMi5lbCA9IGhvc3RDcmVhdGVUZXh0KG4yLmNoaWxkcmVuKSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3JcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVsID0gbjIuZWwgPSBuMS5lbDtcbiAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcbiAgICAgICAgaG9zdFNldFRleHQoZWwsIG4yLmNoaWxkcmVuKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NDb21tZW50Tm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGhvc3RJbnNlcnQoXG4gICAgICAgIG4yLmVsID0gaG9zdENyZWF0ZUNvbW1lbnQobjIuY2hpbGRyZW4gfHwgXCJcIiksXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuMi5lbCA9IG4xLmVsO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRTdGF0aWNOb2RlID0gKG4yLCBjb250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlKSA9PiB7XG4gICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQoXG4gICAgICBuMi5jaGlsZHJlbixcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGFuY2hvcixcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIG4yLmVsLFxuICAgICAgbjIuYW5jaG9yXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgcGF0Y2hTdGF0aWNOb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBuYW1lc3BhY2UpID0+IHtcbiAgICBpZiAobjIuY2hpbGRyZW4gIT09IG4xLmNoaWxkcmVuKSB7XG4gICAgICBjb25zdCBhbmNob3IgPSBob3N0TmV4dFNpYmxpbmcobjEuYW5jaG9yKTtcbiAgICAgIHJlbW92ZVN0YXRpY05vZGUobjEpO1xuICAgICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQoXG4gICAgICAgIG4yLmNoaWxkcmVuLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgbmFtZXNwYWNlXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgbjIuYW5jaG9yID0gbjEuYW5jaG9yO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW92ZVN0YXRpY05vZGUgPSAoeyBlbCwgYW5jaG9yIH0sIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpID0+IHtcbiAgICBsZXQgbmV4dDtcbiAgICB3aGlsZSAoZWwgJiYgZWwgIT09IGFuY2hvcikge1xuICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XG4gICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcbiAgICAgIGVsID0gbmV4dDtcbiAgICB9XG4gICAgaG9zdEluc2VydChhbmNob3IsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xuICB9O1xuICBjb25zdCByZW1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9KSA9PiB7XG4gICAgbGV0IG5leHQ7XG4gICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcbiAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoZWwpO1xuICAgICAgaG9zdFJlbW92ZShlbCk7XG4gICAgICBlbCA9IG5leHQ7XG4gICAgfVxuICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0VsZW1lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGlmIChuMi50eXBlID09PSBcInN2Z1wiKSB7XG4gICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgIH0gZWxzZSBpZiAobjIudHlwZSA9PT0gXCJtYXRoXCIpIHtcbiAgICAgIG5hbWVzcGFjZSA9IFwibWF0aG1sXCI7XG4gICAgfVxuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBtb3VudEVsZW1lbnQoXG4gICAgICAgIG4yLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGF0Y2hFbGVtZW50KFxuICAgICAgICBuMSxcbiAgICAgICAgbjIsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3VudEVsZW1lbnQgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgbGV0IGVsO1xuICAgIGxldCB2bm9kZUhvb2s7XG4gICAgY29uc3QgeyBwcm9wcywgc2hhcGVGbGFnLCB0cmFuc2l0aW9uLCBkaXJzIH0gPSB2bm9kZTtcbiAgICBlbCA9IHZub2RlLmVsID0gaG9zdENyZWF0ZUVsZW1lbnQoXG4gICAgICB2bm9kZS50eXBlLFxuICAgICAgbmFtZXNwYWNlLFxuICAgICAgcHJvcHMgJiYgcHJvcHMuaXMsXG4gICAgICBwcm9wc1xuICAgICk7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDgpIHtcbiAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgdm5vZGUuY2hpbGRyZW4pO1xuICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgIHZub2RlLmNoaWxkcmVuLFxuICAgICAgICBlbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKHZub2RlLCBuYW1lc3BhY2UpLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGRpcnMpIHtcbiAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJjcmVhdGVkXCIpO1xuICAgIH1cbiAgICBzZXRTY29wZUlkKGVsLCB2bm9kZSwgdm5vZGUuc2NvcGVJZCwgc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQpO1xuICAgIGlmIChwcm9wcykge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gXCJ2YWx1ZVwiICYmICFpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBudWxsLCBwcm9wc1trZXldLCBuYW1lc3BhY2UsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInZhbHVlXCIgaW4gcHJvcHMpIHtcbiAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJ2YWx1ZVwiLCBudWxsLCBwcm9wcy52YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICAgIGlmICh2bm9kZUhvb2sgPSBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpIHtcbiAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgZGVmKGVsLCBcIl9fdm5vZGVcIiwgdm5vZGUsIHRydWUpO1xuICAgICAgZGVmKGVsLCBcIl9fdnVlUGFyZW50Q29tcG9uZW50XCIsIHBhcmVudENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChkaXJzKSB7XG4gICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlTW91bnRcIik7XG4gICAgfVxuICAgIGNvbnN0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gbmVlZFRyYW5zaXRpb24ocGFyZW50U3VzcGVuc2UsIHRyYW5zaXRpb24pO1xuICAgIGlmIChuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgfVxuICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyB8fCBkaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzICYmIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJtb3VudGVkXCIpO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0U2NvcGVJZCA9IChlbCwgdm5vZGUsIHNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KSA9PiB7XG4gICAgaWYgKHNjb3BlSWQpIHtcbiAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzY29wZUlkKTtcbiAgICB9XG4gICAgaWYgKHNsb3RTY29wZUlkcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbG90U2NvcGVJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNsb3RTY29wZUlkc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgIGxldCBzdWJUcmVlID0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWU7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzdWJUcmVlLnBhdGNoRmxhZyA+IDAgJiYgc3ViVHJlZS5wYXRjaEZsYWcgJiAyMDQ4KSB7XG4gICAgICAgIHN1YlRyZWUgPSBmaWx0ZXJTaW5nbGVSb290KHN1YlRyZWUuY2hpbGRyZW4pIHx8IHN1YlRyZWU7XG4gICAgICB9XG4gICAgICBpZiAodm5vZGUgPT09IHN1YlRyZWUgfHwgaXNTdXNwZW5zZShzdWJUcmVlLnR5cGUpICYmIChzdWJUcmVlLnNzQ29udGVudCA9PT0gdm5vZGUgfHwgc3ViVHJlZS5zc0ZhbGxiYWNrID09PSB2bm9kZSkpIHtcbiAgICAgICAgY29uc3QgcGFyZW50Vk5vZGUgPSBwYXJlbnRDb21wb25lbnQudm5vZGU7XG4gICAgICAgIHNldFNjb3BlSWQoXG4gICAgICAgICAgZWwsXG4gICAgICAgICAgcGFyZW50Vk5vZGUsXG4gICAgICAgICAgcGFyZW50Vk5vZGUuc2NvcGVJZCxcbiAgICAgICAgICBwYXJlbnRWTm9kZS5zbG90U2NvcGVJZHMsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LnBhcmVudFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHN0YXJ0ID0gMCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoY2hpbGRyZW5baV0pIDogbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pO1xuICAgICAgcGF0Y2goXG4gICAgICAgIG51bGwsXG4gICAgICAgIGNoaWxkLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoRWxlbWVudCA9IChuMSwgbjIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBlbCA9IG4yLmVsID0gbjEuZWw7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBlbC5fX3Zub2RlID0gbjI7XG4gICAgfVxuICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBkaXJzIH0gPSBuMjtcbiAgICBwYXRjaEZsYWcgfD0gbjEucGF0Y2hGbGFnICYgMTY7XG4gICAgY29uc3Qgb2xkUHJvcHMgPSBuMS5wcm9wcyB8fCBFTVBUWV9PQko7XG4gICAgY29uc3QgbmV3UHJvcHMgPSBuMi5wcm9wcyB8fCBFTVBUWV9PQko7XG4gICAgbGV0IHZub2RlSG9vaztcbiAgICBwYXJlbnRDb21wb25lbnQgJiYgdG9nZ2xlUmVjdXJzZShwYXJlbnRDb21wb25lbnQsIGZhbHNlKTtcbiAgICBpZiAodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkge1xuICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xuICAgIH1cbiAgICBpZiAoZGlycykge1xuICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVVcGRhdGVcIik7XG4gICAgfVxuICAgIHBhcmVudENvbXBvbmVudCAmJiB0b2dnbGVSZWN1cnNlKHBhcmVudENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgcGF0Y2hGbGFnID0gMDtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG9sZFByb3BzLmlubmVySFRNTCAmJiBuZXdQcm9wcy5pbm5lckhUTUwgPT0gbnVsbCB8fCBvbGRQcm9wcy50ZXh0Q29udGVudCAmJiBuZXdQcm9wcy50ZXh0Q29udGVudCA9PSBudWxsKSB7XG4gICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIFwiXCIpO1xuICAgIH1cbiAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICBlbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKG4yLCBuYW1lc3BhY2UpLFxuICAgICAgICBzbG90U2NvcGVJZHNcbiAgICAgICk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghb3B0aW1pemVkKSB7XG4gICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICBuMSxcbiAgICAgICAgbjIsXG4gICAgICAgIGVsLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2UobjIsIG5hbWVzcGFjZSksXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XG4gICAgICBpZiAocGF0Y2hGbGFnICYgMTYpIHtcbiAgICAgICAgcGF0Y2hQcm9wcyhlbCwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMikge1xuICAgICAgICAgIGlmIChvbGRQcm9wcy5jbGFzcyAhPT0gbmV3UHJvcHMuY2xhc3MpIHtcbiAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwiY2xhc3NcIiwgbnVsbCwgbmV3UHJvcHMuY2xhc3MsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiA0KSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJzdHlsZVwiLCBvbGRQcm9wcy5zdHlsZSwgbmV3UHJvcHMuc3R5bGUsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDgpIHtcbiAgICAgICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gbjIuZHluYW1pY1Byb3BzO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ld1Byb3BzW2tleV07XG4gICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiB8fCBrZXkgPT09IFwidmFsdWVcIikge1xuICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIG5hbWVzcGFjZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXRjaEZsYWcgJiAxKSB7XG4gICAgICAgIGlmIChuMS5jaGlsZHJlbiAhPT0gbjIuY2hpbGRyZW4pIHtcbiAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIG4yLmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIW9wdGltaXplZCAmJiBkeW5hbWljQ2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgcGF0Y2hQcm9wcyhlbCwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSk7XG4gICAgfVxuICAgIGlmICgodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZVVwZGF0ZWQpIHx8IGRpcnMpIHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIG4yLCBuMSk7XG4gICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgXCJ1cGRhdGVkXCIpO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hCbG9ja0NoaWxkcmVuID0gKG9sZENoaWxkcmVuLCBuZXdDaGlsZHJlbiwgZmFsbGJhY2tDb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgb2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcbiAgICAgIGNvbnN0IG5ld1ZOb2RlID0gbmV3Q2hpbGRyZW5baV07XG4gICAgICBjb25zdCBjb250YWluZXIgPSAoXG4gICAgICAgIC8vIG9sZFZOb2RlIG1heSBiZSBhbiBlcnJvcmVkIGFzeW5jIHNldHVwKCkgY29tcG9uZW50IGluc2lkZSBTdXNwZW5zZVxuICAgICAgICAvLyB3aGljaCB3aWxsIG5vdCBoYXZlIGEgbW91bnRlZCBlbGVtZW50XG4gICAgICAgIG9sZFZOb2RlLmVsICYmIC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBGcmFnbWVudCwgd2UgbmVlZCB0byBwcm92aWRlIHRoZSBhY3R1YWwgcGFyZW50XG4gICAgICAgIC8vIG9mIHRoZSBGcmFnbWVudCBpdHNlbGYgc28gaXQgY2FuIG1vdmUgaXRzIGNoaWxkcmVuLlxuICAgICAgICAob2xkVk5vZGUudHlwZSA9PT0gRnJhZ21lbnQgfHwgLy8gLSBJbiB0aGUgY2FzZSBvZiBkaWZmZXJlbnQgbm9kZXMsIHRoZXJlIGlzIGdvaW5nIHRvIGJlIGEgcmVwbGFjZW1lbnRcbiAgICAgICAgLy8gd2hpY2ggYWxzbyByZXF1aXJlcyB0aGUgY29ycmVjdCBwYXJlbnQgY29udGFpbmVyXG4gICAgICAgICFpc1NhbWVWTm9kZVR5cGUob2xkVk5vZGUsIG5ld1ZOb2RlKSB8fCAvLyAtIEluIHRoZSBjYXNlIG9mIGEgY29tcG9uZW50LCBpdCBjb3VsZCBjb250YWluIGFueXRoaW5nLlxuICAgICAgICBvbGRWTm9kZS5zaGFwZUZsYWcgJiAoNiB8IDY0IHwgMTI4KSkgPyBob3N0UGFyZW50Tm9kZShvbGRWTm9kZS5lbCkgOiAoXG4gICAgICAgICAgLy8gSW4gb3RoZXIgY2FzZXMsIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIG5vdCBhY3R1YWxseSB1c2VkIHNvIHdlXG4gICAgICAgICAgLy8ganVzdCBwYXNzIHRoZSBibG9jayBlbGVtZW50IGhlcmUgdG8gYXZvaWQgYSBET00gcGFyZW50Tm9kZSBjYWxsLlxuICAgICAgICAgIGZhbGxiYWNrQ29udGFpbmVyXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBwYXRjaChcbiAgICAgICAgb2xkVk5vZGUsXG4gICAgICAgIG5ld1ZOb2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hQcm9wcyA9IChlbCwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSkgPT4ge1xuICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcbiAgICAgIGlmIChvbGRQcm9wcyAhPT0gRU1QVFlfT0JKKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9sZFByb3BzKSB7XG4gICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJvcChrZXkpICYmICEoa2V5IGluIG5ld1Byb3BzKSkge1xuICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgb2xkUHJvcHNba2V5XSxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdQcm9wcykge1xuICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkgY29udGludWU7XG4gICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xuICAgICAgICBjb25zdCBwcmV2ID0gb2xkUHJvcHNba2V5XTtcbiAgICAgICAgaWYgKG5leHQgIT09IHByZXYgJiYga2V5ICE9PSBcInZhbHVlXCIpIHtcbiAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIG5hbWVzcGFjZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFwidmFsdWVcIiBpbiBuZXdQcm9wcykge1xuICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBcInZhbHVlXCIsIG9sZFByb3BzLnZhbHVlLCBuZXdQcm9wcy52YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NGcmFnbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgZnJhZ21lbnRTdGFydEFuY2hvciA9IG4yLmVsID0gbjEgPyBuMS5lbCA6IGhvc3RDcmVhdGVUZXh0KFwiXCIpO1xuICAgIGNvbnN0IGZyYWdtZW50RW5kQW5jaG9yID0gbjIuYW5jaG9yID0gbjEgPyBuMS5hbmNob3IgOiBob3N0Q3JlYXRlVGV4dChcIlwiKTtcbiAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gbjI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgLy8gIzU1MjMgZGV2IHJvb3QgZnJhZ21lbnQgbWF5IGluaGVyaXQgZGlyZWN0aXZlc1xuICAgIChpc0htclVwZGF0aW5nIHx8IHBhdGNoRmxhZyAmIDIwNDgpKSB7XG4gICAgICBwYXRjaEZsYWcgPSAwO1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcbiAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcyA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpIDogZnJhZ21lbnRTbG90U2NvcGVJZHM7XG4gICAgfVxuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KGZyYWdtZW50U3RhcnRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRFbmRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgIC8vICMxMDAwN1xuICAgICAgICAvLyBzdWNoIGZyYWdtZW50IGxpa2UgYDw+PC8+YCB3aWxsIGJlIGNvbXBpbGVkIGludG9cbiAgICAgICAgLy8gYSBmcmFnbWVudCB3aGljaCBkb2Vzbid0IGhhdmUgYSBjaGlsZHJlbi5cbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlIGZhbGxiYWNrIHRvIGFuIGVtcHR5IGFycmF5XG4gICAgICAgIG4yLmNoaWxkcmVuIHx8IFtdLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGZyYWdtZW50RW5kQW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGF0Y2hGbGFnID4gMCAmJiBwYXRjaEZsYWcgJiA2NCAmJiBkeW5hbWljQ2hpbGRyZW4gJiYgLy8gIzI3MTUgdGhlIHByZXZpb3VzIGZyYWdtZW50IGNvdWxkJ3ZlIGJlZW4gYSBCQUlMZWQgb25lIGFzIGEgcmVzdWx0XG4gICAgICAvLyBvZiByZW5kZXJTbG90KCkgd2l0aCBubyB2YWxpZCBjaGlsZHJlblxuICAgICAgbjEuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihcbiAgICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgICApO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAvLyAjMjA4MCBpZiB0aGUgc3RhYmxlIGZyYWdtZW50IGhhcyBhIGtleSwgaXQncyBhIDx0ZW1wbGF0ZSB2LWZvcj4gdGhhdCBtYXlcbiAgICAgICAgICAvLyAgZ2V0IG1vdmVkIGFyb3VuZC4gTWFrZSBzdXJlIGFsbCByb290IGxldmVsIHZub2RlcyBpbmhlcml0IGVsLlxuICAgICAgICAgIC8vICMyMTM0IG9yIGlmIGl0J3MgYSBjb21wb25lbnQgcm9vdCwgaXQgbWF5IGFsc28gZ2V0IG1vdmVkIGFyb3VuZFxuICAgICAgICAgIC8vIGFzIHRoZSBjb21wb25lbnQgaXMgYmVpbmcgbW92ZWQuXG4gICAgICAgICAgbjIua2V5ICE9IG51bGwgfHwgcGFyZW50Q29tcG9uZW50ICYmIG4yID09PSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZVxuICAgICAgICApIHtcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgIC8qIHNoYWxsb3cgKi9cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBmcmFnbWVudEVuZEFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NDb21wb25lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG4yLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaWYgKG4yLnNoYXBlRmxhZyAmIDUxMikge1xuICAgICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmFjdGl2YXRlKFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW91bnRDb21wb25lbnQoXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRDb21wb25lbnQgPSAoaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IChpbml0aWFsVk5vZGUuY29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UoXG4gICAgICBpbml0aWFsVk5vZGUsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZVxuICAgICkpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xuICAgICAgcmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGluaXRpYWxWTm9kZSk7XG4gICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xuICAgIH1cbiAgICBpZiAoaXNLZWVwQWxpdmUoaW5pdGlhbFZOb2RlKSkge1xuICAgICAgaW5zdGFuY2UuY3R4LnJlbmRlcmVyID0gaW50ZXJuYWxzO1xuICAgIH1cbiAgICB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XG4gICAgICB9XG4gICAgICBzZXR1cENvbXBvbmVudChpbnN0YW5jZSwgZmFsc2UsIG9wdGltaXplZCk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nKSBpbml0aWFsVk5vZGUuZWwgPSBudWxsO1xuICAgIGlmIChpbnN0YW5jZS5hc3luY0RlcCkge1xuICAgICAgcGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UucmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0LCBvcHRpbWl6ZWQpO1xuICAgICAgaWYgKCFpbml0aWFsVk5vZGUuZWwpIHtcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBpbnN0YW5jZS5zdWJUcmVlID0gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShudWxsLCBwbGFjZWhvbGRlciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBpbml0aWFsVk5vZGUucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlci5lbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0dXBSZW5kZXJFZmZlY3QoXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICBpbml0aWFsVk5vZGUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XG4gICAgfVxuICB9O1xuICBjb25zdCB1cGRhdGVDb21wb25lbnQgPSAobjEsIG4yLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudDtcbiAgICBpZiAoc2hvdWxkVXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKSkge1xuICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwICYmICFpbnN0YW5jZS5hc3luY1Jlc29sdmVkKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG4yKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG4yLCBvcHRpbWl6ZWQpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UubmV4dCA9IG4yO1xuICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIGluc3RhbmNlLnZub2RlID0gbjI7XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXR1cFJlbmRlckVmZmVjdCA9IChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgY29tcG9uZW50VXBkYXRlRm4gPSAoKSA9PiB7XG4gICAgICBpZiAoIWluc3RhbmNlLmlzTW91bnRlZCkge1xuICAgICAgICBsZXQgdm5vZGVIb29rO1xuICAgICAgICBjb25zdCB7IGVsLCBwcm9wcyB9ID0gaW5pdGlhbFZOb2RlO1xuICAgICAgICBjb25zdCB7IGJtLCBtLCBwYXJlbnQsIHJvb3QsIHR5cGUgfSA9IGluc3RhbmNlO1xuICAgICAgICBjb25zdCBpc0FzeW5jV3JhcHBlclZOb2RlID0gaXNBc3luY1dyYXBwZXIoaW5pdGlhbFZOb2RlKTtcbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgZmFsc2UpO1xuICAgICAgICBpZiAoYm0pIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhibSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FzeW5jV3JhcHBlclZOb2RlICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBpbml0aWFsVk5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgICAgICBpZiAoZWwgJiYgaHlkcmF0ZU5vZGUpIHtcbiAgICAgICAgICBjb25zdCBoeWRyYXRlU3ViVHJlZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHlkcmF0ZU5vZGUoXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlLFxuICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGlzQXN5bmNXcmFwcGVyVk5vZGUgJiYgdHlwZS5fX2FzeW5jSHlkcmF0ZSkge1xuICAgICAgICAgICAgdHlwZS5fX2FzeW5jSHlkcmF0ZShcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICBoeWRyYXRlU3ViVHJlZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHlkcmF0ZVN1YlRyZWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJvb3QuY2UgJiYgLy8gQHRzLWV4cGVjdC1lcnJvciBfZGVmIGlzIHByaXZhdGVcbiAgICAgICAgICByb290LmNlLl9kZWYuc2hhZG93Um9vdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJvb3QuY2UuX2luamVjdENoaWxkU3R5bGUodHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgc3ViVHJlZSA9IGluc3RhbmNlLnN1YlRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgc3ViVHJlZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5pdGlhbFZOb2RlLmVsID0gc3ViVHJlZS5lbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobSkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChtLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FzeW5jV3JhcHBlclZOb2RlICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkpIHtcbiAgICAgICAgICBjb25zdCBzY29wZWRJbml0aWFsVk5vZGUgPSBpbml0aWFsVk5vZGU7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KFxuICAgICAgICAgICAgKCkgPT4gaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBzY29wZWRJbml0aWFsVk5vZGUpLFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbml0aWFsVk5vZGUuc2hhcGVGbGFnICYgMjU2IHx8IHBhcmVudCAmJiBpc0FzeW5jV3JhcHBlcihwYXJlbnQudm5vZGUpICYmIHBhcmVudC52bm9kZS5zaGFwZUZsYWcgJiAyNTYpIHtcbiAgICAgICAgICBpbnN0YW5jZS5hICYmIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChpbnN0YW5jZS5hLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UuaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5pdGlhbFZOb2RlID0gY29udGFpbmVyID0gYW5jaG9yID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCB7IG5leHQsIGJ1LCB1LCBwYXJlbnQsIHZub2RlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IG5vbkh5ZHJhdGVkQXN5bmNSb290ID0gbG9jYXRlTm9uSHlkcmF0ZWRBc3luY1Jvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgIGlmIChub25IeWRyYXRlZEFzeW5jUm9vdCkge1xuICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgbmV4dC5lbCA9IHZub2RlLmVsO1xuICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG5leHQsIG9wdGltaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub25IeWRyYXRlZEFzeW5jUm9vdC5hc3luY0RlcC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5pc1VubW91bnRlZCkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFVwZGF0ZUZuKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgb3JpZ2luTmV4dCA9IG5leHQ7XG4gICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG5leHQgfHwgaW5zdGFuY2Uudm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIGZhbHNlKTtcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICBuZXh0LmVsID0gdm5vZGUuZWw7XG4gICAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuZXh0LCBvcHRpbWl6ZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHQgPSB2bm9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnUpIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhidSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dFRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldlRyZWUgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gbmV4dFRyZWU7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgfVxuICAgICAgICBwYXRjaChcbiAgICAgICAgICBwcmV2VHJlZSxcbiAgICAgICAgICBuZXh0VHJlZSxcbiAgICAgICAgICAvLyBwYXJlbnQgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgdGVsZXBvcnRcbiAgICAgICAgICBob3N0UGFyZW50Tm9kZShwcmV2VHJlZS5lbCksXG4gICAgICAgICAgLy8gYW5jaG9yIG1heSBoYXZlIGNoYW5nZWQgaWYgaXQncyBpbiBhIGZyYWdtZW50XG4gICAgICAgICAgZ2V0TmV4dEhvc3ROb2RlKHByZXZUcmVlKSxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0LmVsID0gbmV4dFRyZWUuZWw7XG4gICAgICAgIGlmIChvcmlnaW5OZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdXBkYXRlSE9DSG9zdEVsKGluc3RhbmNlLCBuZXh0VHJlZS5lbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHUpIHtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QodSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZVVwZGF0ZWQpIHtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoXG4gICAgICAgICAgICAoKSA9PiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKSxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaW5zdGFuY2Uuc2NvcGUub24oKTtcbiAgICBjb25zdCBlZmZlY3QgPSBpbnN0YW5jZS5lZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoY29tcG9uZW50VXBkYXRlRm4pO1xuICAgIGluc3RhbmNlLnNjb3BlLm9mZigpO1xuICAgIGNvbnN0IHVwZGF0ZSA9IGluc3RhbmNlLnVwZGF0ZSA9IGVmZmVjdC5ydW4uYmluZChlZmZlY3QpO1xuICAgIGNvbnN0IGpvYiA9IGluc3RhbmNlLmpvYiA9IGVmZmVjdC5ydW5JZkRpcnR5LmJpbmQoZWZmZWN0KTtcbiAgICBqb2IuaSA9IGluc3RhbmNlO1xuICAgIGpvYi5pZCA9IGluc3RhbmNlLnVpZDtcbiAgICBlZmZlY3Quc2NoZWR1bGVyID0gKCkgPT4gcXVldWVKb2Ioam9iKTtcbiAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgZWZmZWN0Lm9uVHJhY2sgPSBpbnN0YW5jZS5ydGMgPyAoZSkgPT4gaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UucnRjLCBlKSA6IHZvaWQgMDtcbiAgICAgIGVmZmVjdC5vblRyaWdnZXIgPSBpbnN0YW5jZS5ydGcgPyAoZSkgPT4gaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UucnRnLCBlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdXBkYXRlKCk7XG4gIH07XG4gIGNvbnN0IHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciA9IChpbnN0YW5jZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBuZXh0Vk5vZGUuY29tcG9uZW50ID0gaW5zdGFuY2U7XG4gICAgY29uc3QgcHJldlByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHM7XG4gICAgaW5zdGFuY2Uudm5vZGUgPSBuZXh0Vk5vZGU7XG4gICAgaW5zdGFuY2UubmV4dCA9IG51bGw7XG4gICAgdXBkYXRlUHJvcHMoaW5zdGFuY2UsIG5leHRWTm9kZS5wcm9wcywgcHJldlByb3BzLCBvcHRpbWl6ZWQpO1xuICAgIHVwZGF0ZVNsb3RzKGluc3RhbmNlLCBuZXh0Vk5vZGUuY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gICAgcGF1c2VUcmFja2luZygpO1xuICAgIGZsdXNoUHJlRmx1c2hDYnMoaW5zdGFuY2UpO1xuICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgfTtcbiAgY29uc3QgcGF0Y2hDaGlsZHJlbiA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCBjMSA9IG4xICYmIG4xLmNoaWxkcmVuO1xuICAgIGNvbnN0IHByZXZTaGFwZUZsYWcgPSBuMSA/IG4xLnNoYXBlRmxhZyA6IDA7XG4gICAgY29uc3QgYzIgPSBuMi5jaGlsZHJlbjtcbiAgICBjb25zdCB7IHBhdGNoRmxhZywgc2hhcGVGbGFnIH0gPSBuMjtcbiAgICBpZiAocGF0Y2hGbGFnID4gMCkge1xuICAgICAgaWYgKHBhdGNoRmxhZyAmIDEyOCkge1xuICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oXG4gICAgICAgICAgYzEsXG4gICAgICAgICAgYzIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChwYXRjaEZsYWcgJiAyNTYpIHtcbiAgICAgICAgcGF0Y2hVbmtleWVkQ2hpbGRyZW4oXG4gICAgICAgICAgYzEsXG4gICAgICAgICAgYzIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgOCkge1xuICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNikge1xuICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfVxuICAgICAgaWYgKGMyICE9PSBjMSkge1xuICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCBjMik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKFxuICAgICAgICAgICAgYzEsXG4gICAgICAgICAgICBjMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDgpIHtcbiAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICAgICAgYzIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoVW5rZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjMSA9IGMxIHx8IEVNUFRZX0FSUjtcbiAgICBjMiA9IGMyIHx8IEVNUFRZX0FSUjtcbiAgICBjb25zdCBvbGRMZW5ndGggPSBjMS5sZW5ndGg7XG4gICAgY29uc3QgbmV3TGVuZ3RoID0gYzIubGVuZ3RoO1xuICAgIGNvbnN0IGNvbW1vbkxlbmd0aCA9IE1hdGgubWluKG9sZExlbmd0aCwgbmV3TGVuZ3RoKTtcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgY29tbW9uTGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pO1xuICAgICAgcGF0Y2goXG4gICAgICAgIGMxW2ldLFxuICAgICAgICBuZXh0Q2hpbGQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG9sZExlbmd0aCA+IG5ld0xlbmd0aCkge1xuICAgICAgdW5tb3VudENoaWxkcmVuKFxuICAgICAgICBjMSxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIGNvbW1vbkxlbmd0aFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgYzIsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICBjb21tb25MZW5ndGhcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaEtleWVkQ2hpbGRyZW4gPSAoYzEsIGMyLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBsMiA9IGMyLmxlbmd0aDtcbiAgICBsZXQgZTEgPSBjMS5sZW5ndGggLSAxO1xuICAgIGxldCBlMiA9IGwyIC0gMTtcbiAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XG4gICAgICBjb25zdCBuMSA9IGMxW2ldO1xuICAgICAgY29uc3QgbjIgPSBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKTtcbiAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XG4gICAgICBjb25zdCBuMSA9IGMxW2UxXTtcbiAgICAgIGNvbnN0IG4yID0gYzJbZTJdID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbZTJdKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2UyXSk7XG4gICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGUxLS07XG4gICAgICBlMi0tO1xuICAgIH1cbiAgICBpZiAoaSA+IGUxKSB7XG4gICAgICBpZiAoaSA8PSBlMikge1xuICAgICAgICBjb25zdCBuZXh0UG9zID0gZTIgKyAxO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0UG9zIDwgbDIgPyBjMltuZXh0UG9zXS5lbCA6IHBhcmVudEFuY2hvcjtcbiAgICAgICAgd2hpbGUgKGkgPD0gZTIpIHtcbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGkgPiBlMikge1xuICAgICAgd2hpbGUgKGkgPD0gZTEpIHtcbiAgICAgICAgdW5tb3VudChjMVtpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgczEgPSBpO1xuICAgICAgY29uc3QgczIgPSBpO1xuICAgICAgY29uc3Qga2V5VG9OZXdJbmRleE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICBmb3IgKGkgPSBzMjsgaSA8PSBlMjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pO1xuICAgICAgICBpZiAobmV4dENoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5VG9OZXdJbmRleE1hcC5oYXMobmV4dENoaWxkLmtleSkpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYER1cGxpY2F0ZSBrZXlzIGZvdW5kIGR1cmluZyB1cGRhdGU6YCxcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkobmV4dENoaWxkLmtleSksXG4gICAgICAgICAgICAgIGBNYWtlIHN1cmUga2V5cyBhcmUgdW5pcXVlLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGtleVRvTmV3SW5kZXhNYXAuc2V0KG5leHRDaGlsZC5rZXksIGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgajtcbiAgICAgIGxldCBwYXRjaGVkID0gMDtcbiAgICAgIGNvbnN0IHRvQmVQYXRjaGVkID0gZTIgLSBzMiArIDE7XG4gICAgICBsZXQgbW92ZWQgPSBmYWxzZTtcbiAgICAgIGxldCBtYXhOZXdJbmRleFNvRmFyID0gMDtcbiAgICAgIGNvbnN0IG5ld0luZGV4VG9PbGRJbmRleE1hcCA9IG5ldyBBcnJheSh0b0JlUGF0Y2hlZCk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdG9CZVBhdGNoZWQ7IGkrKykgbmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID0gMDtcbiAgICAgIGZvciAoaSA9IHMxOyBpIDw9IGUxOyBpKyspIHtcbiAgICAgICAgY29uc3QgcHJldkNoaWxkID0gYzFbaV07XG4gICAgICAgIGlmIChwYXRjaGVkID49IHRvQmVQYXRjaGVkKSB7XG4gICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXdJbmRleDtcbiAgICAgICAgaWYgKHByZXZDaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgIG5ld0luZGV4ID0ga2V5VG9OZXdJbmRleE1hcC5nZXQocHJldkNoaWxkLmtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChqID0gczI7IGogPD0gZTI7IGorKykge1xuICAgICAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtqIC0gczJdID09PSAwICYmIGlzU2FtZVZOb2RlVHlwZShwcmV2Q2hpbGQsIGMyW2pdKSkge1xuICAgICAgICAgICAgICBuZXdJbmRleCA9IGo7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3SW5kZXggPT09IHZvaWQgMCkge1xuICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdJbmRleFRvT2xkSW5kZXhNYXBbbmV3SW5kZXggLSBzMl0gPSBpICsgMTtcbiAgICAgICAgICBpZiAobmV3SW5kZXggPj0gbWF4TmV3SW5kZXhTb0Zhcikge1xuICAgICAgICAgICAgbWF4TmV3SW5kZXhTb0ZhciA9IG5ld0luZGV4O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgcHJldkNoaWxkLFxuICAgICAgICAgICAgYzJbbmV3SW5kZXhdLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwYXRjaGVkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlID0gbW92ZWQgPyBnZXRTZXF1ZW5jZShuZXdJbmRleFRvT2xkSW5kZXhNYXApIDogRU1QVFlfQVJSO1xuICAgICAgaiA9IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKGkgPSB0b0JlUGF0Y2hlZCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHMyICsgaTtcbiAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbbmV4dEluZGV4XTtcbiAgICAgICAgY29uc3QgYW5jaG9yVk5vZGUgPSBjMltuZXh0SW5kZXggKyAxXTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dEluZGV4ICsgMSA8IGwyID8gKFxuICAgICAgICAgIC8vICMxMzU1OSwgZmFsbGJhY2sgdG8gZWwgcGxhY2Vob2xkZXIgZm9yIHVucmVzb2x2ZWQgYXN5bmMgY29tcG9uZW50XG4gICAgICAgICAgYW5jaG9yVk5vZGUuZWwgfHwgYW5jaG9yVk5vZGUucGxhY2Vob2xkZXJcbiAgICAgICAgKSA6IHBhcmVudEFuY2hvcjtcbiAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9PT0gMCkge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG5leHRDaGlsZCxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb3ZlZCkge1xuICAgICAgICAgIGlmIChqIDwgMCB8fCBpICE9PSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZVtqXSkge1xuICAgICAgICAgICAgbW92ZShuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCAyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgai0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgbW92ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwpID0+IHtcbiAgICBjb25zdCB7IGVsLCB0eXBlLCB0cmFuc2l0aW9uLCBjaGlsZHJlbiwgc2hhcGVGbGFnIH0gPSB2bm9kZTtcbiAgICBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgbW92ZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgdm5vZGUuc3VzcGVuc2UubW92ZShjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgIHR5cGUubW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGludGVybmFscyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb3ZlKGNoaWxkcmVuW2ldLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgfVxuICAgICAgaG9zdEluc2VydCh2bm9kZS5hbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xuICAgICAgbW92ZVN0YXRpY05vZGUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmVlZFRyYW5zaXRpb24yID0gbW92ZVR5cGUgIT09IDIgJiYgc2hhcGVGbGFnICYgMSAmJiB0cmFuc2l0aW9uO1xuICAgIGlmIChuZWVkVHJhbnNpdGlvbjIpIHtcbiAgICAgIGlmIChtb3ZlVHlwZSA9PT0gMCkge1xuICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gdHJhbnNpdGlvbi5lbnRlcihlbCksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUsIGFmdGVyTGVhdmUgfSA9IHRyYW5zaXRpb247XG4gICAgICAgIGNvbnN0IHJlbW92ZTIgPSAoKSA9PiB7XG4gICAgICAgICAgaWYgKHZub2RlLmN0eC5pc1VubW91bnRlZCkge1xuICAgICAgICAgICAgaG9zdFJlbW92ZShlbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICBpZiAoZWwuX2lzTGVhdmluZykge1xuICAgICAgICAgICAgZWxbbGVhdmVDYktleV0oXG4gICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgLyogY2FuY2VsbGVkICovXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZWF2ZShlbCwgKCkgPT4ge1xuICAgICAgICAgICAgcmVtb3ZlMigpO1xuICAgICAgICAgICAgYWZ0ZXJMZWF2ZSAmJiBhZnRlckxlYXZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChkZWxheUxlYXZlKSB7XG4gICAgICAgICAgZGVsYXlMZWF2ZShlbCwgcmVtb3ZlMiwgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgfVxuICB9O1xuICBjb25zdCB1bm1vdW50ID0gKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIHJlZixcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgc2hhcGVGbGFnLFxuICAgICAgcGF0Y2hGbGFnLFxuICAgICAgZGlycyxcbiAgICAgIGNhY2hlSW5kZXhcbiAgICB9ID0gdm5vZGU7XG4gICAgaWYgKHBhdGNoRmxhZyA9PT0gLTIpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgdHJ1ZSk7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgfVxuICAgIGlmIChjYWNoZUluZGV4ICE9IG51bGwpIHtcbiAgICAgIHBhcmVudENvbXBvbmVudC5yZW5kZXJDYWNoZVtjYWNoZUluZGV4XSA9IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDI1Nikge1xuICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5kZWFjdGl2YXRlKHZub2RlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2hvdWxkSW52b2tlRGlycyA9IHNoYXBlRmxhZyAmIDEgJiYgZGlycztcbiAgICBjb25zdCBzaG91bGRJbnZva2VWbm9kZUhvb2sgPSAhaXNBc3luY1dyYXBwZXIodm5vZGUpO1xuICAgIGxldCB2bm9kZUhvb2s7XG4gICAgaWYgKHNob3VsZEludm9rZVZub2RlSG9vayAmJiAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZVVubW91bnQpKSB7XG4gICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgIHVubW91bnRDb21wb25lbnQodm5vZGUuY29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgIHZub2RlLnN1c3BlbnNlLnVubW91bnQocGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZEludm9rZURpcnMpIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImJlZm9yZVVubW91bnRcIik7XG4gICAgICB9XG4gICAgICBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgICAgdm5vZGUudHlwZS5yZW1vdmUoXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIGludGVybmFscyxcbiAgICAgICAgICBkb1JlbW92ZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChkeW5hbWljQ2hpbGRyZW4gJiYgLy8gIzUxNTRcbiAgICAgIC8vIHdoZW4gdi1vbmNlIGlzIHVzZWQgaW5zaWRlIGEgYmxvY2ssIHNldEJsb2NrVHJhY2tpbmcoLTEpIG1hcmtzIHRoZVxuICAgICAgLy8gcGFyZW50IGJsb2NrIHdpdGggaGFzT25jZTogdHJ1ZVxuICAgICAgLy8gc28gdGhhdCBpdCBkb2Vzbid0IHRha2UgdGhlIGZhc3QgcGF0aCBkdXJpbmcgdW5tb3VudCAtIG90aGVyd2lzZVxuICAgICAgLy8gY29tcG9uZW50cyBuZXN0ZWQgaW4gdi1vbmNlIGFyZSBuZXZlciB1bm1vdW50ZWQuXG4gICAgICAhZHluYW1pY0NoaWxkcmVuLmhhc09uY2UgJiYgLy8gIzExNTM6IGZhc3QgcGF0aCBzaG91bGQgbm90IGJlIHRha2VuIGZvciBub24tc3RhYmxlICh2LWZvcikgZnJhZ21lbnRzXG4gICAgICAodHlwZSAhPT0gRnJhZ21lbnQgfHwgcGF0Y2hGbGFnID4gMCAmJiBwYXRjaEZsYWcgJiA2NCkpIHtcbiAgICAgICAgdW5tb3VudENoaWxkcmVuKFxuICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBGcmFnbWVudCAmJiBwYXRjaEZsYWcgJiAoMTI4IHwgMjU2KSB8fCAhb3B0aW1pemVkICYmIHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBpZiAoZG9SZW1vdmUpIHtcbiAgICAgICAgcmVtb3ZlKHZub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNob3VsZEludm9rZVZub2RlSG9vayAmJiAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZVVubW91bnRlZCkgfHwgc2hvdWxkSW52b2tlRGlycykge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICBzaG91bGRJbnZva2VEaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJ1bm1vdW50ZWRcIik7XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmUgPSAodm5vZGUpID0+IHtcbiAgICBjb25zdCB7IHR5cGUsIGVsLCBhbmNob3IsIHRyYW5zaXRpb24gfSA9IHZub2RlO1xuICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdm5vZGUucGF0Y2hGbGFnID4gMCAmJiB2bm9kZS5wYXRjaEZsYWcgJiAyMDQ4ICYmIHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQpIHtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoY2hpbGQuZWwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW1vdmUoY2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVGcmFnbWVudChlbCwgYW5jaG9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xuICAgICAgcmVtb3ZlU3RhdGljTm9kZSh2bm9kZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBlcmZvcm1SZW1vdmUgPSAoKSA9PiB7XG4gICAgICBob3N0UmVtb3ZlKGVsKTtcbiAgICAgIGlmICh0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCAmJiB0cmFuc2l0aW9uLmFmdGVyTGVhdmUpIHtcbiAgICAgICAgdHJhbnNpdGlvbi5hZnRlckxlYXZlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAmJiB0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCkge1xuICAgICAgY29uc3QgeyBsZWF2ZSwgZGVsYXlMZWF2ZSB9ID0gdHJhbnNpdGlvbjtcbiAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IGxlYXZlKGVsLCBwZXJmb3JtUmVtb3ZlKTtcbiAgICAgIGlmIChkZWxheUxlYXZlKSB7XG4gICAgICAgIGRlbGF5TGVhdmUodm5vZGUuZWwsIHBlcmZvcm1SZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZXJmb3JtTGVhdmUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVyZm9ybVJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVtb3ZlRnJhZ21lbnQgPSAoY3VyLCBlbmQpID0+IHtcbiAgICBsZXQgbmV4dDtcbiAgICB3aGlsZSAoY3VyICE9PSBlbmQpIHtcbiAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoY3VyKTtcbiAgICAgIGhvc3RSZW1vdmUoY3VyKTtcbiAgICAgIGN1ciA9IG5leHQ7XG4gICAgfVxuICAgIGhvc3RSZW1vdmUoZW5kKTtcbiAgfTtcbiAgY29uc3QgdW5tb3VudENvbXBvbmVudCA9IChpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XG4gICAgICB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKTtcbiAgICB9XG4gICAgY29uc3QgeyBidW0sIHNjb3BlLCBqb2IsIHN1YlRyZWUsIHVtLCBtLCBhIH0gPSBpbnN0YW5jZTtcbiAgICBpbnZhbGlkYXRlTW91bnQobSk7XG4gICAgaW52YWxpZGF0ZU1vdW50KGEpO1xuICAgIGlmIChidW0pIHtcbiAgICAgIGludm9rZUFycmF5Rm5zKGJ1bSk7XG4gICAgfVxuICAgIHNjb3BlLnN0b3AoKTtcbiAgICBpZiAoam9iKSB7XG4gICAgICBqb2IuZmxhZ3MgfD0gODtcbiAgICAgIHVubW91bnQoc3ViVHJlZSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgfVxuICAgIGlmICh1bSkge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHVtLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICBpbnN0YW5jZS5pc1VubW91bnRlZCA9IHRydWU7XG4gICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkKGluc3RhbmNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVubW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UsIHN0YXJ0ID0gMCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1bm1vdW50KGNoaWxkcmVuW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSwgb3B0aW1pemVkKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGdldE5leHRIb3N0Tm9kZSA9ICh2bm9kZSkgPT4ge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2KSB7XG4gICAgICByZXR1cm4gZ2V0TmV4dEhvc3ROb2RlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlKTtcbiAgICB9XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgcmV0dXJuIHZub2RlLnN1c3BlbnNlLm5leHQoKTtcbiAgICB9XG4gICAgY29uc3QgZWwgPSBob3N0TmV4dFNpYmxpbmcodm5vZGUuYW5jaG9yIHx8IHZub2RlLmVsKTtcbiAgICBjb25zdCB0ZWxlcG9ydEVuZCA9IGVsICYmIGVsW1RlbGVwb3J0RW5kS2V5XTtcbiAgICByZXR1cm4gdGVsZXBvcnRFbmQgPyBob3N0TmV4dFNpYmxpbmcodGVsZXBvcnRFbmQpIDogZWw7XG4gIH07XG4gIGxldCBpc0ZsdXNoaW5nID0gZmFsc2U7XG4gIGNvbnN0IHJlbmRlciA9ICh2bm9kZSwgY29udGFpbmVyLCBuYW1lc3BhY2UpID0+IHtcbiAgICBpZiAodm5vZGUgPT0gbnVsbCkge1xuICAgICAgaWYgKGNvbnRhaW5lci5fdm5vZGUpIHtcbiAgICAgICAgdW5tb3VudChjb250YWluZXIuX3Zub2RlLCBudWxsLCBudWxsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGF0Y2goXG4gICAgICAgIGNvbnRhaW5lci5fdm5vZGUgfHwgbnVsbCxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbmFtZXNwYWNlXG4gICAgICApO1xuICAgIH1cbiAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gICAgaWYgKCFpc0ZsdXNoaW5nKSB7XG4gICAgICBpc0ZsdXNoaW5nID0gdHJ1ZTtcbiAgICAgIGZsdXNoUHJlRmx1c2hDYnMoKTtcbiAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XG4gICAgICBpc0ZsdXNoaW5nID0gZmFsc2U7XG4gICAgfVxuICB9O1xuICBjb25zdCBpbnRlcm5hbHMgPSB7XG4gICAgcDogcGF0Y2gsXG4gICAgdW06IHVubW91bnQsXG4gICAgbTogbW92ZSxcbiAgICByOiByZW1vdmUsXG4gICAgbXQ6IG1vdW50Q29tcG9uZW50LFxuICAgIG1jOiBtb3VudENoaWxkcmVuLFxuICAgIHBjOiBwYXRjaENoaWxkcmVuLFxuICAgIHBiYzogcGF0Y2hCbG9ja0NoaWxkcmVuLFxuICAgIG46IGdldE5leHRIb3N0Tm9kZSxcbiAgICBvOiBvcHRpb25zXG4gIH07XG4gIGxldCBoeWRyYXRlO1xuICBsZXQgaHlkcmF0ZU5vZGU7XG4gIGlmIChjcmVhdGVIeWRyYXRpb25GbnMpIHtcbiAgICBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdID0gY3JlYXRlSHlkcmF0aW9uRm5zKFxuICAgICAgaW50ZXJuYWxzXG4gICAgKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHJlbmRlcixcbiAgICBoeWRyYXRlLFxuICAgIGNyZWF0ZUFwcDogY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSlcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSh7IHR5cGUsIHByb3BzIH0sIGN1cnJlbnROYW1lc3BhY2UpIHtcbiAgcmV0dXJuIGN1cnJlbnROYW1lc3BhY2UgPT09IFwic3ZnXCIgJiYgdHlwZSA9PT0gXCJmb3JlaWduT2JqZWN0XCIgfHwgY3VycmVudE5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIiAmJiB0eXBlID09PSBcImFubm90YXRpb24teG1sXCIgJiYgcHJvcHMgJiYgcHJvcHMuZW5jb2RpbmcgJiYgcHJvcHMuZW5jb2RpbmcuaW5jbHVkZXMoXCJodG1sXCIpID8gdm9pZCAwIDogY3VycmVudE5hbWVzcGFjZTtcbn1cbmZ1bmN0aW9uIHRvZ2dsZVJlY3Vyc2UoeyBlZmZlY3QsIGpvYiB9LCBhbGxvd2VkKSB7XG4gIGlmIChhbGxvd2VkKSB7XG4gICAgZWZmZWN0LmZsYWdzIHw9IDMyO1xuICAgIGpvYi5mbGFncyB8PSA0O1xuICB9IGVsc2Uge1xuICAgIGVmZmVjdC5mbGFncyAmPSAtMzM7XG4gICAgam9iLmZsYWdzICY9IC01O1xuICB9XG59XG5mdW5jdGlvbiBuZWVkVHJhbnNpdGlvbihwYXJlbnRTdXNwZW5zZSwgdHJhbnNpdGlvbikge1xuICByZXR1cm4gKCFwYXJlbnRTdXNwZW5zZSB8fCBwYXJlbnRTdXNwZW5zZSAmJiAhcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCkgJiYgdHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQ7XG59XG5mdW5jdGlvbiB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgc2hhbGxvdyA9IGZhbHNlKSB7XG4gIGNvbnN0IGNoMSA9IG4xLmNoaWxkcmVuO1xuICBjb25zdCBjaDIgPSBuMi5jaGlsZHJlbjtcbiAgaWYgKGlzQXJyYXkoY2gxKSAmJiBpc0FycmF5KGNoMikpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoMS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYzEgPSBjaDFbaV07XG4gICAgICBsZXQgYzIgPSBjaDJbaV07XG4gICAgICBpZiAoYzIuc2hhcGVGbGFnICYgMSAmJiAhYzIuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgIGlmIChjMi5wYXRjaEZsYWcgPD0gMCB8fCBjMi5wYXRjaEZsYWcgPT09IDMyKSB7XG4gICAgICAgICAgYzIgPSBjaDJbaV0gPSBjbG9uZUlmTW91bnRlZChjaDJbaV0pO1xuICAgICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzaGFsbG93ICYmIGMyLnBhdGNoRmxhZyAhPT0gLTIpXG4gICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihjMSwgYzIpO1xuICAgICAgfVxuICAgICAgaWYgKGMyLnR5cGUgPT09IFRleHQgJiYgLy8gYXZvaWQgY2FjaGVkIHRleHQgbm9kZXMgcmV0YWluaW5nIGRldGFjaGVkIGRvbSBub2Rlc1xuICAgICAgYzIucGF0Y2hGbGFnICE9PSAtMSkge1xuICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgfVxuICAgICAgaWYgKGMyLnR5cGUgPT09IENvbW1lbnQgJiYgIWMyLmVsKSB7XG4gICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBjMi5lbCAmJiAoYzIuZWwuX192bm9kZSA9IGMyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFNlcXVlbmNlKGFycikge1xuICBjb25zdCBwID0gYXJyLnNsaWNlKCk7XG4gIGNvbnN0IHJlc3VsdCA9IFswXTtcbiAgbGV0IGksIGosIHUsIHYsIGM7XG4gIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IGFyckkgPSBhcnJbaV07XG4gICAgaWYgKGFyckkgIT09IDApIHtcbiAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGFycltqXSA8IGFyckkpIHtcbiAgICAgICAgcFtpXSA9IGo7XG4gICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHUgPSAwO1xuICAgICAgdiA9IHJlc3VsdC5sZW5ndGggLSAxO1xuICAgICAgd2hpbGUgKHUgPCB2KSB7XG4gICAgICAgIGMgPSB1ICsgdiA+PiAxO1xuICAgICAgICBpZiAoYXJyW3Jlc3VsdFtjXV0gPCBhcnJJKSB7XG4gICAgICAgICAgdSA9IGMgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHYgPSBjO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XG4gICAgICAgIGlmICh1ID4gMCkge1xuICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFt1XSA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHUgPSByZXN1bHQubGVuZ3RoO1xuICB2ID0gcmVzdWx0W3UgLSAxXTtcbiAgd2hpbGUgKHUtLSA+IDApIHtcbiAgICByZXN1bHRbdV0gPSB2O1xuICAgIHYgPSBwW3ZdO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChpbnN0YW5jZSkge1xuICBjb25zdCBzdWJDb21wb25lbnQgPSBpbnN0YW5jZS5zdWJUcmVlLmNvbXBvbmVudDtcbiAgaWYgKHN1YkNvbXBvbmVudCkge1xuICAgIGlmIChzdWJDb21wb25lbnQuYXN5bmNEZXAgJiYgIXN1YkNvbXBvbmVudC5hc3luY1Jlc29sdmVkKSB7XG4gICAgICByZXR1cm4gc3ViQ29tcG9uZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbG9jYXRlTm9uSHlkcmF0ZWRBc3luY1Jvb3Qoc3ViQ29tcG9uZW50KTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGludmFsaWRhdGVNb3VudChob29rcykge1xuICBpZiAoaG9va3MpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKVxuICAgICAgaG9va3NbaV0uZmxhZ3MgfD0gODtcbiAgfVxufVxuXG5jb25zdCBzc3JDb250ZXh0S2V5ID0gU3ltYm9sLmZvcihcInYtc2N4XCIpO1xuY29uc3QgdXNlU1NSQ29udGV4dCA9ICgpID0+IHtcbiAge1xuICAgIGNvbnN0IGN0eCA9IGluamVjdChzc3JDb250ZXh0S2V5KTtcbiAgICBpZiAoIWN0eCkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBTZXJ2ZXIgcmVuZGVyaW5nIGNvbnRleHQgbm90IHByb3ZpZGVkLiBNYWtlIHN1cmUgdG8gb25seSBjYWxsIHVzZVNTUkNvbnRleHQoKSBjb25kaXRpb25hbGx5IGluIHRoZSBzZXJ2ZXIgYnVpbGQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGN0eDtcbiAgfVxufTtcblxuZnVuY3Rpb24gd2F0Y2hFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkb1dhdGNoKGVmZmVjdCwgbnVsbCwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiB3YXRjaFBvc3RFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkb1dhdGNoKFxuICAgIGVmZmVjdCxcbiAgICBudWxsLFxuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBleHRlbmQoe30sIG9wdGlvbnMsIHsgZmx1c2g6IFwicG9zdFwiIH0pIDogeyBmbHVzaDogXCJwb3N0XCIgfVxuICApO1xufVxuZnVuY3Rpb24gd2F0Y2hTeW5jRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xuICByZXR1cm4gZG9XYXRjaChcbiAgICBlZmZlY3QsXG4gICAgbnVsbCxcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGZsdXNoOiBcInN5bmNcIiB9KSA6IHsgZmx1c2g6IFwic3luY1wiIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRnVuY3Rpb24oY2IpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYFxcYHdhdGNoKGZuLCBvcHRpb25zPylcXGAgc2lnbmF0dXJlIGhhcyBiZWVuIG1vdmVkIHRvIGEgc2VwYXJhdGUgQVBJLiBVc2UgXFxgd2F0Y2hFZmZlY3QoZm4sIG9wdGlvbnM/KVxcYCBpbnN0ZWFkLiBcXGB3YXRjaFxcYCBub3cgb25seSBzdXBwb3J0cyBcXGB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICApO1xuICB9XG4gIHJldHVybiBkb1dhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gZG9XYXRjaChzb3VyY2UsIGNiLCBvcHRpb25zID0gRU1QVFlfT0JKKSB7XG4gIGNvbnN0IHsgaW1tZWRpYXRlLCBkZWVwLCBmbHVzaCwgb25jZSB9ID0gb3B0aW9ucztcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWNiKSB7XG4gICAgaWYgKGltbWVkaWF0ZSAhPT0gdm9pZCAwKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGB3YXRjaCgpIFwiaW1tZWRpYXRlXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGRlZXAgIT09IHZvaWQgMCkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgd2F0Y2goKSBcImRlZXBcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAob25jZSAhPT0gdm9pZCAwKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGB3YXRjaCgpIFwib25jZVwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGJhc2VXYXRjaE9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkgYmFzZVdhdGNoT3B0aW9ucy5vbldhcm4gPSB3YXJuJDE7XG4gIGNvbnN0IHJ1bnNJbW1lZGlhdGVseSA9IGNiICYmIGltbWVkaWF0ZSB8fCAhY2IgJiYgZmx1c2ggIT09IFwicG9zdFwiO1xuICBsZXQgc3NyQ2xlYW51cDtcbiAgaWYgKGlzSW5TU1JDb21wb25lbnRTZXR1cCkge1xuICAgIGlmIChmbHVzaCA9PT0gXCJzeW5jXCIpIHtcbiAgICAgIGNvbnN0IGN0eCA9IHVzZVNTUkNvbnRleHQoKTtcbiAgICAgIHNzckNsZWFudXAgPSBjdHguX193YXRjaGVySGFuZGxlcyB8fCAoY3R4Ll9fd2F0Y2hlckhhbmRsZXMgPSBbXSk7XG4gICAgfSBlbHNlIGlmICghcnVuc0ltbWVkaWF0ZWx5KSB7XG4gICAgICBjb25zdCB3YXRjaFN0b3BIYW5kbGUgPSAoKSA9PiB7XG4gICAgICB9O1xuICAgICAgd2F0Y2hTdG9wSGFuZGxlLnN0b3AgPSBOT09QO1xuICAgICAgd2F0Y2hTdG9wSGFuZGxlLnJlc3VtZSA9IE5PT1A7XG4gICAgICB3YXRjaFN0b3BIYW5kbGUucGF1c2UgPSBOT09QO1xuICAgICAgcmV0dXJuIHdhdGNoU3RvcEhhbmRsZTtcbiAgICB9XG4gIH1cbiAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XG4gIGJhc2VXYXRjaE9wdGlvbnMuY2FsbCA9IChmbiwgdHlwZSwgYXJncykgPT4gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKTtcbiAgbGV0IGlzUHJlID0gZmFsc2U7XG4gIGlmIChmbHVzaCA9PT0gXCJwb3N0XCIpIHtcbiAgICBiYXNlV2F0Y2hPcHRpb25zLnNjaGVkdWxlciA9IChqb2IpID0+IHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChqb2IsIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcbiAgICB9O1xuICB9IGVsc2UgaWYgKGZsdXNoICE9PSBcInN5bmNcIikge1xuICAgIGlzUHJlID0gdHJ1ZTtcbiAgICBiYXNlV2F0Y2hPcHRpb25zLnNjaGVkdWxlciA9IChqb2IsIGlzRmlyc3RSdW4pID0+IHtcbiAgICAgIGlmIChpc0ZpcnN0UnVuKSB7XG4gICAgICAgIGpvYigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVKb2Ioam9iKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGJhc2VXYXRjaE9wdGlvbnMuYXVnbWVudEpvYiA9IChqb2IpID0+IHtcbiAgICBpZiAoY2IpIHtcbiAgICAgIGpvYi5mbGFncyB8PSA0O1xuICAgIH1cbiAgICBpZiAoaXNQcmUpIHtcbiAgICAgIGpvYi5mbGFncyB8PSAyO1xuICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgIGpvYi5pZCA9IGluc3RhbmNlLnVpZDtcbiAgICAgICAgam9iLmkgPSBpbnN0YW5jZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHdhdGNoSGFuZGxlID0gd2F0Y2gkMShzb3VyY2UsIGNiLCBiYXNlV2F0Y2hPcHRpb25zKTtcbiAgaWYgKGlzSW5TU1JDb21wb25lbnRTZXR1cCkge1xuICAgIGlmIChzc3JDbGVhbnVwKSB7XG4gICAgICBzc3JDbGVhbnVwLnB1c2god2F0Y2hIYW5kbGUpO1xuICAgIH0gZWxzZSBpZiAocnVuc0ltbWVkaWF0ZWx5KSB7XG4gICAgICB3YXRjaEhhbmRsZSgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gd2F0Y2hIYW5kbGU7XG59XG5mdW5jdGlvbiBpbnN0YW5jZVdhdGNoKHNvdXJjZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgY29uc3QgcHVibGljVGhpcyA9IHRoaXMucHJveHk7XG4gIGNvbnN0IGdldHRlciA9IGlzU3RyaW5nKHNvdXJjZSkgPyBzb3VyY2UuaW5jbHVkZXMoXCIuXCIpID8gY3JlYXRlUGF0aEdldHRlcihwdWJsaWNUaGlzLCBzb3VyY2UpIDogKCkgPT4gcHVibGljVGhpc1tzb3VyY2VdIDogc291cmNlLmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcyk7XG4gIGxldCBjYjtcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgY2IgPSB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBjYiA9IHZhbHVlLmhhbmRsZXI7XG4gICAgb3B0aW9ucyA9IHZhbHVlO1xuICB9XG4gIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKHRoaXMpO1xuICBjb25zdCByZXMgPSBkb1dhdGNoKGdldHRlciwgY2IuYmluZChwdWJsaWNUaGlzKSwgb3B0aW9ucyk7XG4gIHJlc2V0KCk7XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjcmVhdGVQYXRoR2V0dGVyKGN0eCwgcGF0aCkge1xuICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIuXCIpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGxldCBjdXIgPSBjdHg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGggJiYgY3VyOyBpKyspIHtcbiAgICAgIGN1ciA9IGN1cltzZWdtZW50c1tpXV07XG4gICAgfVxuICAgIHJldHVybiBjdXI7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZU1vZGVsKHByb3BzLCBuYW1lLCBvcHRpb25zID0gRU1QVFlfT0JKKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWkpIHtcbiAgICB3YXJuJDEoYHVzZU1vZGVsKCkgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGluc3RhbmNlLmApO1xuICAgIHJldHVybiByZWYoKTtcbiAgfVxuICBjb25zdCBjYW1lbGl6ZWROYW1lID0gY2FtZWxpemUobmFtZSk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpLnByb3BzT3B0aW9uc1swXVtjYW1lbGl6ZWROYW1lXSkge1xuICAgIHdhcm4kMShgdXNlTW9kZWwoKSBjYWxsZWQgd2l0aCBwcm9wIFwiJHtuYW1lfVwiIHdoaWNoIGlzIG5vdCBkZWNsYXJlZC5gKTtcbiAgICByZXR1cm4gcmVmKCk7XG4gIH1cbiAgY29uc3QgaHlwaGVuYXRlZE5hbWUgPSBoeXBoZW5hdGUobmFtZSk7XG4gIGNvbnN0IG1vZGlmaWVycyA9IGdldE1vZGVsTW9kaWZpZXJzKHByb3BzLCBjYW1lbGl6ZWROYW1lKTtcbiAgY29uc3QgcmVzID0gY3VzdG9tUmVmKCh0cmFjaywgdHJpZ2dlcikgPT4ge1xuICAgIGxldCBsb2NhbFZhbHVlO1xuICAgIGxldCBwcmV2U2V0VmFsdWUgPSBFTVBUWV9PQko7XG4gICAgbGV0IHByZXZFbWl0dGVkVmFsdWU7XG4gICAgd2F0Y2hTeW5jRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IHByb3BWYWx1ZSA9IHByb3BzW2NhbWVsaXplZE5hbWVdO1xuICAgICAgaWYgKGhhc0NoYW5nZWQobG9jYWxWYWx1ZSwgcHJvcFZhbHVlKSkge1xuICAgICAgICBsb2NhbFZhbHVlID0gcHJvcFZhbHVlO1xuICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgdHJhY2soKTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuZ2V0ID8gb3B0aW9ucy5nZXQobG9jYWxWYWx1ZSkgOiBsb2NhbFZhbHVlO1xuICAgICAgfSxcbiAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBlbWl0dGVkVmFsdWUgPSBvcHRpb25zLnNldCA/IG9wdGlvbnMuc2V0KHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICBpZiAoIWhhc0NoYW5nZWQoZW1pdHRlZFZhbHVlLCBsb2NhbFZhbHVlKSAmJiAhKHByZXZTZXRWYWx1ZSAhPT0gRU1QVFlfT0JKICYmIGhhc0NoYW5nZWQodmFsdWUsIHByZXZTZXRWYWx1ZSkpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJhd1Byb3BzID0gaS52bm9kZS5wcm9wcztcbiAgICAgICAgaWYgKCEocmF3UHJvcHMgJiYgLy8gY2hlY2sgaWYgcGFyZW50IGhhcyBwYXNzZWQgdi1tb2RlbFxuICAgICAgICAobmFtZSBpbiByYXdQcm9wcyB8fCBjYW1lbGl6ZWROYW1lIGluIHJhd1Byb3BzIHx8IGh5cGhlbmF0ZWROYW1lIGluIHJhd1Byb3BzKSAmJiAoYG9uVXBkYXRlOiR7bmFtZX1gIGluIHJhd1Byb3BzIHx8IGBvblVwZGF0ZToke2NhbWVsaXplZE5hbWV9YCBpbiByYXdQcm9wcyB8fCBgb25VcGRhdGU6JHtoeXBoZW5hdGVkTmFtZX1gIGluIHJhd1Byb3BzKSkpIHtcbiAgICAgICAgICBsb2NhbFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgdHJpZ2dlcigpO1xuICAgICAgICB9XG4gICAgICAgIGkuZW1pdChgdXBkYXRlOiR7bmFtZX1gLCBlbWl0dGVkVmFsdWUpO1xuICAgICAgICBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgZW1pdHRlZFZhbHVlKSAmJiBoYXNDaGFuZ2VkKHZhbHVlLCBwcmV2U2V0VmFsdWUpICYmICFoYXNDaGFuZ2VkKGVtaXR0ZWRWYWx1ZSwgcHJldkVtaXR0ZWRWYWx1ZSkpIHtcbiAgICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcHJldlNldFZhbHVlID0gdmFsdWU7XG4gICAgICAgIHByZXZFbWl0dGVkVmFsdWUgPSBlbWl0dGVkVmFsdWU7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJlc1tTeW1ib2wuaXRlcmF0b3JdID0gKCkgPT4ge1xuICAgIGxldCBpMiA9IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5leHQoKSB7XG4gICAgICAgIGlmIChpMiA8IDIpIHtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogaTIrKyA/IG1vZGlmaWVycyB8fCBFTVBUWV9PQkogOiByZXMsIGRvbmU6IGZhbHNlIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIHJlcztcbn1cbmNvbnN0IGdldE1vZGVsTW9kaWZpZXJzID0gKHByb3BzLCBtb2RlbE5hbWUpID0+IHtcbiAgcmV0dXJuIG1vZGVsTmFtZSA9PT0gXCJtb2RlbFZhbHVlXCIgfHwgbW9kZWxOYW1lID09PSBcIm1vZGVsLXZhbHVlXCIgPyBwcm9wcy5tb2RlbE1vZGlmaWVycyA6IHByb3BzW2Ake21vZGVsTmFtZX1Nb2RpZmllcnNgXSB8fCBwcm9wc1tgJHtjYW1lbGl6ZShtb2RlbE5hbWUpfU1vZGlmaWVyc2BdIHx8IHByb3BzW2Ake2h5cGhlbmF0ZShtb2RlbE5hbWUpfU1vZGlmaWVyc2BdO1xufTtcblxuZnVuY3Rpb24gZW1pdChpbnN0YW5jZSwgZXZlbnQsIC4uLnJhd0FyZ3MpIHtcbiAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkKSByZXR1cm47XG4gIGNvbnN0IHByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGVtaXRzT3B0aW9ucyxcbiAgICAgIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc11cbiAgICB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKGVtaXRzT3B0aW9ucykge1xuICAgICAgaWYgKCEoZXZlbnQgaW4gZW1pdHNPcHRpb25zKSAmJiB0cnVlKSB7XG4gICAgICAgIGlmICghcHJvcHNPcHRpb25zIHx8ICEodG9IYW5kbGVyS2V5KGNhbWVsaXplKGV2ZW50KSkgaW4gcHJvcHNPcHRpb25zKSkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBDb21wb25lbnQgZW1pdHRlZCBldmVudCBcIiR7ZXZlbnR9XCIgYnV0IGl0IGlzIG5laXRoZXIgZGVjbGFyZWQgaW4gdGhlIGVtaXRzIG9wdGlvbiBub3IgYXMgYW4gXCIke3RvSGFuZGxlcktleShjYW1lbGl6ZShldmVudCkpfVwiIHByb3AuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRvciA9IGVtaXRzT3B0aW9uc1tldmVudF07XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRvcikpIHtcbiAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gdmFsaWRhdG9yKC4uLnJhd0FyZ3MpO1xuICAgICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgSW52YWxpZCBldmVudCBhcmd1bWVudHM6IGV2ZW50IHZhbGlkYXRpb24gZmFpbGVkIGZvciBldmVudCBcIiR7ZXZlbnR9XCIuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IGFyZ3MgPSByYXdBcmdzO1xuICBjb25zdCBpc01vZGVsTGlzdGVuZXIgPSBldmVudC5zdGFydHNXaXRoKFwidXBkYXRlOlwiKTtcbiAgY29uc3QgbW9kaWZpZXJzID0gaXNNb2RlbExpc3RlbmVyICYmIGdldE1vZGVsTW9kaWZpZXJzKHByb3BzLCBldmVudC5zbGljZSg3KSk7XG4gIGlmIChtb2RpZmllcnMpIHtcbiAgICBpZiAobW9kaWZpZXJzLnRyaW0pIHtcbiAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcCgoYSkgPT4gaXNTdHJpbmcoYSkgPyBhLnRyaW0oKSA6IGEpO1xuICAgIH1cbiAgICBpZiAobW9kaWZpZXJzLm51bWJlcikge1xuICAgICAgYXJncyA9IHJhd0FyZ3MubWFwKGxvb3NlVG9OdW1iZXIpO1xuICAgIH1cbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICBkZXZ0b29sc0NvbXBvbmVudEVtaXQoaW5zdGFuY2UsIGV2ZW50LCBhcmdzKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGxvd2VyQ2FzZUV2ZW50ID0gZXZlbnQudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobG93ZXJDYXNlRXZlbnQgIT09IGV2ZW50ICYmIHByb3BzW3RvSGFuZGxlcktleShsb3dlckNhc2VFdmVudCldKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBFdmVudCBcIiR7bG93ZXJDYXNlRXZlbnR9XCIgaXMgZW1pdHRlZCBpbiBjb21wb25lbnQgJHtmb3JtYXRDb21wb25lbnROYW1lKFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIGluc3RhbmNlLnR5cGVcbiAgICAgICAgKX0gYnV0IHRoZSBoYW5kbGVyIGlzIHJlZ2lzdGVyZWQgZm9yIFwiJHtldmVudH1cIi4gTm90ZSB0aGF0IEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBhbmQgeW91IGNhbm5vdCB1c2Ugdi1vbiB0byBsaXN0ZW4gdG8gY2FtZWxDYXNlIGV2ZW50cyB3aGVuIHVzaW5nIGluLURPTSB0ZW1wbGF0ZXMuIFlvdSBzaG91bGQgcHJvYmFibHkgdXNlIFwiJHtoeXBoZW5hdGUoXG4gICAgICAgICAgZXZlbnRcbiAgICAgICAgKX1cIiBpbnN0ZWFkIG9mIFwiJHtldmVudH1cIi5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBsZXQgaGFuZGxlck5hbWU7XG4gIGxldCBoYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoZXZlbnQpXSB8fCAvLyBhbHNvIHRyeSBjYW1lbENhc2UgZXZlbnQgaGFuZGxlciAoIzIyNDkpXG4gIHByb3BzW2hhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGNhbWVsaXplKGV2ZW50KSldO1xuICBpZiAoIWhhbmRsZXIgJiYgaXNNb2RlbExpc3RlbmVyKSB7XG4gICAgaGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGh5cGhlbmF0ZShldmVudCkpXTtcbiAgfVxuICBpZiAoaGFuZGxlcikge1xuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgaGFuZGxlcixcbiAgICAgIGluc3RhbmNlLFxuICAgICAgNixcbiAgICAgIGFyZ3NcbiAgICApO1xuICB9XG4gIGNvbnN0IG9uY2VIYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgKyBgT25jZWBdO1xuICBpZiAob25jZUhhbmRsZXIpIHtcbiAgICBpZiAoIWluc3RhbmNlLmVtaXR0ZWQpIHtcbiAgICAgIGluc3RhbmNlLmVtaXR0ZWQgPSB7fTtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmVtaXR0ZWRbaGFuZGxlck5hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGluc3RhbmNlLmVtaXR0ZWRbaGFuZGxlck5hbWVdID0gdHJ1ZTtcbiAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIG9uY2VIYW5kbGVyLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA2LFxuICAgICAgYXJnc1xuICAgICk7XG4gIH1cbn1cbmNvbnN0IG1peGluRW1pdHNDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gbm9ybWFsaXplRW1pdHNPcHRpb25zKGNvbXAsIGFwcENvbnRleHQsIGFzTWl4aW4gPSBmYWxzZSkge1xuICBjb25zdCBjYWNoZSA9IF9fVlVFX09QVElPTlNfQVBJX18gJiYgYXNNaXhpbiA/IG1peGluRW1pdHNDYWNoZSA6IGFwcENvbnRleHQuZW1pdHNDYWNoZTtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGNvbXApO1xuICBpZiAoY2FjaGVkICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG4gIGNvbnN0IHJhdyA9IGNvbXAuZW1pdHM7XG4gIGxldCBub3JtYWxpemVkID0ge307XG4gIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XG4gIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgY29uc3QgZXh0ZW5kRW1pdHMgPSAocmF3MikgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEZyb21FeHRlbmQgPSBub3JtYWxpemVFbWl0c09wdGlvbnMocmF3MiwgYXBwQ29udGV4dCwgdHJ1ZSk7XG4gICAgICBpZiAobm9ybWFsaXplZEZyb21FeHRlbmQpIHtcbiAgICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XG4gICAgICAgIGV4dGVuZChub3JtYWxpemVkLCBub3JtYWxpemVkRnJvbUV4dGVuZCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XG4gICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcbiAgICB9XG4gICAgaWYgKGNvbXAuZXh0ZW5kcykge1xuICAgICAgZXh0ZW5kRW1pdHMoY29tcC5leHRlbmRzKTtcbiAgICB9XG4gICAgaWYgKGNvbXAubWl4aW5zKSB7XG4gICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcbiAgICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICAgIGNhY2hlLnNldChjb21wLCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgIHJhdy5mb3JFYWNoKChrZXkpID0+IG5vcm1hbGl6ZWRba2V5XSA9IG51bGwpO1xuICB9IGVsc2Uge1xuICAgIGV4dGVuZChub3JtYWxpemVkLCByYXcpO1xuICB9XG4gIGlmIChpc09iamVjdChjb21wKSkge1xuICAgIGNhY2hlLnNldChjb21wLCBub3JtYWxpemVkKTtcbiAgfVxuICByZXR1cm4gbm9ybWFsaXplZDtcbn1cbmZ1bmN0aW9uIGlzRW1pdExpc3RlbmVyKG9wdGlvbnMsIGtleSkge1xuICBpZiAoIW9wdGlvbnMgfHwgIWlzT24oa2V5KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBrZXkgPSBrZXkuc2xpY2UoMikucmVwbGFjZSgvT25jZSQvLCBcIlwiKTtcbiAgcmV0dXJuIGhhc093bihvcHRpb25zLCBrZXlbMF0udG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgxKSkgfHwgaGFzT3duKG9wdGlvbnMsIGh5cGhlbmF0ZShrZXkpKSB8fCBoYXNPd24ob3B0aW9ucywga2V5KTtcbn1cblxubGV0IGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcbmZ1bmN0aW9uIG1hcmtBdHRyc0FjY2Vzc2VkKCkge1xuICBhY2Nlc3NlZEF0dHJzID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICB2bm9kZSxcbiAgICBwcm94eSxcbiAgICB3aXRoUHJveHksXG4gICAgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSxcbiAgICBzbG90cyxcbiAgICBhdHRycyxcbiAgICBlbWl0LFxuICAgIHJlbmRlcixcbiAgICByZW5kZXJDYWNoZSxcbiAgICBwcm9wcyxcbiAgICBkYXRhLFxuICAgIHNldHVwU3RhdGUsXG4gICAgY3R4LFxuICAgIGluaGVyaXRBdHRyc1xuICB9ID0gaW5zdGFuY2U7XG4gIGNvbnN0IHByZXYgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpO1xuICBsZXQgcmVzdWx0O1xuICBsZXQgZmFsbHRocm91Z2hBdHRycztcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNCkge1xuICAgICAgY29uc3QgcHJveHlUb1VzZSA9IHdpdGhQcm94eSB8fCBwcm94eTtcbiAgICAgIGNvbnN0IHRoaXNQcm94eSA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXAgPyBuZXcgUHJveHkocHJveHlUb1VzZSwge1xuICAgICAgICBnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYFByb3BlcnR5ICcke1N0cmluZyhcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApfScgd2FzIGFjY2Vzc2VkIHZpYSAndGhpcycuIEF2b2lkIHVzaW5nICd0aGlzJyBpbiB0ZW1wbGF0ZXMuYFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcik7XG4gICAgICAgIH1cbiAgICAgIH0pIDogcHJveHlUb1VzZTtcbiAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKFxuICAgICAgICByZW5kZXIuY2FsbChcbiAgICAgICAgICB0aGlzUHJveHksXG4gICAgICAgICAgcHJveHlUb1VzZSxcbiAgICAgICAgICByZW5kZXJDYWNoZSxcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KHByb3BzKSA6IHByb3BzLFxuICAgICAgICAgIHNldHVwU3RhdGUsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBjdHhcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBhdHRycztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVuZGVyMiA9IENvbXBvbmVudDtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGF0dHJzID09PSBwcm9wcykge1xuICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUoXG4gICAgICAgIHJlbmRlcjIubGVuZ3RoID4gMSA/IHJlbmRlcjIoXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShwcm9wcykgOiBwcm9wcyxcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8ge1xuICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xuICAgICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgICAgICAgICByZXR1cm4gc2hhbGxvd1JlYWRvbmx5KGF0dHJzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzbG90cyxcbiAgICAgICAgICAgIGVtaXRcbiAgICAgICAgICB9IDogeyBhdHRycywgc2xvdHMsIGVtaXQgfVxuICAgICAgICApIDogcmVuZGVyMihcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KHByb3BzKSA6IHByb3BzLFxuICAgICAgICAgIG51bGxcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBDb21wb25lbnQucHJvcHMgPyBhdHRycyA6IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaChhdHRycyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBibG9ja1N0YWNrLmxlbmd0aCA9IDA7XG4gICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMSk7XG4gICAgcmVzdWx0ID0gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gIH1cbiAgbGV0IHJvb3QgPSByZXN1bHQ7XG4gIGxldCBzZXRSb290ID0gdm9pZCAwO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiByZXN1bHQucGF0Y2hGbGFnID4gMCAmJiByZXN1bHQucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgIFtyb290LCBzZXRSb290XSA9IGdldENoaWxkUm9vdChyZXN1bHQpO1xuICB9XG4gIGlmIChmYWxsdGhyb3VnaEF0dHJzICYmIGluaGVyaXRBdHRycyAhPT0gZmFsc2UpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmFsbHRocm91Z2hBdHRycyk7XG4gICAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHJvb3Q7XG4gICAgaWYgKGtleXMubGVuZ3RoKSB7XG4gICAgICBpZiAoc2hhcGVGbGFnICYgKDEgfCA2KSkge1xuICAgICAgICBpZiAocHJvcHNPcHRpb25zICYmIGtleXMuc29tZShpc01vZGVsTGlzdGVuZXIpKSB7XG4gICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGZpbHRlck1vZGVsTGlzdGVuZXJzKFxuICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyxcbiAgICAgICAgICAgIHByb3BzT3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcm9vdCA9IGNsb25lVk5vZGUocm9vdCwgZmFsbHRocm91Z2hBdHRycywgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFhY2Nlc3NlZEF0dHJzICYmIHJvb3QudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBjb25zdCBhbGxBdHRycyA9IE9iamVjdC5rZXlzKGF0dHJzKTtcbiAgICAgICAgY29uc3QgZXZlbnRBdHRycyA9IFtdO1xuICAgICAgICBjb25zdCBleHRyYUF0dHJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYWxsQXR0cnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYWxsQXR0cnNbaV07XG4gICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xuICAgICAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xuICAgICAgICAgICAgICBldmVudEF0dHJzLnB1c2goa2V5WzJdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHRyYUF0dHJzLnB1c2goa2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dHJhQXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEV4dHJhbmVvdXMgbm9uLXByb3BzIGF0dHJpYnV0ZXMgKCR7ZXh0cmFBdHRycy5qb2luKFwiLCBcIil9KSB3ZXJlIHBhc3NlZCB0byBjb21wb25lbnQgYnV0IGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGluaGVyaXRlZCBiZWNhdXNlIGNvbXBvbmVudCByZW5kZXJzIGZyYWdtZW50IG9yIHRleHQgb3IgdGVsZXBvcnQgcm9vdCBub2Rlcy5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRBdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgRXh0cmFuZW91cyBub24tZW1pdHMgZXZlbnQgbGlzdGVuZXJzICgke2V2ZW50QXR0cnMuam9pbihcIiwgXCIpfSkgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuIElmIHRoZSBsaXN0ZW5lciBpcyBpbnRlbmRlZCB0byBiZSBhIGNvbXBvbmVudCBjdXN0b20gZXZlbnQgbGlzdGVuZXIgb25seSwgZGVjbGFyZSBpdCB1c2luZyB0aGUgXCJlbWl0c1wiIG9wdGlvbi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAodm5vZGUuZGlycykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBSdW50aW1lIGRpcmVjdGl2ZSB1c2VkIG9uIGNvbXBvbmVudCB3aXRoIG5vbi1lbGVtZW50IHJvb3Qgbm9kZS4gVGhlIGRpcmVjdGl2ZXMgd2lsbCBub3QgZnVuY3Rpb24gYXMgaW50ZW5kZWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcm9vdCA9IGNsb25lVk5vZGUocm9vdCwgbnVsbCwgZmFsc2UsIHRydWUpO1xuICAgIHJvb3QuZGlycyA9IHJvb3QuZGlycyA/IHJvb3QuZGlycy5jb25jYXQodm5vZGUuZGlycykgOiB2bm9kZS5kaXJzO1xuICB9XG4gIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRWxlbWVudFJvb3Qocm9vdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYENvbXBvbmVudCBpbnNpZGUgPFRyYW5zaXRpb24+IHJlbmRlcnMgbm9uLWVsZW1lbnQgcm9vdCBub2RlIHRoYXQgY2Fubm90IGJlIGFuaW1hdGVkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHNldFRyYW5zaXRpb25Ib29rcyhyb290LCB2bm9kZS50cmFuc2l0aW9uKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXRSb290KSB7XG4gICAgc2V0Um9vdChyb290KTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSByb290O1xuICB9XG4gIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IGdldENoaWxkUm9vdCA9ICh2bm9kZSkgPT4ge1xuICBjb25zdCByYXdDaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuICBjb25zdCBkeW5hbWljQ2hpbGRyZW4gPSB2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gIGNvbnN0IGNoaWxkUm9vdCA9IGZpbHRlclNpbmdsZVJvb3QocmF3Q2hpbGRyZW4sIGZhbHNlKTtcbiAgaWYgKCFjaGlsZFJvb3QpIHtcbiAgICByZXR1cm4gW3Zub2RlLCB2b2lkIDBdO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hpbGRSb290LnBhdGNoRmxhZyA+IDAgJiYgY2hpbGRSb290LnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICByZXR1cm4gZ2V0Q2hpbGRSb290KGNoaWxkUm9vdCk7XG4gIH1cbiAgY29uc3QgaW5kZXggPSByYXdDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCk7XG4gIGNvbnN0IGR5bmFtaWNJbmRleCA9IGR5bmFtaWNDaGlsZHJlbiA/IGR5bmFtaWNDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCkgOiAtMTtcbiAgY29uc3Qgc2V0Um9vdCA9ICh1cGRhdGVkUm9vdCkgPT4ge1xuICAgIHJhd0NoaWxkcmVuW2luZGV4XSA9IHVwZGF0ZWRSb290O1xuICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgIGlmIChkeW5hbWljSW5kZXggPiAtMSkge1xuICAgICAgICBkeW5hbWljQ2hpbGRyZW5bZHluYW1pY0luZGV4XSA9IHVwZGF0ZWRSb290O1xuICAgICAgfSBlbHNlIGlmICh1cGRhdGVkUm9vdC5wYXRjaEZsYWcgPiAwKSB7XG4gICAgICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IFsuLi5keW5hbWljQ2hpbGRyZW4sIHVwZGF0ZWRSb290XTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBbbm9ybWFsaXplVk5vZGUoY2hpbGRSb290KSwgc2V0Um9vdF07XG59O1xuZnVuY3Rpb24gZmlsdGVyU2luZ2xlUm9vdChjaGlsZHJlbiwgcmVjdXJzZSA9IHRydWUpIHtcbiAgbGV0IHNpbmdsZVJvb3Q7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGlmIChpc1ZOb2RlKGNoaWxkKSkge1xuICAgICAgaWYgKGNoaWxkLnR5cGUgIT09IENvbW1lbnQgfHwgY2hpbGQuY2hpbGRyZW4gPT09IFwidi1pZlwiKSB7XG4gICAgICAgIGlmIChzaW5nbGVSb290KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNpbmdsZVJvb3QgPSBjaGlsZDtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiByZWN1cnNlICYmIHNpbmdsZVJvb3QucGF0Y2hGbGFnID4gMCAmJiBzaW5nbGVSb290LnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJTaW5nbGVSb290KHNpbmdsZVJvb3QuY2hpbGRyZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIHJldHVybiBzaW5nbGVSb290O1xufVxuY29uc3QgZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoID0gKGF0dHJzKSA9PiB7XG4gIGxldCByZXM7XG4gIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgaWYgKGtleSA9PT0gXCJjbGFzc1wiIHx8IGtleSA9PT0gXCJzdHlsZVwiIHx8IGlzT24oa2V5KSkge1xuICAgICAgKHJlcyB8fCAocmVzID0ge30pKVtrZXldID0gYXR0cnNba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5jb25zdCBmaWx0ZXJNb2RlbExpc3RlbmVycyA9IChhdHRycywgcHJvcHMpID0+IHtcbiAgY29uc3QgcmVzID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSB8fCAhKGtleS5zbGljZSg5KSBpbiBwcm9wcykpIHtcbiAgICAgIHJlc1trZXldID0gYXR0cnNba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5jb25zdCBpc0VsZW1lbnRSb290ID0gKHZub2RlKSA9PiB7XG4gIHJldHVybiB2bm9kZS5zaGFwZUZsYWcgJiAoNiB8IDEpIHx8IHZub2RlLnR5cGUgPT09IENvbW1lbnQ7XG59O1xuZnVuY3Rpb24gc2hvdWxkVXBkYXRlQ29tcG9uZW50KHByZXZWTm9kZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpIHtcbiAgY29uc3QgeyBwcm9wczogcHJldlByb3BzLCBjaGlsZHJlbjogcHJldkNoaWxkcmVuLCBjb21wb25lbnQgfSA9IHByZXZWTm9kZTtcbiAgY29uc3QgeyBwcm9wczogbmV4dFByb3BzLCBjaGlsZHJlbjogbmV4dENoaWxkcmVuLCBwYXRjaEZsYWcgfSA9IG5leHRWTm9kZTtcbiAgY29uc3QgZW1pdHMgPSBjb21wb25lbnQuZW1pdHNPcHRpb25zO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChuZXh0Vk5vZGUuZGlycyB8fCBuZXh0Vk5vZGUudHJhbnNpdGlvbikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChvcHRpbWl6ZWQgJiYgcGF0Y2hGbGFnID49IDApIHtcbiAgICBpZiAocGF0Y2hGbGFnICYgMTAyNCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgJiAxNikge1xuICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcbiAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xuICAgIH0gZWxzZSBpZiAocGF0Y2hGbGFnICYgOCkge1xuICAgICAgY29uc3QgZHluYW1pY1Byb3BzID0gbmV4dFZOb2RlLmR5bmFtaWNQcm9wcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Byb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGR5bmFtaWNQcm9wc1tpXTtcbiAgICAgICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJiAhaXNFbWl0TGlzdGVuZXIoZW1pdHMsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikge1xuICAgICAgaWYgKCFuZXh0Q2hpbGRyZW4gfHwgIW5leHRDaGlsZHJlbi4kc3RhYmxlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJldlByb3BzID09PSBuZXh0UHJvcHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFwcmV2UHJvcHMpIHtcbiAgICAgIHJldHVybiAhIW5leHRQcm9wcztcbiAgICB9XG4gICAgaWYgKCFuZXh0UHJvcHMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0c09wdGlvbnMpIHtcbiAgY29uc3QgbmV4dEtleXMgPSBPYmplY3Qua2V5cyhuZXh0UHJvcHMpO1xuICBpZiAobmV4dEtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhwcmV2UHJvcHMpLmxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBrZXkgPSBuZXh0S2V5c1tpXTtcbiAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmICFpc0VtaXRMaXN0ZW5lcihlbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiB1cGRhdGVIT0NIb3N0RWwoeyB2bm9kZSwgcGFyZW50IH0sIGVsKSB7XG4gIHdoaWxlIChwYXJlbnQpIHtcbiAgICBjb25zdCByb290ID0gcGFyZW50LnN1YlRyZWU7XG4gICAgaWYgKHJvb3Quc3VzcGVuc2UgJiYgcm9vdC5zdXNwZW5zZS5hY3RpdmVCcmFuY2ggPT09IHZub2RlKSB7XG4gICAgICByb290LmVsID0gdm5vZGUuZWw7XG4gICAgfVxuICAgIGlmIChyb290ID09PSB2bm9kZSkge1xuICAgICAgKHZub2RlID0gcGFyZW50LnZub2RlKS5lbCA9IGVsO1xuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGlzU3VzcGVuc2UgPSAodHlwZSkgPT4gdHlwZS5fX2lzU3VzcGVuc2U7XG5sZXQgc3VzcGVuc2VJZCA9IDA7XG5jb25zdCBTdXNwZW5zZUltcGwgPSB7XG4gIG5hbWU6IFwiU3VzcGVuc2VcIixcbiAgLy8gSW4gb3JkZXIgdG8gbWFrZSBTdXNwZW5zZSB0cmVlLXNoYWthYmxlLCB3ZSBuZWVkIHRvIGF2b2lkIGltcG9ydGluZyBpdFxuICAvLyBkaXJlY3RseSBpbiB0aGUgcmVuZGVyZXIuIFRoZSByZW5kZXJlciBjaGVja3MgZm9yIHRoZSBfX2lzU3VzcGVuc2UgZmxhZ1xuICAvLyBvbiBhIHZub2RlJ3MgdHlwZSBhbmQgY2FsbHMgdGhlIGBwcm9jZXNzYCBtZXRob2QsIHBhc3NpbmcgaW4gcmVuZGVyZXJcbiAgLy8gaW50ZXJuYWxzLlxuICBfX2lzU3VzcGVuc2U6IHRydWUsXG4gIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgbW91bnRTdXNwZW5zZShcbiAgICAgICAgbjIsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICByZW5kZXJlckludGVybmFsc1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLmRlcHMgPiAwICYmICFuMS5zdXNwZW5zZS5pc0luRmFsbGJhY2spIHtcbiAgICAgICAgbjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZTtcbiAgICAgICAgbjIuc3VzcGVuc2Uudm5vZGUgPSBuMjtcbiAgICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGF0Y2hTdXNwZW5zZShcbiAgICAgICAgbjEsXG4gICAgICAgIG4yLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICByZW5kZXJlckludGVybmFsc1xuICAgICAgKTtcbiAgICB9XG4gIH0sXG4gIGh5ZHJhdGU6IGh5ZHJhdGVTdXNwZW5zZSxcbiAgbm9ybWFsaXplOiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuXG59O1xuY29uc3QgU3VzcGVuc2UgPSBTdXNwZW5zZUltcGwgO1xuZnVuY3Rpb24gdHJpZ2dlckV2ZW50KHZub2RlLCBuYW1lKSB7XG4gIGNvbnN0IGV2ZW50TGlzdGVuZXIgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wc1tuYW1lXTtcbiAgaWYgKGlzRnVuY3Rpb24oZXZlbnRMaXN0ZW5lcikpIHtcbiAgICBldmVudExpc3RlbmVyKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIG1vdW50U3VzcGVuc2Uodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykge1xuICBjb25zdCB7XG4gICAgcDogcGF0Y2gsXG4gICAgbzogeyBjcmVhdGVFbGVtZW50IH1cbiAgfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xuICBjb25zdCBoaWRkZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeShcbiAgICB2bm9kZSxcbiAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgY29udGFpbmVyLFxuICAgIGhpZGRlbkNvbnRhaW5lcixcbiAgICBhbmNob3IsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkcyxcbiAgICBvcHRpbWl6ZWQsXG4gICAgcmVuZGVyZXJJbnRlcm5hbHNcbiAgKTtcbiAgcGF0Y2goXG4gICAgbnVsbCxcbiAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gdm5vZGUuc3NDb250ZW50LFxuICAgIGhpZGRlbkNvbnRhaW5lcixcbiAgICBudWxsLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBzdXNwZW5zZSxcbiAgICBuYW1lc3BhY2UsXG4gICAgc2xvdFNjb3BlSWRzXG4gICk7XG4gIGlmIChzdXNwZW5zZS5kZXBzID4gMCkge1xuICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgXCJvblBlbmRpbmdcIik7XG4gICAgdHJpZ2dlckV2ZW50KHZub2RlLCBcIm9uRmFsbGJhY2tcIik7XG4gICAgcGF0Y2goXG4gICAgICBudWxsLFxuICAgICAgdm5vZGUuc3NGYWxsYmFjayxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGFuY2hvcixcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIG51bGwsXG4gICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgbmFtZXNwYWNlLFxuICAgICAgc2xvdFNjb3BlSWRzXG4gICAgKTtcbiAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHZub2RlLnNzRmFsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHN1c3BlbnNlLnJlc29sdmUoZmFsc2UsIHRydWUpO1xuICB9XG59XG5mdW5jdGlvbiBwYXRjaFN1c3BlbnNlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgeyBwOiBwYXRjaCwgdW06IHVubW91bnQsIG86IHsgY3JlYXRlRWxlbWVudCB9IH0pIHtcbiAgY29uc3Qgc3VzcGVuc2UgPSBuMi5zdXNwZW5zZSA9IG4xLnN1c3BlbnNlO1xuICBzdXNwZW5zZS52bm9kZSA9IG4yO1xuICBuMi5lbCA9IG4xLmVsO1xuICBjb25zdCBuZXdCcmFuY2ggPSBuMi5zc0NvbnRlbnQ7XG4gIGNvbnN0IG5ld0ZhbGxiYWNrID0gbjIuc3NGYWxsYmFjaztcbiAgY29uc3QgeyBhY3RpdmVCcmFuY2gsIHBlbmRpbmdCcmFuY2gsIGlzSW5GYWxsYmFjaywgaXNIeWRyYXRpbmcgfSA9IHN1c3BlbnNlO1xuICBpZiAocGVuZGluZ0JyYW5jaCkge1xuICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBuZXdCcmFuY2g7XG4gICAgaWYgKGlzU2FtZVZOb2RlVHlwZShwZW5kaW5nQnJhbmNoLCBuZXdCcmFuY2gpKSB7XG4gICAgICBwYXRjaChcbiAgICAgICAgcGVuZGluZ0JyYW5jaCxcbiAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgIGlmICghaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgICAgIG5ld0ZhbGxiYWNrLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3RmFsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IHN1c3BlbnNlSWQrKztcbiAgICAgIGlmIChpc0h5ZHJhdGluZykge1xuICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggPSBwZW5kaW5nQnJhbmNoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdW5tb3VudChwZW5kaW5nQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICAgIHN1c3BlbnNlLmRlcHMgPSAwO1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5sZW5ndGggPSAwO1xuICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGlmIChpc0luRmFsbGJhY2spIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgICAgICBuZXdGYWxsYmFjayxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKGFjdGl2ZUJyYW5jaCwgbmV3QnJhbmNoKSkge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShhY3RpdmVCcmFuY2gsIG5ld0JyYW5jaCkpIHtcbiAgICAgIHBhdGNoKFxuICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0JyYW5jaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyaWdnZXJFdmVudChuMiwgXCJvblBlbmRpbmdcIik7XG4gICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xuICAgICAgaWYgKG5ld0JyYW5jaC5zaGFwZUZsYWcgJiA1MTIpIHtcbiAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkID0gbmV3QnJhbmNoLmNvbXBvbmVudC5zdXNwZW5zZUlkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkID0gc3VzcGVuc2VJZCsrO1xuICAgICAgfVxuICAgICAgcGF0Y2goXG4gICAgICAgIG51bGwsXG4gICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7IHRpbWVvdXQsIHBlbmRpbmdJZCB9ID0gc3VzcGVuc2U7XG4gICAgICAgIGlmICh0aW1lb3V0ID4gMCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdJZCA9PT0gcGVuZGluZ0lkKSB7XG4gICAgICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aW1lb3V0ID09PSAwKSB7XG4gICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5sZXQgaGFzV2FybmVkID0gZmFsc2U7XG5mdW5jdGlvbiBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KHZub2RlLCBwYXJlbnRTdXNwZW5zZSwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGhpZGRlbkNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaXNIeWRyYXRpbmcgPSBmYWxzZSkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlICYmICFoYXNXYXJuZWQpIHtcbiAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgIGNvbnNvbGVbY29uc29sZS5pbmZvID8gXCJpbmZvXCIgOiBcImxvZ1wiXShcbiAgICAgIGA8U3VzcGVuc2U+IGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlIGFuZCBpdHMgQVBJIHdpbGwgbGlrZWx5IGNoYW5nZS5gXG4gICAgKTtcbiAgfVxuICBjb25zdCB7XG4gICAgcDogcGF0Y2gsXG4gICAgbTogbW92ZSxcbiAgICB1bTogdW5tb3VudCxcbiAgICBuOiBuZXh0LFxuICAgIG86IHsgcGFyZW50Tm9kZSwgcmVtb3ZlIH1cbiAgfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xuICBsZXQgcGFyZW50U3VzcGVuc2VJZDtcbiAgY29uc3QgaXNTdXNwZW5zaWJsZSA9IGlzVk5vZGVTdXNwZW5zaWJsZSh2bm9kZSk7XG4gIGlmIChpc1N1c3BlbnNpYmxlKSB7XG4gICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgIHBhcmVudFN1c3BlbnNlSWQgPSBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nSWQ7XG4gICAgICBwYXJlbnRTdXNwZW5zZS5kZXBzKys7XG4gICAgfVxuICB9XG4gIGNvbnN0IHRpbWVvdXQgPSB2bm9kZS5wcm9wcyA/IHRvTnVtYmVyKHZub2RlLnByb3BzLnRpbWVvdXQpIDogdm9pZCAwO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGFzc2VydE51bWJlcih0aW1lb3V0LCBgU3VzcGVuc2UgdGltZW91dGApO1xuICB9XG4gIGNvbnN0IGluaXRpYWxBbmNob3IgPSBhbmNob3I7XG4gIGNvbnN0IHN1c3BlbnNlID0ge1xuICAgIHZub2RlLFxuICAgIHBhcmVudDogcGFyZW50U3VzcGVuc2UsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIG5hbWVzcGFjZSxcbiAgICBjb250YWluZXIsXG4gICAgaGlkZGVuQ29udGFpbmVyLFxuICAgIGRlcHM6IDAsXG4gICAgcGVuZGluZ0lkOiBzdXNwZW5zZUlkKyssXG4gICAgdGltZW91dDogdHlwZW9mIHRpbWVvdXQgPT09IFwibnVtYmVyXCIgPyB0aW1lb3V0IDogLTEsXG4gICAgYWN0aXZlQnJhbmNoOiBudWxsLFxuICAgIHBlbmRpbmdCcmFuY2g6IG51bGwsXG4gICAgaXNJbkZhbGxiYWNrOiAhaXNIeWRyYXRpbmcsXG4gICAgaXNIeWRyYXRpbmcsXG4gICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxuICAgIGVmZmVjdHM6IFtdLFxuICAgIHJlc29sdmUocmVzdW1lID0gZmFsc2UsIHN5bmMgPSBmYWxzZSkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgaWYgKCFyZXN1bWUgJiYgIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCB3aXRob3V0IGEgcGVuZGluZyBicmFuY2guYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1c3BlbnNlLmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgb24gYW4gYWxyZWFkeSB1bm1vdW50ZWQgc3VzcGVuc2UgYm91bmRhcnkuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdm5vZGU6IHZub2RlMixcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBwZW5kaW5nQnJhbmNoLFxuICAgICAgICBwZW5kaW5nSWQsXG4gICAgICAgIGVmZmVjdHMsXG4gICAgICAgIHBhcmVudENvbXBvbmVudDogcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIyXG4gICAgICB9ID0gc3VzcGVuc2U7XG4gICAgICBsZXQgZGVsYXlFbnRlciA9IGZhbHNlO1xuICAgICAgaWYgKHN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XG4gICAgICAgIHN1c3BlbnNlLmlzSHlkcmF0aW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKCFyZXN1bWUpIHtcbiAgICAgICAgZGVsYXlFbnRlciA9IGFjdGl2ZUJyYW5jaCAmJiBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24gJiYgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uLm1vZGUgPT09IFwib3V0LWluXCI7XG4gICAgICAgIGlmIChkZWxheUVudGVyKSB7XG4gICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nSWQgPT09IHN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICBtb3ZlKFxuICAgICAgICAgICAgICAgIHBlbmRpbmdCcmFuY2gsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyMixcbiAgICAgICAgICAgICAgICBhbmNob3IgPT09IGluaXRpYWxBbmNob3IgPyBuZXh0KGFjdGl2ZUJyYW5jaCkgOiBhbmNob3IsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCkge1xuICAgICAgICAgIGlmIChwYXJlbnROb2RlKGFjdGl2ZUJyYW5jaC5lbCkgPT09IGNvbnRhaW5lcjIpIHtcbiAgICAgICAgICAgIGFuY2hvciA9IG5leHQoYWN0aXZlQnJhbmNoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudDIsIHN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgICBtb3ZlKHBlbmRpbmdCcmFuY2gsIGNvbnRhaW5lcjIsIGFuY2hvciwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgcGVuZGluZ0JyYW5jaCk7XG4gICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbnVsbDtcbiAgICAgIHN1c3BlbnNlLmlzSW5GYWxsYmFjayA9IGZhbHNlO1xuICAgICAgbGV0IHBhcmVudCA9IHN1c3BlbnNlLnBhcmVudDtcbiAgICAgIGxldCBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSBmYWxzZTtcbiAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudC5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgcGFyZW50LmVmZmVjdHMucHVzaCguLi5lZmZlY3RzKTtcbiAgICAgICAgICBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoIWhhc1VucmVzb2x2ZWRBbmNlc3RvciAmJiAhZGVsYXlFbnRlcikge1xuICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xuICAgICAgfVxuICAgICAgc3VzcGVuc2UuZWZmZWN0cyA9IFtdO1xuICAgICAgaWYgKGlzU3VzcGVuc2libGUpIHtcbiAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgcGFyZW50U3VzcGVuc2VJZCA9PT0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkKSB7XG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcy0tO1xuICAgICAgICAgIGlmIChwYXJlbnRTdXNwZW5zZS5kZXBzID09PSAwICYmICFzeW5jKSB7XG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0cmlnZ2VyRXZlbnQodm5vZGUyLCBcIm9uUmVzb2x2ZVwiKTtcbiAgICB9LFxuICAgIGZhbGxiYWNrKGZhbGxiYWNrVk5vZGUpIHtcbiAgICAgIGlmICghc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB7IHZub2RlOiB2bm9kZTIsIGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50OiBwYXJlbnRDb21wb25lbnQyLCBjb250YWluZXI6IGNvbnRhaW5lcjIsIG5hbWVzcGFjZTogbmFtZXNwYWNlMiB9ID0gc3VzcGVuc2U7XG4gICAgICB0cmlnZ2VyRXZlbnQodm5vZGUyLCBcIm9uRmFsbGJhY2tcIik7XG4gICAgICBjb25zdCBhbmNob3IyID0gbmV4dChhY3RpdmVCcmFuY2gpO1xuICAgICAgY29uc3QgbW91bnRGYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFzdXNwZW5zZS5pc0luRmFsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBmYWxsYmFja1ZOb2RlLFxuICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgYW5jaG9yMixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICBuYW1lc3BhY2UyLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBmYWxsYmFja1ZOb2RlKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBkZWxheUVudGVyID0gZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uICYmIGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbi5tb2RlID09PSBcIm91dC1pblwiO1xuICAgICAgaWYgKGRlbGF5RW50ZXIpIHtcbiAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9IG1vdW50RmFsbGJhY2s7XG4gICAgICB9XG4gICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgdW5tb3VudChcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQyLFxuICAgICAgICBudWxsLFxuICAgICAgICAvLyBubyBzdXNwZW5zZSBzbyB1bm1vdW50IGhvb2tzIGZpcmUgbm93XG4gICAgICAgIHRydWVcbiAgICAgICAgLy8gc2hvdWxkUmVtb3ZlXG4gICAgICApO1xuICAgICAgaWYgKCFkZWxheUVudGVyKSB7XG4gICAgICAgIG1vdW50RmFsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG1vdmUoY29udGFpbmVyMiwgYW5jaG9yMiwgdHlwZSkge1xuICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoICYmIG1vdmUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBjb250YWluZXIyLCBhbmNob3IyLCB0eXBlKTtcbiAgICAgIHN1c3BlbnNlLmNvbnRhaW5lciA9IGNvbnRhaW5lcjI7XG4gICAgfSxcbiAgICBuZXh0KCkge1xuICAgICAgcmV0dXJuIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBuZXh0KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCk7XG4gICAgfSxcbiAgICByZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QsIG9wdGltaXplZDIpIHtcbiAgICAgIGNvbnN0IGlzSW5QZW5kaW5nU3VzcGVuc2UgPSAhIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2g7XG4gICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSkge1xuICAgICAgICBzdXNwZW5zZS5kZXBzKys7XG4gICAgICB9XG4gICAgICBjb25zdCBoeWRyYXRlZEVsID0gaW5zdGFuY2Uudm5vZGUuZWw7XG4gICAgICBpbnN0YW5jZS5hc3luY0RlcC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDApO1xuICAgICAgfSkudGhlbigoYXN5bmNTZXR1cFJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQgfHwgc3VzcGVuc2UuaXNVbm1vdW50ZWQgfHwgc3VzcGVuc2UucGVuZGluZ0lkICE9PSBpbnN0YW5jZS5zdXNwZW5zZUlkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCB7IHZub2RlOiB2bm9kZTIgfSA9IGluc3RhbmNlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZTIpO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBhc3luY1NldHVwUmVzdWx0LCBmYWxzZSk7XG4gICAgICAgIGlmIChoeWRyYXRlZEVsKSB7XG4gICAgICAgICAgdm5vZGUyLmVsID0gaHlkcmF0ZWRFbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9ICFoeWRyYXRlZEVsICYmIGluc3RhbmNlLnN1YlRyZWUuZWw7XG4gICAgICAgIHNldHVwUmVuZGVyRWZmZWN0KFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHZub2RlMixcbiAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGhhdmUgYmVlbiBtb3ZlZCBiZWZvcmUgcmVzb2x2ZS5cbiAgICAgICAgICAvLyBpZiB0aGlzIGlzIG5vdCBhIGh5ZHJhdGlvbiwgaW5zdGFuY2Uuc3ViVHJlZSB3aWxsIGJlIHRoZSBjb21tZW50XG4gICAgICAgICAgLy8gcGxhY2Vob2xkZXIuXG4gICAgICAgICAgcGFyZW50Tm9kZShoeWRyYXRlZEVsIHx8IGluc3RhbmNlLnN1YlRyZWUuZWwpLFxuICAgICAgICAgIC8vIGFuY2hvciB3aWxsIG5vdCBiZSB1c2VkIGlmIHRoaXMgaXMgaHlkcmF0aW9uLCBzbyBvbmx5IG5lZWQgdG9cbiAgICAgICAgICAvLyBjb25zaWRlciB0aGUgY29tbWVudCBwbGFjZWhvbGRlciBjYXNlLlxuICAgICAgICAgIGh5ZHJhdGVkRWwgPyBudWxsIDogbmV4dChpbnN0YW5jZS5zdWJUcmVlKSxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgb3B0aW1pemVkMlxuICAgICAgICApO1xuICAgICAgICBpZiAocGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICByZW1vdmUocGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgdm5vZGUyLmVsKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlICYmIC0tc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1bm1vdW50KHBhcmVudFN1c3BlbnNlMiwgZG9SZW1vdmUpIHtcbiAgICAgIHN1c3BlbnNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICAgIGlmIChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpIHtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2gsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlMixcbiAgICAgICAgICBkb1JlbW92ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZTIsXG4gICAgICAgICAgZG9SZW1vdmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBzdXNwZW5zZTtcbn1cbmZ1bmN0aW9uIGh5ZHJhdGVTdXNwZW5zZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVOb2RlKSB7XG4gIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2UgPSBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KFxuICAgIHZub2RlLFxuICAgIHBhcmVudFN1c3BlbnNlLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBub2RlLnBhcmVudE5vZGUsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgbnVsbCxcbiAgICBuYW1lc3BhY2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZCxcbiAgICByZW5kZXJlckludGVybmFscyxcbiAgICB0cnVlXG4gICk7XG4gIGNvbnN0IHJlc3VsdCA9IGh5ZHJhdGVOb2RlKFxuICAgIG5vZGUsXG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgc3VzcGVuc2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZFxuICApO1xuICBpZiAoc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgIHN1c3BlbnNlLnJlc29sdmUoZmFsc2UsIHRydWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuKHZub2RlKSB7XG4gIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiB9ID0gdm5vZGU7XG4gIGNvbnN0IGlzU2xvdENoaWxkcmVuID0gc2hhcGVGbGFnICYgMzI7XG4gIHZub2RlLnNzQ29udGVudCA9IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChcbiAgICBpc1Nsb3RDaGlsZHJlbiA/IGNoaWxkcmVuLmRlZmF1bHQgOiBjaGlsZHJlblxuICApO1xuICB2bm9kZS5zc0ZhbGxiYWNrID0gaXNTbG90Q2hpbGRyZW4gPyBub3JtYWxpemVTdXNwZW5zZVNsb3QoY2hpbGRyZW4uZmFsbGJhY2spIDogY3JlYXRlVk5vZGUoQ29tbWVudCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZVNsb3Qocykge1xuICBsZXQgYmxvY2s7XG4gIGlmIChpc0Z1bmN0aW9uKHMpKSB7XG4gICAgY29uc3QgdHJhY2tCbG9jayA9IGlzQmxvY2tUcmVlRW5hYmxlZCAmJiBzLl9jO1xuICAgIGlmICh0cmFja0Jsb2NrKSB7XG4gICAgICBzLl9kID0gZmFsc2U7XG4gICAgICBvcGVuQmxvY2soKTtcbiAgICB9XG4gICAgcyA9IHMoKTtcbiAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgcy5fZCA9IHRydWU7XG4gICAgICBibG9jayA9IGN1cnJlbnRCbG9jaztcbiAgICAgIGNsb3NlQmxvY2soKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQXJyYXkocykpIHtcbiAgICBjb25zdCBzaW5nbGVDaGlsZCA9IGZpbHRlclNpbmdsZVJvb3Qocyk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXNpbmdsZUNoaWxkICYmIHMuZmlsdGVyKChjaGlsZCkgPT4gY2hpbGQgIT09IE5VTExfRFlOQU1JQ19DT01QT05FTlQpLmxlbmd0aCA+IDApIHtcbiAgICAgIHdhcm4kMShgPFN1c3BlbnNlPiBzbG90cyBleHBlY3QgYSBzaW5nbGUgcm9vdCBub2RlLmApO1xuICAgIH1cbiAgICBzID0gc2luZ2xlQ2hpbGQ7XG4gIH1cbiAgcyA9IG5vcm1hbGl6ZVZOb2RlKHMpO1xuICBpZiAoYmxvY2sgJiYgIXMuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgcy5keW5hbWljQ2hpbGRyZW4gPSBibG9jay5maWx0ZXIoKGMpID0+IGMgIT09IHMpO1xuICB9XG4gIHJldHVybiBzO1xufVxuZnVuY3Rpb24gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoZm4sIHN1c3BlbnNlKSB7XG4gIGlmIChzdXNwZW5zZSAmJiBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goLi4uZm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goZm4pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBxdWV1ZVBvc3RGbHVzaENiKGZuKTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBicmFuY2gpIHtcbiAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gYnJhbmNoO1xuICBjb25zdCB7IHZub2RlLCBwYXJlbnRDb21wb25lbnQgfSA9IHN1c3BlbnNlO1xuICBsZXQgZWwgPSBicmFuY2guZWw7XG4gIHdoaWxlICghZWwgJiYgYnJhbmNoLmNvbXBvbmVudCkge1xuICAgIGJyYW5jaCA9IGJyYW5jaC5jb21wb25lbnQuc3ViVHJlZTtcbiAgICBlbCA9IGJyYW5jaC5lbDtcbiAgfVxuICB2bm9kZS5lbCA9IGVsO1xuICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xuICAgIHBhcmVudENvbXBvbmVudC52bm9kZS5lbCA9IGVsO1xuICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIGVsKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNWTm9kZVN1c3BlbnNpYmxlKHZub2RlKSB7XG4gIGNvbnN0IHN1c3BlbnNpYmxlID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMuc3VzcGVuc2libGU7XG4gIHJldHVybiBzdXNwZW5zaWJsZSAhPSBudWxsICYmIHN1c3BlbnNpYmxlICE9PSBmYWxzZTtcbn1cblxuY29uc3QgRnJhZ21lbnQgPSBTeW1ib2wuZm9yKFwidi1mZ3RcIik7XG5jb25zdCBUZXh0ID0gU3ltYm9sLmZvcihcInYtdHh0XCIpO1xuY29uc3QgQ29tbWVudCA9IFN5bWJvbC5mb3IoXCJ2LWNtdFwiKTtcbmNvbnN0IFN0YXRpYyA9IFN5bWJvbC5mb3IoXCJ2LXN0Y1wiKTtcbmNvbnN0IGJsb2NrU3RhY2sgPSBbXTtcbmxldCBjdXJyZW50QmxvY2sgPSBudWxsO1xuZnVuY3Rpb24gb3BlbkJsb2NrKGRpc2FibGVUcmFja2luZyA9IGZhbHNlKSB7XG4gIGJsb2NrU3RhY2sucHVzaChjdXJyZW50QmxvY2sgPSBkaXNhYmxlVHJhY2tpbmcgPyBudWxsIDogW10pO1xufVxuZnVuY3Rpb24gY2xvc2VCbG9jaygpIHtcbiAgYmxvY2tTdGFjay5wb3AoKTtcbiAgY3VycmVudEJsb2NrID0gYmxvY2tTdGFja1tibG9ja1N0YWNrLmxlbmd0aCAtIDFdIHx8IG51bGw7XG59XG5sZXQgaXNCbG9ja1RyZWVFbmFibGVkID0gMTtcbmZ1bmN0aW9uIHNldEJsb2NrVHJhY2tpbmcodmFsdWUsIGluVk9uY2UgPSBmYWxzZSkge1xuICBpc0Jsb2NrVHJlZUVuYWJsZWQgKz0gdmFsdWU7XG4gIGlmICh2YWx1ZSA8IDAgJiYgY3VycmVudEJsb2NrICYmIGluVk9uY2UpIHtcbiAgICBjdXJyZW50QmxvY2suaGFzT25jZSA9IHRydWU7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldHVwQmxvY2sodm5vZGUpIHtcbiAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gaXNCbG9ja1RyZWVFbmFibGVkID4gMCA/IGN1cnJlbnRCbG9jayB8fCBFTVBUWV9BUlIgOiBudWxsO1xuICBjbG9zZUJsb2NrKCk7XG4gIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIGN1cnJlbnRCbG9jaykge1xuICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcbiAgfVxuICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50QmxvY2sodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcywgc2hhcGVGbGFnKSB7XG4gIHJldHVybiBzZXR1cEJsb2NrKFxuICAgIGNyZWF0ZUJhc2VWTm9kZShcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgcGF0Y2hGbGFnLFxuICAgICAgZHluYW1pY1Byb3BzLFxuICAgICAgc2hhcGVGbGFnLFxuICAgICAgdHJ1ZVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMpIHtcbiAgcmV0dXJuIHNldHVwQmxvY2soXG4gICAgY3JlYXRlVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIHBhdGNoRmxhZyxcbiAgICAgIGR5bmFtaWNQcm9wcyxcbiAgICAgIHRydWVcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBpc1ZOb2RlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA/IHZhbHVlLl9fdl9pc1ZOb2RlID09PSB0cnVlIDogZmFsc2U7XG59XG5mdW5jdGlvbiBpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG4yLnNoYXBlRmxhZyAmIDYgJiYgbjEuY29tcG9uZW50KSB7XG4gICAgY29uc3QgZGlydHlJbnN0YW5jZXMgPSBobXJEaXJ0eUNvbXBvbmVudHMuZ2V0KG4yLnR5cGUpO1xuICAgIGlmIChkaXJ0eUluc3RhbmNlcyAmJiBkaXJ0eUluc3RhbmNlcy5oYXMobjEuY29tcG9uZW50KSkge1xuICAgICAgbjEuc2hhcGVGbGFnICY9IC0yNTc7XG4gICAgICBuMi5zaGFwZUZsYWcgJj0gLTUxMztcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG4xLnR5cGUgPT09IG4yLnR5cGUgJiYgbjEua2V5ID09PSBuMi5rZXk7XG59XG5sZXQgdm5vZGVBcmdzVHJhbnNmb3JtZXI7XG5mdW5jdGlvbiB0cmFuc2Zvcm1WTm9kZUFyZ3ModHJhbnNmb3JtZXIpIHtcbiAgdm5vZGVBcmdzVHJhbnNmb3JtZXIgPSB0cmFuc2Zvcm1lcjtcbn1cbmNvbnN0IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gPSAoLi4uYXJncykgPT4ge1xuICByZXR1cm4gX2NyZWF0ZVZOb2RlKFxuICAgIC4uLnZub2RlQXJnc1RyYW5zZm9ybWVyID8gdm5vZGVBcmdzVHJhbnNmb3JtZXIoYXJncywgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSA6IGFyZ3NcbiAgKTtcbn07XG5jb25zdCBub3JtYWxpemVLZXkgPSAoeyBrZXkgfSkgPT4ga2V5ICE9IG51bGwgPyBrZXkgOiBudWxsO1xuY29uc3Qgbm9ybWFsaXplUmVmID0gKHtcbiAgcmVmLFxuICByZWZfa2V5LFxuICByZWZfZm9yXG59KSA9PiB7XG4gIGlmICh0eXBlb2YgcmVmID09PSBcIm51bWJlclwiKSB7XG4gICAgcmVmID0gXCJcIiArIHJlZjtcbiAgfVxuICByZXR1cm4gcmVmICE9IG51bGwgPyBpc1N0cmluZyhyZWYpIHx8IGlzUmVmKHJlZikgfHwgaXNGdW5jdGlvbihyZWYpID8geyBpOiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIHI6IHJlZiwgazogcmVmX2tleSwgZjogISFyZWZfZm9yIH0gOiByZWYgOiBudWxsO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgc2hhcGVGbGFnID0gdHlwZSA9PT0gRnJhZ21lbnQgPyAwIDogMSwgaXNCbG9ja05vZGUgPSBmYWxzZSwgbmVlZEZ1bGxDaGlsZHJlbk5vcm1hbGl6YXRpb24gPSBmYWxzZSkge1xuICBjb25zdCB2bm9kZSA9IHtcbiAgICBfX3ZfaXNWTm9kZTogdHJ1ZSxcbiAgICBfX3Zfc2tpcDogdHJ1ZSxcbiAgICB0eXBlLFxuICAgIHByb3BzLFxuICAgIGtleTogcHJvcHMgJiYgbm9ybWFsaXplS2V5KHByb3BzKSxcbiAgICByZWY6IHByb3BzICYmIG5vcm1hbGl6ZVJlZihwcm9wcyksXG4gICAgc2NvcGVJZDogY3VycmVudFNjb3BlSWQsXG4gICAgc2xvdFNjb3BlSWRzOiBudWxsLFxuICAgIGNoaWxkcmVuLFxuICAgIGNvbXBvbmVudDogbnVsbCxcbiAgICBzdXNwZW5zZTogbnVsbCxcbiAgICBzc0NvbnRlbnQ6IG51bGwsXG4gICAgc3NGYWxsYmFjazogbnVsbCxcbiAgICBkaXJzOiBudWxsLFxuICAgIHRyYW5zaXRpb246IG51bGwsXG4gICAgZWw6IG51bGwsXG4gICAgYW5jaG9yOiBudWxsLFxuICAgIHRhcmdldDogbnVsbCxcbiAgICB0YXJnZXRTdGFydDogbnVsbCxcbiAgICB0YXJnZXRBbmNob3I6IG51bGwsXG4gICAgc3RhdGljQ291bnQ6IDAsXG4gICAgc2hhcGVGbGFnLFxuICAgIHBhdGNoRmxhZyxcbiAgICBkeW5hbWljUHJvcHMsXG4gICAgZHluYW1pY0NoaWxkcmVuOiBudWxsLFxuICAgIGFwcENvbnRleHQ6IG51bGwsXG4gICAgY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2VcbiAgfTtcbiAgaWYgKG5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uKSB7XG4gICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKTtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICB0eXBlLm5vcm1hbGl6ZSh2bm9kZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgdm5vZGUuc2hhcGVGbGFnIHw9IGlzU3RyaW5nKGNoaWxkcmVuKSA/IDggOiAxNjtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB2bm9kZS5rZXkgIT09IHZub2RlLmtleSkge1xuICAgIHdhcm4kMShgVk5vZGUgY3JlYXRlZCB3aXRoIGludmFsaWQga2V5IChOYU4pLiBWTm9kZSB0eXBlOmAsIHZub2RlLnR5cGUpO1xuICB9XG4gIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIC8vIGF2b2lkIGEgYmxvY2sgbm9kZSBmcm9tIHRyYWNraW5nIGl0c2VsZlxuICAhaXNCbG9ja05vZGUgJiYgLy8gaGFzIGN1cnJlbnQgcGFyZW50IGJsb2NrXG4gIGN1cnJlbnRCbG9jayAmJiAvLyBwcmVzZW5jZSBvZiBhIHBhdGNoIGZsYWcgaW5kaWNhdGVzIHRoaXMgbm9kZSBuZWVkcyBwYXRjaGluZyBvbiB1cGRhdGVzLlxuICAvLyBjb21wb25lbnQgbm9kZXMgYWxzbyBzaG91bGQgYWx3YXlzIGJlIHBhdGNoZWQsIGJlY2F1c2UgZXZlbiBpZiB0aGVcbiAgLy8gY29tcG9uZW50IGRvZXNuJ3QgbmVlZCB0byB1cGRhdGUsIGl0IG5lZWRzIHRvIHBlcnNpc3QgdGhlIGluc3RhbmNlIG9uIHRvXG4gIC8vIHRoZSBuZXh0IHZub2RlIHNvIHRoYXQgaXQgY2FuIGJlIHByb3Blcmx5IHVubW91bnRlZCBsYXRlci5cbiAgKHZub2RlLnBhdGNoRmxhZyA+IDAgfHwgc2hhcGVGbGFnICYgNikgJiYgLy8gdGhlIEVWRU5UUyBmbGFnIGlzIG9ubHkgZm9yIGh5ZHJhdGlvbiBhbmQgaWYgaXQgaXMgdGhlIG9ubHkgZmxhZywgdGhlXG4gIC8vIHZub2RlIHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBkeW5hbWljIGR1ZSB0byBoYW5kbGVyIGNhY2hpbmcuXG4gIHZub2RlLnBhdGNoRmxhZyAhPT0gMzIpIHtcbiAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufVxuY29uc3QgY3JlYXRlVk5vZGUgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybSA6IF9jcmVhdGVWTm9kZTtcbmZ1bmN0aW9uIF9jcmVhdGVWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgaXNCbG9ja05vZGUgPSBmYWxzZSkge1xuICBpZiAoIXR5cGUgfHwgdHlwZSA9PT0gTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICF0eXBlKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgdm5vZGUgdHlwZSB3aGVuIGNyZWF0aW5nIHZub2RlOiAke3R5cGV9LmApO1xuICAgIH1cbiAgICB0eXBlID0gQ29tbWVudDtcbiAgfVxuICBpZiAoaXNWTm9kZSh0eXBlKSkge1xuICAgIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICB0cnVlXG4gICAgICAvKiBtZXJnZVJlZjogdHJ1ZSAqL1xuICAgICk7XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBub3JtYWxpemVDaGlsZHJlbihjbG9uZWQsIGNoaWxkcmVuKTtcbiAgICB9XG4gICAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgIWlzQmxvY2tOb2RlICYmIGN1cnJlbnRCbG9jaykge1xuICAgICAgaWYgKGNsb25lZC5zaGFwZUZsYWcgJiA2KSB7XG4gICAgICAgIGN1cnJlbnRCbG9ja1tjdXJyZW50QmxvY2suaW5kZXhPZih0eXBlKV0gPSBjbG9uZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50QmxvY2sucHVzaChjbG9uZWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjbG9uZWQucGF0Y2hGbGFnID0gLTI7XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfVxuICBpZiAoaXNDbGFzc0NvbXBvbmVudCh0eXBlKSkge1xuICAgIHR5cGUgPSB0eXBlLl9fdmNjT3B0cztcbiAgfVxuICBpZiAocHJvcHMpIHtcbiAgICBwcm9wcyA9IGd1YXJkUmVhY3RpdmVQcm9wcyhwcm9wcyk7XG4gICAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XG4gICAgaWYgKGtsYXNzICYmICFpc1N0cmluZyhrbGFzcykpIHtcbiAgICAgIHByb3BzLmNsYXNzID0gbm9ybWFsaXplQ2xhc3Moa2xhc3MpO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3Qoc3R5bGUpKSB7XG4gICAgICBpZiAoaXNQcm94eShzdHlsZSkgJiYgIWlzQXJyYXkoc3R5bGUpKSB7XG4gICAgICAgIHN0eWxlID0gZXh0ZW5kKHt9LCBzdHlsZSk7XG4gICAgICB9XG4gICAgICBwcm9wcy5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKHN0eWxlKTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgc2hhcGVGbGFnID0gaXNTdHJpbmcodHlwZSkgPyAxIDogaXNTdXNwZW5zZSh0eXBlKSA/IDEyOCA6IGlzVGVsZXBvcnQodHlwZSkgPyA2NCA6IGlzT2JqZWN0KHR5cGUpID8gNCA6IGlzRnVuY3Rpb24odHlwZSkgPyAyIDogMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2hhcGVGbGFnICYgNCAmJiBpc1Byb3h5KHR5cGUpKSB7XG4gICAgdHlwZSA9IHRvUmF3KHR5cGUpO1xuICAgIHdhcm4kMShcbiAgICAgIGBWdWUgcmVjZWl2ZWQgYSBDb21wb25lbnQgdGhhdCB3YXMgbWFkZSBhIHJlYWN0aXZlIG9iamVjdC4gVGhpcyBjYW4gbGVhZCB0byB1bm5lY2Vzc2FyeSBwZXJmb3JtYW5jZSBvdmVyaGVhZCBhbmQgc2hvdWxkIGJlIGF2b2lkZWQgYnkgbWFya2luZyB0aGUgY29tcG9uZW50IHdpdGggXFxgbWFya1Jhd1xcYCBvciB1c2luZyBcXGBzaGFsbG93UmVmXFxgIGluc3RlYWQgb2YgXFxgcmVmXFxgLmAsXG4gICAgICBgXG5Db21wb25lbnQgdGhhdCB3YXMgbWFkZSByZWFjdGl2ZTogYCxcbiAgICAgIHR5cGVcbiAgICApO1xuICB9XG4gIHJldHVybiBjcmVhdGVCYXNlVk5vZGUoXG4gICAgdHlwZSxcbiAgICBwcm9wcyxcbiAgICBjaGlsZHJlbixcbiAgICBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzLFxuICAgIHNoYXBlRmxhZyxcbiAgICBpc0Jsb2NrTm9kZSxcbiAgICB0cnVlXG4gICk7XG59XG5mdW5jdGlvbiBndWFyZFJlYWN0aXZlUHJvcHMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcykgcmV0dXJuIG51bGw7XG4gIHJldHVybiBpc1Byb3h5KHByb3BzKSB8fCBpc0ludGVybmFsT2JqZWN0KHByb3BzKSA/IGV4dGVuZCh7fSwgcHJvcHMpIDogcHJvcHM7XG59XG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZub2RlLCBleHRyYVByb3BzLCBtZXJnZVJlZiA9IGZhbHNlLCBjbG9uZVRyYW5zaXRpb24gPSBmYWxzZSkge1xuICBjb25zdCB7IHByb3BzLCByZWYsIHBhdGNoRmxhZywgY2hpbGRyZW4sIHRyYW5zaXRpb24gfSA9IHZub2RlO1xuICBjb25zdCBtZXJnZWRQcm9wcyA9IGV4dHJhUHJvcHMgPyBtZXJnZVByb3BzKHByb3BzIHx8IHt9LCBleHRyYVByb3BzKSA6IHByb3BzO1xuICBjb25zdCBjbG9uZWQgPSB7XG4gICAgX192X2lzVk5vZGU6IHRydWUsXG4gICAgX192X3NraXA6IHRydWUsXG4gICAgdHlwZTogdm5vZGUudHlwZSxcbiAgICBwcm9wczogbWVyZ2VkUHJvcHMsXG4gICAga2V5OiBtZXJnZWRQcm9wcyAmJiBub3JtYWxpemVLZXkobWVyZ2VkUHJvcHMpLFxuICAgIHJlZjogZXh0cmFQcm9wcyAmJiBleHRyYVByb3BzLnJlZiA/IChcbiAgICAgIC8vICMyMDc4IGluIHRoZSBjYXNlIG9mIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIiByZWY9XCJleHRyYVwiLz5cbiAgICAgIC8vIGlmIHRoZSB2bm9kZSBpdHNlbGYgYWxyZWFkeSBoYXMgYSByZWYsIGNsb25lVk5vZGUgd2lsbCBuZWVkIHRvIG1lcmdlXG4gICAgICAvLyB0aGUgcmVmcyBzbyB0aGUgc2luZ2xlIHZub2RlIGNhbiBiZSBzZXQgb24gbXVsdGlwbGUgcmVmc1xuICAgICAgbWVyZ2VSZWYgJiYgcmVmID8gaXNBcnJheShyZWYpID8gcmVmLmNvbmNhdChub3JtYWxpemVSZWYoZXh0cmFQcm9wcykpIDogW3JlZiwgbm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpXSA6IG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKVxuICAgICkgOiByZWYsXG4gICAgc2NvcGVJZDogdm5vZGUuc2NvcGVJZCxcbiAgICBzbG90U2NvcGVJZHM6IHZub2RlLnNsb3RTY29wZUlkcyxcbiAgICBjaGlsZHJlbjogISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBwYXRjaEZsYWcgPT09IC0xICYmIGlzQXJyYXkoY2hpbGRyZW4pID8gY2hpbGRyZW4ubWFwKGRlZXBDbG9uZVZOb2RlKSA6IGNoaWxkcmVuLFxuICAgIHRhcmdldDogdm5vZGUudGFyZ2V0LFxuICAgIHRhcmdldFN0YXJ0OiB2bm9kZS50YXJnZXRTdGFydCxcbiAgICB0YXJnZXRBbmNob3I6IHZub2RlLnRhcmdldEFuY2hvcixcbiAgICBzdGF0aWNDb3VudDogdm5vZGUuc3RhdGljQ291bnQsXG4gICAgc2hhcGVGbGFnOiB2bm9kZS5zaGFwZUZsYWcsXG4gICAgLy8gaWYgdGhlIHZub2RlIGlzIGNsb25lZCB3aXRoIGV4dHJhIHByb3BzLCB3ZSBjYW4gbm8gbG9uZ2VyIGFzc3VtZSBpdHNcbiAgICAvLyBleGlzdGluZyBwYXRjaCBmbGFnIHRvIGJlIHJlbGlhYmxlIGFuZCBuZWVkIHRvIGFkZCB0aGUgRlVMTF9QUk9QUyBmbGFnLlxuICAgIC8vIG5vdGU6IHByZXNlcnZlIGZsYWcgZm9yIGZyYWdtZW50cyBzaW5jZSB0aGV5IHVzZSB0aGUgZmxhZyBmb3IgY2hpbGRyZW5cbiAgICAvLyBmYXN0IHBhdGhzIG9ubHkuXG4gICAgcGF0Y2hGbGFnOiBleHRyYVByb3BzICYmIHZub2RlLnR5cGUgIT09IEZyYWdtZW50ID8gcGF0Y2hGbGFnID09PSAtMSA/IDE2IDogcGF0Y2hGbGFnIHwgMTYgOiBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzOiB2bm9kZS5keW5hbWljUHJvcHMsXG4gICAgZHluYW1pY0NoaWxkcmVuOiB2bm9kZS5keW5hbWljQ2hpbGRyZW4sXG4gICAgYXBwQ29udGV4dDogdm5vZGUuYXBwQ29udGV4dCxcbiAgICBkaXJzOiB2bm9kZS5kaXJzLFxuICAgIHRyYW5zaXRpb24sXG4gICAgLy8gVGhlc2Ugc2hvdWxkIHRlY2huaWNhbGx5IG9ubHkgYmUgbm9uLW51bGwgb24gbW91bnRlZCBWTm9kZXMuIEhvd2V2ZXIsXG4gICAgLy8gdGhleSAqc2hvdWxkKiBiZSBjb3BpZWQgZm9yIGtlcHQtYWxpdmUgdm5vZGVzLiBTbyB3ZSBqdXN0IGFsd2F5cyBjb3B5XG4gICAgLy8gdGhlbSBzaW5jZSB0aGVtIGJlaW5nIG5vbi1udWxsIGR1cmluZyBhIG1vdW50IGRvZXNuJ3QgYWZmZWN0IHRoZSBsb2dpYyBhc1xuICAgIC8vIHRoZXkgd2lsbCBzaW1wbHkgYmUgb3ZlcndyaXR0ZW4uXG4gICAgY29tcG9uZW50OiB2bm9kZS5jb21wb25lbnQsXG4gICAgc3VzcGVuc2U6IHZub2RlLnN1c3BlbnNlLFxuICAgIHNzQ29udGVudDogdm5vZGUuc3NDb250ZW50ICYmIGNsb25lVk5vZGUodm5vZGUuc3NDb250ZW50KSxcbiAgICBzc0ZhbGxiYWNrOiB2bm9kZS5zc0ZhbGxiYWNrICYmIGNsb25lVk5vZGUodm5vZGUuc3NGYWxsYmFjayksXG4gICAgcGxhY2Vob2xkZXI6IHZub2RlLnBsYWNlaG9sZGVyLFxuICAgIGVsOiB2bm9kZS5lbCxcbiAgICBhbmNob3I6IHZub2RlLmFuY2hvcixcbiAgICBjdHg6IHZub2RlLmN0eCxcbiAgICBjZTogdm5vZGUuY2VcbiAgfTtcbiAgaWYgKHRyYW5zaXRpb24gJiYgY2xvbmVUcmFuc2l0aW9uKSB7XG4gICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgY2xvbmVkLFxuICAgICAgdHJhbnNpdGlvbi5jbG9uZShjbG9uZWQpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY2xvbmVkO1xufVxuZnVuY3Rpb24gZGVlcENsb25lVk5vZGUodm5vZGUpIHtcbiAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gIGlmIChpc0FycmF5KHZub2RlLmNoaWxkcmVuKSkge1xuICAgIGNsb25lZC5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSk7XG4gIH1cbiAgcmV0dXJuIGNsb25lZDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSh0ZXh0ID0gXCIgXCIsIGZsYWcgPSAwKSB7XG4gIHJldHVybiBjcmVhdGVWTm9kZShUZXh0LCBudWxsLCB0ZXh0LCBmbGFnKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY1ZOb2RlKGNvbnRlbnQsIG51bWJlck9mTm9kZXMpIHtcbiAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShTdGF0aWMsIG51bGwsIGNvbnRlbnQpO1xuICB2bm9kZS5zdGF0aWNDb3VudCA9IG51bWJlck9mTm9kZXM7XG4gIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnRWTm9kZSh0ZXh0ID0gXCJcIiwgYXNCbG9jayA9IGZhbHNlKSB7XG4gIHJldHVybiBhc0Jsb2NrID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhDb21tZW50LCBudWxsLCB0ZXh0KSkgOiBjcmVhdGVWTm9kZShDb21tZW50LCBudWxsLCB0ZXh0KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2RlKGNoaWxkKSB7XG4gIGlmIChjaGlsZCA9PSBudWxsIHx8IHR5cGVvZiBjaGlsZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gIH0gZWxzZSBpZiAoaXNBcnJheShjaGlsZCkpIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoXG4gICAgICBGcmFnbWVudCxcbiAgICAgIG51bGwsXG4gICAgICAvLyAjMzY2NiwgYXZvaWQgcmVmZXJlbmNlIHBvbGx1dGlvbiB3aGVuIHJldXNpbmcgdm5vZGVcbiAgICAgIGNoaWxkLnNsaWNlKClcbiAgICApO1xuICB9IGVsc2UgaWYgKGlzVk5vZGUoY2hpbGQpKSB7XG4gICAgcmV0dXJuIGNsb25lSWZNb3VudGVkKGNoaWxkKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgU3RyaW5nKGNoaWxkKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNsb25lSWZNb3VudGVkKGNoaWxkKSB7XG4gIHJldHVybiBjaGlsZC5lbCA9PT0gbnVsbCAmJiBjaGlsZC5wYXRjaEZsYWcgIT09IC0xIHx8IGNoaWxkLm1lbW8gPyBjaGlsZCA6IGNsb25lVk5vZGUoY2hpbGQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKSB7XG4gIGxldCB0eXBlID0gMDtcbiAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHZub2RlO1xuICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgIHR5cGUgPSAxNjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgKDEgfCA2NCkpIHtcbiAgICAgIGNvbnN0IHNsb3QgPSBjaGlsZHJlbi5kZWZhdWx0O1xuICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IGZhbHNlKTtcbiAgICAgICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIHNsb3QoKSk7XG4gICAgICAgIHNsb3QuX2MgJiYgKHNsb3QuX2QgPSB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9IDMyO1xuICAgICAgY29uc3Qgc2xvdEZsYWcgPSBjaGlsZHJlbi5fO1xuICAgICAgaWYgKCFzbG90RmxhZyAmJiAhaXNJbnRlcm5hbE9iamVjdChjaGlsZHJlbikpIHtcbiAgICAgICAgY2hpbGRyZW4uX2N0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgICAgIH0gZWxzZSBpZiAoc2xvdEZsYWcgPT09IDMgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XG4gICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uuc2xvdHMuXyA9PT0gMSkge1xuICAgICAgICAgIGNoaWxkcmVuLl8gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoaWxkcmVuLl8gPSAyO1xuICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyB8PSAxMDI0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oY2hpbGRyZW4pKSB7XG4gICAgY2hpbGRyZW4gPSB7IGRlZmF1bHQ6IGNoaWxkcmVuLCBfY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfTtcbiAgICB0eXBlID0gMzI7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW4gPSBTdHJpbmcoY2hpbGRyZW4pO1xuICAgIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgdHlwZSA9IDE2O1xuICAgICAgY2hpbGRyZW4gPSBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGUgPSA4O1xuICAgIH1cbiAgfVxuICB2bm9kZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB2bm9kZS5zaGFwZUZsYWcgfD0gdHlwZTtcbn1cbmZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4uYXJncykge1xuICBjb25zdCByZXQgPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdG9NZXJnZSA9IGFyZ3NbaV07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdG9NZXJnZSkge1xuICAgICAgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XG4gICAgICAgIGlmIChyZXQuY2xhc3MgIT09IHRvTWVyZ2UuY2xhc3MpIHtcbiAgICAgICAgICByZXQuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhbcmV0LmNsYXNzLCB0b01lcmdlLmNsYXNzXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcbiAgICAgICAgcmV0LnN0eWxlID0gbm9ybWFsaXplU3R5bGUoW3JldC5zdHlsZSwgdG9NZXJnZS5zdHlsZV0pO1xuICAgICAgfSBlbHNlIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSByZXRba2V5XTtcbiAgICAgICAgY29uc3QgaW5jb21pbmcgPSB0b01lcmdlW2tleV07XG4gICAgICAgIGlmIChpbmNvbWluZyAmJiBleGlzdGluZyAhPT0gaW5jb21pbmcgJiYgIShpc0FycmF5KGV4aXN0aW5nKSAmJiBleGlzdGluZy5pbmNsdWRlcyhpbmNvbWluZykpKSB7XG4gICAgICAgICAgcmV0W2tleV0gPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgaW5jb21pbmcpIDogaW5jb21pbmc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ICE9PSBcIlwiKSB7XG4gICAgICAgIHJldFtrZXldID0gdG9NZXJnZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xuICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgNywgW1xuICAgIHZub2RlLFxuICAgIHByZXZWTm9kZVxuICBdKTtcbn1cblxuY29uc3QgZW1wdHlBcHBDb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xubGV0IHVpZCA9IDA7XG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSh2bm9kZSwgcGFyZW50LCBzdXNwZW5zZSkge1xuICBjb25zdCB0eXBlID0gdm5vZGUudHlwZTtcbiAgY29uc3QgYXBwQ29udGV4dCA9IChwYXJlbnQgPyBwYXJlbnQuYXBwQ29udGV4dCA6IHZub2RlLmFwcENvbnRleHQpIHx8IGVtcHR5QXBwQ29udGV4dDtcbiAgY29uc3QgaW5zdGFuY2UgPSB7XG4gICAgdWlkOiB1aWQrKyxcbiAgICB2bm9kZSxcbiAgICB0eXBlLFxuICAgIHBhcmVudCxcbiAgICBhcHBDb250ZXh0LFxuICAgIHJvb3Q6IG51bGwsXG4gICAgLy8gdG8gYmUgaW1tZWRpYXRlbHkgc2V0XG4gICAgbmV4dDogbnVsbCxcbiAgICBzdWJUcmVlOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHN5bmNocm9ub3VzbHkgcmlnaHQgYWZ0ZXIgY3JlYXRpb25cbiAgICBlZmZlY3Q6IG51bGwsXG4gICAgdXBkYXRlOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHN5bmNocm9ub3VzbHkgcmlnaHQgYWZ0ZXIgY3JlYXRpb25cbiAgICBqb2I6IG51bGwsXG4gICAgc2NvcGU6IG5ldyBFZmZlY3RTY29wZShcbiAgICAgIHRydWVcbiAgICAgIC8qIGRldGFjaGVkICovXG4gICAgKSxcbiAgICByZW5kZXI6IG51bGwsXG4gICAgcHJveHk6IG51bGwsXG4gICAgZXhwb3NlZDogbnVsbCxcbiAgICBleHBvc2VQcm94eTogbnVsbCxcbiAgICB3aXRoUHJveHk6IG51bGwsXG4gICAgcHJvdmlkZXM6IHBhcmVudCA/IHBhcmVudC5wcm92aWRlcyA6IE9iamVjdC5jcmVhdGUoYXBwQ29udGV4dC5wcm92aWRlcyksXG4gICAgaWRzOiBwYXJlbnQgPyBwYXJlbnQuaWRzIDogW1wiXCIsIDAsIDBdLFxuICAgIGFjY2Vzc0NhY2hlOiBudWxsLFxuICAgIHJlbmRlckNhY2hlOiBbXSxcbiAgICAvLyBsb2NhbCByZXNvbHZlZCBhc3NldHNcbiAgICBjb21wb25lbnRzOiBudWxsLFxuICAgIGRpcmVjdGl2ZXM6IG51bGwsXG4gICAgLy8gcmVzb2x2ZWQgcHJvcHMgYW5kIGVtaXRzIG9wdGlvbnNcbiAgICBwcm9wc09wdGlvbnM6IG5vcm1hbGl6ZVByb3BzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcbiAgICBlbWl0c09wdGlvbnM6IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcbiAgICAvLyBlbWl0XG4gICAgZW1pdDogbnVsbCxcbiAgICAvLyB0byBiZSBzZXQgaW1tZWRpYXRlbHlcbiAgICBlbWl0dGVkOiBudWxsLFxuICAgIC8vIHByb3BzIGRlZmF1bHQgdmFsdWVcbiAgICBwcm9wc0RlZmF1bHRzOiBFTVBUWV9PQkosXG4gICAgLy8gaW5oZXJpdEF0dHJzXG4gICAgaW5oZXJpdEF0dHJzOiB0eXBlLmluaGVyaXRBdHRycyxcbiAgICAvLyBzdGF0ZVxuICAgIGN0eDogRU1QVFlfT0JKLFxuICAgIGRhdGE6IEVNUFRZX09CSixcbiAgICBwcm9wczogRU1QVFlfT0JKLFxuICAgIGF0dHJzOiBFTVBUWV9PQkosXG4gICAgc2xvdHM6IEVNUFRZX09CSixcbiAgICByZWZzOiBFTVBUWV9PQkosXG4gICAgc2V0dXBTdGF0ZTogRU1QVFlfT0JKLFxuICAgIHNldHVwQ29udGV4dDogbnVsbCxcbiAgICAvLyBzdXNwZW5zZSByZWxhdGVkXG4gICAgc3VzcGVuc2UsXG4gICAgc3VzcGVuc2VJZDogc3VzcGVuc2UgPyBzdXNwZW5zZS5wZW5kaW5nSWQgOiAwLFxuICAgIGFzeW5jRGVwOiBudWxsLFxuICAgIGFzeW5jUmVzb2x2ZWQ6IGZhbHNlLFxuICAgIC8vIGxpZmVjeWNsZSBob29rc1xuICAgIC8vIG5vdCB1c2luZyBlbnVtcyBoZXJlIGJlY2F1c2UgaXQgcmVzdWx0cyBpbiBjb21wdXRlZCBwcm9wZXJ0aWVzXG4gICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICBpc1VubW91bnRlZDogZmFsc2UsXG4gICAgaXNEZWFjdGl2YXRlZDogZmFsc2UsXG4gICAgYmM6IG51bGwsXG4gICAgYzogbnVsbCxcbiAgICBibTogbnVsbCxcbiAgICBtOiBudWxsLFxuICAgIGJ1OiBudWxsLFxuICAgIHU6IG51bGwsXG4gICAgdW06IG51bGwsXG4gICAgYnVtOiBudWxsLFxuICAgIGRhOiBudWxsLFxuICAgIGE6IG51bGwsXG4gICAgcnRnOiBudWxsLFxuICAgIHJ0YzogbnVsbCxcbiAgICBlYzogbnVsbCxcbiAgICBzcDogbnVsbFxuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluc3RhbmNlLmN0eCA9IGNyZWF0ZURldlJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIGluc3RhbmNlLmN0eCA9IHsgXzogaW5zdGFuY2UgfTtcbiAgfVxuICBpbnN0YW5jZS5yb290ID0gcGFyZW50ID8gcGFyZW50LnJvb3QgOiBpbnN0YW5jZTtcbiAgaW5zdGFuY2UuZW1pdCA9IGVtaXQuYmluZChudWxsLCBpbnN0YW5jZSk7XG4gIGlmICh2bm9kZS5jZSkge1xuICAgIHZub2RlLmNlKGluc3RhbmNlKTtcbiAgfVxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5sZXQgY3VycmVudEluc3RhbmNlID0gbnVsbDtcbmNvbnN0IGdldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG5sZXQgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2U7XG5sZXQgc2V0SW5TU1JTZXR1cFN0YXRlO1xue1xuICBjb25zdCBnID0gZ2V0R2xvYmFsVGhpcygpO1xuICBjb25zdCByZWdpc3Rlckdsb2JhbFNldHRlciA9IChrZXksIHNldHRlcikgPT4ge1xuICAgIGxldCBzZXR0ZXJzO1xuICAgIGlmICghKHNldHRlcnMgPSBnW2tleV0pKSBzZXR0ZXJzID0gZ1trZXldID0gW107XG4gICAgc2V0dGVycy5wdXNoKHNldHRlcik7XG4gICAgcmV0dXJuICh2KSA9PiB7XG4gICAgICBpZiAoc2V0dGVycy5sZW5ndGggPiAxKSBzZXR0ZXJzLmZvckVhY2goKHNldCkgPT4gc2V0KHYpKTtcbiAgICAgIGVsc2Ugc2V0dGVyc1swXSh2KTtcbiAgICB9O1xuICB9O1xuICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZSA9IHJlZ2lzdGVyR2xvYmFsU2V0dGVyKFxuICAgIGBfX1ZVRV9JTlNUQU5DRV9TRVRURVJTX19gLFxuICAgICh2KSA9PiBjdXJyZW50SW5zdGFuY2UgPSB2XG4gICk7XG4gIHNldEluU1NSU2V0dXBTdGF0ZSA9IHJlZ2lzdGVyR2xvYmFsU2V0dGVyKFxuICAgIGBfX1ZVRV9TU1JfU0VUVEVSU19fYCxcbiAgICAodikgPT4gaXNJblNTUkNvbXBvbmVudFNldHVwID0gdlxuICApO1xufVxuY29uc3Qgc2V0Q3VycmVudEluc3RhbmNlID0gKGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IHByZXYgPSBjdXJyZW50SW5zdGFuY2U7XG4gIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgaW5zdGFuY2Uuc2NvcGUub24oKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZShwcmV2KTtcbiAgfTtcbn07XG5jb25zdCB1bnNldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IHtcbiAgY3VycmVudEluc3RhbmNlICYmIGN1cnJlbnRJbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UobnVsbCk7XG59O1xuY29uc3QgaXNCdWlsdEluVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXCJzbG90LGNvbXBvbmVudFwiKTtcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCB7IGlzTmF0aXZlVGFnIH0pIHtcbiAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBpc05hdGl2ZVRhZyhuYW1lKSkge1xuICAgIHdhcm4kMShcbiAgICAgIFwiRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCBpZDogXCIgKyBuYW1lXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgNDtcbn1cbmxldCBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcbmZ1bmN0aW9uIHNldHVwQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUiA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSkge1xuICBpc1NTUiAmJiBzZXRJblNTUlNldHVwU3RhdGUoaXNTU1IpO1xuICBjb25zdCB7IHByb3BzLCBjaGlsZHJlbiB9ID0gaW5zdGFuY2Uudm5vZGU7XG4gIGNvbnN0IGlzU3RhdGVmdWwgPSBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKTtcbiAgaW5pdFByb3BzKGluc3RhbmNlLCBwcm9wcywgaXNTdGF0ZWZ1bCwgaXNTU1IpO1xuICBpbml0U2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQgfHwgaXNTU1IpO1xuICBjb25zdCBzZXR1cFJlc3VsdCA9IGlzU3RhdGVmdWwgPyBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikgOiB2b2lkIDA7XG4gIGlzU1NSICYmIHNldEluU1NSU2V0dXBTdGF0ZShmYWxzZSk7XG4gIHJldHVybiBzZXR1cFJlc3VsdDtcbn1cbmZ1bmN0aW9uIHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpZiAoQ29tcG9uZW50Lm5hbWUpIHtcbiAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShDb21wb25lbnQubmFtZSwgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcpO1xuICAgIH1cbiAgICBpZiAoQ29tcG9uZW50LmNvbXBvbmVudHMpIHtcbiAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmNvbXBvbmVudHMpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZXNbaV0sIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKENvbXBvbmVudC5kaXJlY3RpdmVzKSB7XG4gICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5kaXJlY3RpdmVzKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWVzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKENvbXBvbmVudC5jb21waWxlck9wdGlvbnMgJiYgaXNSdW50aW1lT25seSgpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBcImNvbXBpbGVyT3B0aW9uc1wiIGlzIG9ubHkgc3VwcG9ydGVkIHdoZW4gdXNpbmcgYSBidWlsZCBvZiBWdWUgdGhhdCBpbmNsdWRlcyB0aGUgcnVudGltZSBjb21waWxlci4gU2luY2UgeW91IGFyZSB1c2luZyBhIHJ1bnRpbWUtb25seSBidWlsZCwgdGhlIG9wdGlvbnMgc2hvdWxkIGJlIHBhc3NlZCB2aWEgeW91ciBidWlsZCB0b29sIGNvbmZpZyBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGluc3RhbmNlLmFjY2Vzc0NhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGluc3RhbmNlLnByb3h5ID0gbmV3IFByb3h5KGluc3RhbmNlLmN0eCwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gIH1cbiAgY29uc3QgeyBzZXR1cCB9ID0gQ29tcG9uZW50O1xuICBpZiAoc2V0dXApIHtcbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgY29uc3Qgc2V0dXBDb250ZXh0ID0gaW5zdGFuY2Uuc2V0dXBDb250ZXh0ID0gc2V0dXAubGVuZ3RoID4gMSA/IGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkgOiBudWxsO1xuICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICBjb25zdCBzZXR1cFJlc3VsdCA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhcbiAgICAgIHNldHVwLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICAwLFxuICAgICAgW1xuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGluc3RhbmNlLnByb3BzKSA6IGluc3RhbmNlLnByb3BzLFxuICAgICAgICBzZXR1cENvbnRleHRcbiAgICAgIF1cbiAgICApO1xuICAgIGNvbnN0IGlzQXN5bmNTZXR1cCA9IGlzUHJvbWlzZShzZXR1cFJlc3VsdCk7XG4gICAgcmVzZXRUcmFja2luZygpO1xuICAgIHJlc2V0KCk7XG4gICAgaWYgKChpc0FzeW5jU2V0dXAgfHwgaW5zdGFuY2Uuc3ApICYmICFpc0FzeW5jV3JhcHBlcihpbnN0YW5jZSkpIHtcbiAgICAgIG1hcmtBc3luY0JvdW5kYXJ5KGluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKGlzQXN5bmNTZXR1cCkge1xuICAgICAgc2V0dXBSZXN1bHQudGhlbih1bnNldEN1cnJlbnRJbnN0YW5jZSwgdW5zZXRDdXJyZW50SW5zdGFuY2UpO1xuICAgICAgaWYgKGlzU1NSKSB7XG4gICAgICAgIHJldHVybiBzZXR1cFJlc3VsdC50aGVuKChyZXNvbHZlZFJlc3VsdCkgPT4ge1xuICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCByZXNvbHZlZFJlc3VsdCwgaXNTU1IpO1xuICAgICAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgIGhhbmRsZUVycm9yKGUsIGluc3RhbmNlLCAwKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5hc3luY0RlcCA9IHNldHVwUmVzdWx0O1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaW5zdGFuY2Uuc3VzcGVuc2UpIHtcbiAgICAgICAgICBjb25zdCBuYW1lID0gKF9hID0gQ29tcG9uZW50Lm5hbWUpICE9IG51bGwgPyBfYSA6IFwiQW5vbnltb3VzXCI7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYENvbXBvbmVudCA8JHtuYW1lfT46IHNldHVwIGZ1bmN0aW9uIHJldHVybmVkIGEgcHJvbWlzZSwgYnV0IG5vIDxTdXNwZW5zZT4gYm91bmRhcnkgd2FzIGZvdW5kIGluIHRoZSBwYXJlbnQgY29tcG9uZW50IHRyZWUuIEEgY29tcG9uZW50IHdpdGggYXN5bmMgc2V0dXAoKSBtdXN0IGJlIG5lc3RlZCBpbiBhIDxTdXNwZW5zZT4gaW4gb3JkZXIgdG8gYmUgcmVuZGVyZWQuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHNldHVwUmVzdWx0LCBpc1NTUik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUik7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpIHtcbiAgaWYgKGlzRnVuY3Rpb24oc2V0dXBSZXN1bHQpKSB7XG4gICAgaWYgKGluc3RhbmNlLnR5cGUuX19zc3JJbmxpbmVSZW5kZXIpIHtcbiAgICAgIGluc3RhbmNlLnNzclJlbmRlciA9IHNldHVwUmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5yZW5kZXIgPSBzZXR1cFJlc3VsdDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc2V0dXBSZXN1bHQpKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNWTm9kZShzZXR1cFJlc3VsdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHNldHVwKCkgc2hvdWxkIG5vdCByZXR1cm4gVk5vZGVzIGRpcmVjdGx5IC0gcmV0dXJuIGEgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBpbnN0YW5jZS5kZXZ0b29sc1Jhd1NldHVwU3RhdGUgPSBzZXR1cFJlc3VsdDtcbiAgICB9XG4gICAgaW5zdGFuY2Uuc2V0dXBTdGF0ZSA9IHByb3h5UmVmcyhzZXR1cFJlc3VsdCk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldHVwUmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICB3YXJuJDEoXG4gICAgICBgc2V0dXAoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4gUmVjZWl2ZWQ6ICR7c2V0dXBSZXN1bHQgPT09IG51bGwgPyBcIm51bGxcIiA6IHR5cGVvZiBzZXR1cFJlc3VsdH1gXG4gICAgKTtcbiAgfVxuICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xufVxubGV0IGNvbXBpbGU7XG5sZXQgaW5zdGFsbFdpdGhQcm94eTtcbmZ1bmN0aW9uIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyKF9jb21waWxlKSB7XG4gIGNvbXBpbGUgPSBfY29tcGlsZTtcbiAgaW5zdGFsbFdpdGhQcm94eSA9IChpKSA9PiB7XG4gICAgaWYgKGkucmVuZGVyLl9yYykge1xuICAgICAgaS53aXRoUHJveHkgPSBuZXcgUHJveHkoaS5jdHgsIFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XG4gICAgfVxuICB9O1xufVxuY29uc3QgaXNSdW50aW1lT25seSA9ICgpID0+ICFjb21waWxlO1xuZnVuY3Rpb24gZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSLCBza2lwT3B0aW9ucykge1xuICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICBpZiAoIWluc3RhbmNlLnJlbmRlcikge1xuICAgIGlmICghaXNTU1IgJiYgY29tcGlsZSAmJiAhQ29tcG9uZW50LnJlbmRlcikge1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSBDb21wb25lbnQudGVtcGxhdGUgfHwgX19WVUVfT1BUSU9OU19BUElfXyAmJiByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSkudGVtcGxhdGU7XG4gICAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBpc0N1c3RvbUVsZW1lbnQsIGNvbXBpbGVyT3B0aW9ucyB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWc7XG4gICAgICAgIGNvbnN0IHsgZGVsaW1pdGVycywgY29tcGlsZXJPcHRpb25zOiBjb21wb25lbnRDb21waWxlck9wdGlvbnMgfSA9IENvbXBvbmVudDtcbiAgICAgICAgY29uc3QgZmluYWxDb21waWxlck9wdGlvbnMgPSBleHRlbmQoXG4gICAgICAgICAgZXh0ZW5kKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpc0N1c3RvbUVsZW1lbnQsXG4gICAgICAgICAgICAgIGRlbGltaXRlcnNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21waWxlck9wdGlvbnNcbiAgICAgICAgICApLFxuICAgICAgICAgIGNvbXBvbmVudENvbXBpbGVyT3B0aW9uc1xuICAgICAgICApO1xuICAgICAgICBDb21wb25lbnQucmVuZGVyID0gY29tcGlsZSh0ZW1wbGF0ZSwgZmluYWxDb21waWxlck9wdGlvbnMpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UucmVuZGVyID0gQ29tcG9uZW50LnJlbmRlciB8fCBOT09QO1xuICAgIGlmIChpbnN0YWxsV2l0aFByb3h5KSB7XG4gICAgICBpbnN0YWxsV2l0aFByb3h5KGluc3RhbmNlKTtcbiAgICB9XG4gIH1cbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgdHJ1ZSkge1xuICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgdHJ5IHtcbiAgICAgIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgIHJlc2V0KCk7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFDb21wb25lbnQucmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCAmJiAhaXNTU1IpIHtcbiAgICBpZiAoIWNvbXBpbGUgJiYgQ29tcG9uZW50LnRlbXBsYXRlKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBDb21wb25lbnQgcHJvdmlkZWQgdGVtcGxhdGUgb3B0aW9uIGJ1dCBydW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArIChgIENvbmZpZ3VyZSB5b3VyIGJ1bmRsZXIgdG8gYWxpYXMgXCJ2dWVcIiB0byBcInZ1ZS9kaXN0L3Z1ZS5lc20tYnVuZGxlci5qc1wiLmAgKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybiQxKGBDb21wb25lbnQgaXMgbWlzc2luZyB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb246IGAsIENvbXBvbmVudCk7XG4gICAgfVxuICB9XG59XG5jb25zdCBhdHRyc1Byb3h5SGFuZGxlcnMgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8ge1xuICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiwgXCJcIik7XG4gICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICB9LFxuICBzZXQoKSB7XG4gICAgd2FybiQxKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBkZWxldGVQcm9wZXJ0eSgpIHtcbiAgICB3YXJuJDEoYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0gOiB7XG4gIGdldCh0YXJnZXQsIGtleSkge1xuICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiwgXCJcIik7XG4gICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICB9XG59O1xuZnVuY3Rpb24gZ2V0U2xvdHNQcm94eShpbnN0YW5jZSkge1xuICByZXR1cm4gbmV3IFByb3h5KGluc3RhbmNlLnNsb3RzLCB7XG4gICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiwgXCIkc2xvdHNcIik7XG4gICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCBleHBvc2UgPSAoZXhwb3NlZCkgPT4ge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBpZiAoaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgICAgICB3YXJuJDEoYGV4cG9zZSgpIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlIHBlciBzZXR1cCgpLmApO1xuICAgICAgfVxuICAgICAgaWYgKGV4cG9zZWQgIT0gbnVsbCkge1xuICAgICAgICBsZXQgZXhwb3NlZFR5cGUgPSB0eXBlb2YgZXhwb3NlZDtcbiAgICAgICAgaWYgKGV4cG9zZWRUeXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkoZXhwb3NlZCkpIHtcbiAgICAgICAgICAgIGV4cG9zZWRUeXBlID0gXCJhcnJheVwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNSZWYoZXhwb3NlZCkpIHtcbiAgICAgICAgICAgIGV4cG9zZWRUeXBlID0gXCJyZWZcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cG9zZWRUeXBlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYGV4cG9zZSgpIHNob3VsZCBiZSBwYXNzZWQgYSBwbGFpbiBvYmplY3QsIHJlY2VpdmVkICR7ZXhwb3NlZFR5cGV9LmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLmV4cG9zZWQgPSBleHBvc2VkIHx8IHt9O1xuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGxldCBhdHRyc1Byb3h5O1xuICAgIGxldCBzbG90c1Byb3h5O1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJzUHJveHkgfHwgKGF0dHJzUHJveHkgPSBuZXcgUHJveHkoaW5zdGFuY2UuYXR0cnMsIGF0dHJzUHJveHlIYW5kbGVycykpO1xuICAgICAgfSxcbiAgICAgIGdldCBzbG90cygpIHtcbiAgICAgICAgcmV0dXJuIHNsb3RzUHJveHkgfHwgKHNsb3RzUHJveHkgPSBnZXRTbG90c1Byb3h5KGluc3RhbmNlKSk7XG4gICAgICB9LFxuICAgICAgZ2V0IGVtaXQoKSB7XG4gICAgICAgIHJldHVybiAoZXZlbnQsIC4uLmFyZ3MpID0+IGluc3RhbmNlLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgICAgfSxcbiAgICAgIGV4cG9zZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBhdHRyczogbmV3IFByb3h5KGluc3RhbmNlLmF0dHJzLCBhdHRyc1Byb3h5SGFuZGxlcnMpLFxuICAgICAgc2xvdHM6IGluc3RhbmNlLnNsb3RzLFxuICAgICAgZW1pdDogaW5zdGFuY2UuZW1pdCxcbiAgICAgIGV4cG9zZVxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKGluc3RhbmNlKSB7XG4gIGlmIChpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLmV4cG9zZVByb3h5IHx8IChpbnN0YW5jZS5leHBvc2VQcm94eSA9IG5ldyBQcm94eShwcm94eVJlZnMobWFya1JhdyhpbnN0YW5jZS5leHBvc2VkKSksIHtcbiAgICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgICBpZiAoa2V5IGluIHRhcmdldCkge1xuICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgaW4gcHVibGljUHJvcGVydGllc01hcCkge1xuICAgICAgICAgIHJldHVybiBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV0oaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGFzKHRhcmdldCwga2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgaW4gdGFyZ2V0IHx8IGtleSBpbiBwdWJsaWNQcm9wZXJ0aWVzTWFwO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaW5zdGFuY2UucHJveHk7XG4gIH1cbn1cbmNvbnN0IGNsYXNzaWZ5UkUgPSAvKD86XnxbLV9dKVxcdy9nO1xuY29uc3QgY2xhc3NpZnkgPSAoc3RyKSA9PiBzdHIucmVwbGFjZShjbGFzc2lmeVJFLCAoYykgPT4gYy50b1VwcGVyQ2FzZSgpKS5yZXBsYWNlKC9bLV9dL2csIFwiXCIpO1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQsIGluY2x1ZGVJbmZlcnJlZCA9IHRydWUpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24oQ29tcG9uZW50KSA/IENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSA6IENvbXBvbmVudC5uYW1lIHx8IGluY2x1ZGVJbmZlcnJlZCAmJiBDb21wb25lbnQuX19uYW1lO1xufVxuZnVuY3Rpb24gZm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgQ29tcG9uZW50LCBpc1Jvb3QgPSBmYWxzZSkge1xuICBsZXQgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KTtcbiAgaWYgKCFuYW1lICYmIENvbXBvbmVudC5fX2ZpbGUpIHtcbiAgICBjb25zdCBtYXRjaCA9IENvbXBvbmVudC5fX2ZpbGUubWF0Y2goLyhbXi9cXFxcXSspXFwuXFx3KyQvKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIG5hbWUgPSBtYXRjaFsxXTtcbiAgICB9XG4gIH1cbiAgaWYgKCFuYW1lICYmIGluc3RhbmNlICYmIGluc3RhbmNlLnBhcmVudCkge1xuICAgIGNvbnN0IGluZmVyRnJvbVJlZ2lzdHJ5ID0gKHJlZ2lzdHJ5KSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiByZWdpc3RyeSkge1xuICAgICAgICBpZiAocmVnaXN0cnlba2V5XSA9PT0gQ29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgbmFtZSA9IGluZmVyRnJvbVJlZ2lzdHJ5KFxuICAgICAgaW5zdGFuY2UuY29tcG9uZW50cyB8fCBpbnN0YW5jZS5wYXJlbnQudHlwZS5jb21wb25lbnRzXG4gICAgKSB8fCBpbmZlckZyb21SZWdpc3RyeShpbnN0YW5jZS5hcHBDb250ZXh0LmNvbXBvbmVudHMpO1xuICB9XG4gIHJldHVybiBuYW1lID8gY2xhc3NpZnkobmFtZSkgOiBpc1Jvb3QgPyBgQXBwYCA6IGBBbm9ueW1vdXNgO1xufVxuZnVuY3Rpb24gaXNDbGFzc0NvbXBvbmVudCh2YWx1ZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSkgJiYgXCJfX3ZjY09wdHNcIiBpbiB2YWx1ZTtcbn1cblxuY29uc3QgY29tcHV0ZWQgPSAoZ2V0dGVyT3JPcHRpb25zLCBkZWJ1Z09wdGlvbnMpID0+IHtcbiAgY29uc3QgYyA9IGNvbXB1dGVkJDEoZ2V0dGVyT3JPcHRpb25zLCBkZWJ1Z09wdGlvbnMsIGlzSW5TU1JDb21wb25lbnRTZXR1cCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGlmIChpICYmIGkuYXBwQ29udGV4dC5jb25maWcud2FyblJlY3Vyc2l2ZUNvbXB1dGVkKSB7XG4gICAgICBjLl93YXJuUmVjdXJzaXZlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGM7XG59O1xuXG5mdW5jdGlvbiBoKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pIHtcbiAgY29uc3QgZG9DcmVhdGVWTm9kZSA9ICh0eXBlMiwgcHJvcHMsIGNoaWxkcmVuMikgPT4ge1xuICAgIHNldEJsb2NrVHJhY2tpbmcoLTEpO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZTIsIHByb3BzLCBjaGlsZHJlbjIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRCbG9ja1RyYWNraW5nKDEpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIGlmIChsID09PSAyKSB7XG4gICAgaWYgKGlzT2JqZWN0KHByb3BzT3JDaGlsZHJlbikgJiYgIWlzQXJyYXkocHJvcHNPckNoaWxkcmVuKSkge1xuICAgICAgaWYgKGlzVk5vZGUocHJvcHNPckNoaWxkcmVuKSkge1xuICAgICAgICByZXR1cm4gZG9DcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZG9DcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZG9DcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBwcm9wc09yQ2hpbGRyZW4pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAobCA+IDMpIHtcbiAgICAgIGNoaWxkcmVuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICB9IGVsc2UgaWYgKGwgPT09IDMgJiYgaXNWTm9kZShjaGlsZHJlbikpIHtcbiAgICAgIGNoaWxkcmVuID0gW2NoaWxkcmVuXTtcbiAgICB9XG4gICAgcmV0dXJuIGRvQ3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbik7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdEN1c3RvbUZvcm1hdHRlcigpIHtcbiAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdnVlU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiMzYmE3NzZcIiB9O1xuICBjb25zdCBudW1iZXJTdHlsZSA9IHsgc3R5bGU6IFwiY29sb3I6IzE2NzdmZlwiIH07XG4gIGNvbnN0IHN0cmluZ1N0eWxlID0geyBzdHlsZTogXCJjb2xvcjojZjUyMjJkXCIgfTtcbiAgY29uc3Qga2V5d29yZFN0eWxlID0geyBzdHlsZTogXCJjb2xvcjojZWIyZjk2XCIgfTtcbiAgY29uc3QgZm9ybWF0dGVyID0ge1xuICAgIF9fdnVlX2N1c3RvbV9mb3JtYXR0ZXI6IHRydWUsXG4gICAgaGVhZGVyKG9iaikge1xuICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKG9iai5fX2lzVnVlKSB7XG4gICAgICAgIHJldHVybiBbXCJkaXZcIiwgdnVlU3R5bGUsIGBWdWVJbnN0YW5jZWBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlZihvYmopKSB7XG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvYmoudmFsdWU7XG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGdlblJlZkZsYWcob2JqKV0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUodmFsdWUpLFxuICAgICAgICAgIGA+YFxuICAgICAgICBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlYWN0aXZlKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGlzU2hhbGxvdyhvYmopID8gXCJTaGFsbG93UmVhY3RpdmVcIiA6IFwiUmVhY3RpdmVcIl0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcbiAgICAgICAgICBgPiR7aXNSZWFkb25seShvYmopID8gYCAocmVhZG9ubHkpYCA6IGBgfWBcbiAgICAgICAgXTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWFkb25seShvYmopKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBbXCJzcGFuXCIsIHZ1ZVN0eWxlLCBpc1NoYWxsb3cob2JqKSA/IFwiU2hhbGxvd1JlYWRvbmx5XCIgOiBcIlJlYWRvbmx5XCJdLFxuICAgICAgICAgIFwiPFwiLFxuICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXG4gICAgICAgICAgXCI+XCJcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgaGFzQm9keShvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9faXNWdWU7XG4gICAgfSxcbiAgICBib2R5KG9iaikge1xuICAgICAgaWYgKG9iaiAmJiBvYmouX19pc1Z1ZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge30sXG4gICAgICAgICAgLi4uZm9ybWF0SW5zdGFuY2Uob2JqLiQpXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBmb3JtYXRJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xuICAgIGlmIChpbnN0YW5jZS50eXBlLnByb3BzICYmIGluc3RhbmNlLnByb3BzKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwicHJvcHNcIiwgdG9SYXcoaW5zdGFuY2UucHJvcHMpKSk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5zZXR1cFN0YXRlICE9PSBFTVBUWV9PQkopIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJzZXR1cFwiLCBpbnN0YW5jZS5zZXR1cFN0YXRlKSk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5kYXRhICE9PSBFTVBUWV9PQkopIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJkYXRhXCIsIHRvUmF3KGluc3RhbmNlLmRhdGEpKSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsIFwiY29tcHV0ZWRcIik7XG4gICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwiY29tcHV0ZWRcIiwgY29tcHV0ZWQpKTtcbiAgICB9XG4gICAgY29uc3QgaW5qZWN0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgXCJpbmplY3RcIik7XG4gICAgaWYgKGluamVjdGVkKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwiaW5qZWN0ZWRcIiwgaW5qZWN0ZWQpKTtcbiAgICB9XG4gICAgYmxvY2tzLnB1c2goW1xuICAgICAgXCJkaXZcIixcbiAgICAgIHt9LFxuICAgICAgW1xuICAgICAgICBcInNwYW5cIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBrZXl3b3JkU3R5bGUuc3R5bGUgKyBcIjtvcGFjaXR5OjAuNjZcIlxuICAgICAgICB9LFxuICAgICAgICBcIiQgKGludGVybmFsKTogXCJcbiAgICAgIF0sXG4gICAgICBbXCJvYmplY3RcIiwgeyBvYmplY3Q6IGluc3RhbmNlIH1dXG4gICAgXSk7XG4gICAgcmV0dXJuIGJsb2NrcztcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZUJsb2NrKHR5cGUsIHRhcmdldCkge1xuICAgIHRhcmdldCA9IGV4dGVuZCh7fSwgdGFyZ2V0KTtcbiAgICBpZiAoIU9iamVjdC5rZXlzKHRhcmdldCkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCB7fV07XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdHlsZTogXCJsaW5lLWhlaWdodDoxLjI1ZW07bWFyZ2luLWJvdHRvbTowLjZlbVwiIH0sXG4gICAgICBbXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZTogXCJjb2xvcjojNDc2NTgyXCJcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZVxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBcInBhZGRpbmctbGVmdDoxLjI1ZW1cIlxuICAgICAgICB9LFxuICAgICAgICAuLi5PYmplY3Qua2V5cyh0YXJnZXQpLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIFtcInNwYW5cIiwga2V5d29yZFN0eWxlLCBrZXkgKyBcIjogXCJdLFxuICAgICAgICAgICAgZm9ybWF0VmFsdWUodGFyZ2V0W2tleV0sIGZhbHNlKVxuICAgICAgICAgIF07XG4gICAgICAgIH0pXG4gICAgICBdXG4gICAgXTtcbiAgfVxuICBmdW5jdGlvbiBmb3JtYXRWYWx1ZSh2LCBhc1JhdyA9IHRydWUpIHtcbiAgICBpZiAodHlwZW9mIHYgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIG51bWJlclN0eWxlLCB2XTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBzdHJpbmdTdHlsZSwgSlNPTi5zdHJpbmdpZnkodildO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBrZXl3b3JkU3R5bGUsIHZdO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodikpIHtcbiAgICAgIHJldHVybiBbXCJvYmplY3RcIiwgeyBvYmplY3Q6IGFzUmF3ID8gdG9SYXcodikgOiB2IH1dO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBzdHJpbmdTdHlsZSwgU3RyaW5nKHYpXTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZXh0cmFjdEtleXMoaW5zdGFuY2UsIHR5cGUpIHtcbiAgICBjb25zdCBDb21wID0gaW5zdGFuY2UudHlwZTtcbiAgICBpZiAoaXNGdW5jdGlvbihDb21wKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBleHRyYWN0ZWQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5jdHgpIHtcbiAgICAgIGlmIChpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpKSB7XG4gICAgICAgIGV4dHJhY3RlZFtrZXldID0gaW5zdGFuY2UuY3R4W2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBleHRyYWN0ZWQ7XG4gIH1cbiAgZnVuY3Rpb24gaXNLZXlPZlR5cGUoQ29tcCwga2V5LCB0eXBlKSB7XG4gICAgY29uc3Qgb3B0cyA9IENvbXBbdHlwZV07XG4gICAgaWYgKGlzQXJyYXkob3B0cykgJiYgb3B0cy5pbmNsdWRlcyhrZXkpIHx8IGlzT2JqZWN0KG9wdHMpICYmIGtleSBpbiBvcHRzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKENvbXAuZXh0ZW5kcyAmJiBpc0tleU9mVHlwZShDb21wLmV4dGVuZHMsIGtleSwgdHlwZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoQ29tcC5taXhpbnMgJiYgQ29tcC5taXhpbnMuc29tZSgobSkgPT4gaXNLZXlPZlR5cGUobSwga2V5LCB0eXBlKSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZW5SZWZGbGFnKHYpIHtcbiAgICBpZiAoaXNTaGFsbG93KHYpKSB7XG4gICAgICByZXR1cm4gYFNoYWxsb3dSZWZgO1xuICAgIH1cbiAgICBpZiAodi5lZmZlY3QpIHtcbiAgICAgIHJldHVybiBgQ29tcHV0ZWRSZWZgO1xuICAgIH1cbiAgICByZXR1cm4gYFJlZmA7XG4gIH1cbiAgaWYgKHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMpIHtcbiAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzID0gW2Zvcm1hdHRlcl07XG4gIH1cbn1cblxuZnVuY3Rpb24gd2l0aE1lbW8obWVtbywgcmVuZGVyLCBjYWNoZSwgaW5kZXgpIHtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGVbaW5kZXhdO1xuICBpZiAoY2FjaGVkICYmIGlzTWVtb1NhbWUoY2FjaGVkLCBtZW1vKSkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmV0ID0gcmVuZGVyKCk7XG4gIHJldC5tZW1vID0gbWVtby5zbGljZSgpO1xuICByZXQuY2FjaGVJbmRleCA9IGluZGV4O1xuICByZXR1cm4gY2FjaGVbaW5kZXhdID0gcmV0O1xufVxuZnVuY3Rpb24gaXNNZW1vU2FtZShjYWNoZWQsIG1lbW8pIHtcbiAgY29uc3QgcHJldiA9IGNhY2hlZC5tZW1vO1xuICBpZiAocHJldi5sZW5ndGggIT0gbWVtby5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGhhc0NoYW5nZWQocHJldltpXSwgbWVtb1tpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgY3VycmVudEJsb2NrKSB7XG4gICAgY3VycmVudEJsb2NrLnB1c2goY2FjaGVkKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuY29uc3QgdmVyc2lvbiA9IFwiMy41LjIxXCI7XG5jb25zdCB3YXJuID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHdhcm4kMSA6IE5PT1A7XG5jb25zdCBFcnJvclR5cGVTdHJpbmdzID0gRXJyb3JUeXBlU3RyaW5ncyQxIDtcbmNvbnN0IGRldnRvb2xzID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCB0cnVlID8gZGV2dG9vbHMkMSA6IHZvaWQgMDtcbmNvbnN0IHNldERldnRvb2xzSG9vayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgdHJ1ZSA/IHNldERldnRvb2xzSG9vayQxIDogTk9PUDtcbmNvbnN0IF9zc3JVdGlscyA9IHtcbiAgY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UsXG4gIHNldHVwQ29tcG9uZW50LFxuICByZW5kZXJDb21wb25lbnRSb290LFxuICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsXG4gIGlzVk5vZGU6IGlzVk5vZGUsXG4gIG5vcm1hbGl6ZVZOb2RlLFxuICBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSxcbiAgZW5zdXJlVmFsaWRWTm9kZSxcbiAgcHVzaFdhcm5pbmdDb250ZXh0LFxuICBwb3BXYXJuaW5nQ29udGV4dFxufTtcbmNvbnN0IHNzclV0aWxzID0gX3NzclV0aWxzIDtcbmNvbnN0IHJlc29sdmVGaWx0ZXIgPSBudWxsO1xuY29uc3QgY29tcGF0VXRpbHMgPSBudWxsO1xuY29uc3QgRGVwcmVjYXRpb25UeXBlcyA9IG51bGw7XG5cbmV4cG9ydCB7IEJhc2VUcmFuc2l0aW9uLCBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywgQ29tbWVudCwgRGVwcmVjYXRpb25UeXBlcywgRXJyb3JDb2RlcywgRXJyb3JUeXBlU3RyaW5ncywgRnJhZ21lbnQsIEtlZXBBbGl2ZSwgU3RhdGljLCBTdXNwZW5zZSwgVGVsZXBvcnQsIFRleHQsIGFzc2VydE51bWJlciwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGNhbGxXaXRoRXJyb3JIYW5kbGluZywgY2xvbmVWTm9kZSwgY29tcGF0VXRpbHMsIGNvbXB1dGVkLCBjcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUJhc2VWTm9kZSBhcyBjcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBjcmVhdGVQcm9wc1Jlc3RQcm94eSwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZVNsb3RzLCBjcmVhdGVTdGF0aWNWTm9kZSwgY3JlYXRlVGV4dFZOb2RlLCBjcmVhdGVWTm9kZSwgZGVmaW5lQXN5bmNDb21wb25lbnQsIGRlZmluZUNvbXBvbmVudCwgZGVmaW5lRW1pdHMsIGRlZmluZUV4cG9zZSwgZGVmaW5lTW9kZWwsIGRlZmluZU9wdGlvbnMsIGRlZmluZVByb3BzLCBkZWZpbmVTbG90cywgZGV2dG9vbHMsIGdldEN1cnJlbnRJbnN0YW5jZSwgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBndWFyZFJlYWN0aXZlUHJvcHMsIGgsIGhhbmRsZUVycm9yLCBoYXNJbmplY3Rpb25Db250ZXh0LCBoeWRyYXRlT25JZGxlLCBoeWRyYXRlT25JbnRlcmFjdGlvbiwgaHlkcmF0ZU9uTWVkaWFRdWVyeSwgaHlkcmF0ZU9uVmlzaWJsZSwgaW5pdEN1c3RvbUZvcm1hdHRlciwgaW5qZWN0LCBpc01lbW9TYW1lLCBpc1J1bnRpbWVPbmx5LCBpc1ZOb2RlLCBtZXJnZURlZmF1bHRzLCBtZXJnZU1vZGVscywgbWVyZ2VQcm9wcywgbmV4dFRpY2ssIG9uQWN0aXZhdGVkLCBvbkJlZm9yZU1vdW50LCBvbkJlZm9yZVVubW91bnQsIG9uQmVmb3JlVXBkYXRlLCBvbkRlYWN0aXZhdGVkLCBvbkVycm9yQ2FwdHVyZWQsIG9uTW91bnRlZCwgb25SZW5kZXJUcmFja2VkLCBvblJlbmRlclRyaWdnZXJlZCwgb25TZXJ2ZXJQcmVmZXRjaCwgb25Vbm1vdW50ZWQsIG9uVXBkYXRlZCwgb3BlbkJsb2NrLCBwb3BTY29wZUlkLCBwcm92aWRlLCBwdXNoU2NvcGVJZCwgcXVldWVQb3N0Rmx1c2hDYiwgcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIsIHJlbmRlckxpc3QsIHJlbmRlclNsb3QsIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCByZXNvbHZlRmlsdGVyLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBzZXRCbG9ja1RyYWNraW5nLCBzZXREZXZ0b29sc0hvb2ssIHNldFRyYW5zaXRpb25Ib29rcywgc3NyQ29udGV4dEtleSwgc3NyVXRpbHMsIHRvSGFuZGxlcnMsIHRyYW5zZm9ybVZOb2RlQXJncywgdXNlQXR0cnMsIHVzZUlkLCB1c2VNb2RlbCwgdXNlU1NSQ29udGV4dCwgdXNlU2xvdHMsIHVzZVRlbXBsYXRlUmVmLCB1c2VUcmFuc2l0aW9uU3RhdGUsIHZlcnNpb24sIHdhcm4sIHdhdGNoLCB3YXRjaEVmZmVjdCwgd2F0Y2hQb3N0RWZmZWN0LCB3YXRjaFN5bmNFZmZlY3QsIHdpdGhBc3luY0NvbnRleHQsIHdpdGhDdHgsIHdpdGhEZWZhdWx0cywgd2l0aERpcmVjdGl2ZXMsIHdpdGhNZW1vLCB3aXRoU2NvcGVJZCB9O1xuIl0sIm5hbWVzIjpbInN0YWNrIiwiYXNzZXJ0TnVtYmVyIiwidmFsIiwidHlwZSIsIkVycm9yQ29kZXMiLCJjYWxsV2l0aEVycm9ySGFuZGxpbmciLCJmbiIsImluc3RhbmNlIiwiYXJncyIsImVyciIsImhhbmRsZUVycm9yIiwiY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmciLCJyZXMiLCJjYXRjaCIsInZhbHVlcyIsImkiLCJsZW5ndGgiLCJwdXNoIiwidGhyb3dJbkRldiIsInZub2RlIiwiZXJyb3JIYW5kbGVyIiwidGhyb3dVbmhhbmRsZWRFcnJvckluUHJvZHVjdGlvbiIsImFwcENvbnRleHQiLCJjb25maWciLCJjdXIiLCJwYXJlbnQiLCJleHBvc2VkSW5zdGFuY2UiLCJwcm94eSIsImVycm9ySW5mbyIsImVycm9yQ2FwdHVyZWRIb29rcyIsImVjIiwiY29udGV4dFZOb2RlIiwidGhyb3dJblByb2QiLCJjb25zb2xlIiwiZXJyb3IiLCJsb2dFcnJvciIsInF1ZXVlIiwiZmx1c2hJbmRleCIsInBlbmRpbmdQb3N0Rmx1c2hDYnMiLCJhY3RpdmVQb3N0Rmx1c2hDYnMiLCJwb3N0Rmx1c2hJbmRleCIsInJlc29sdmVkUHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiY3VycmVudEZsdXNoUHJvbWlzZSIsIm5leHRUaWNrIiwicCIsInRoZW4iLCJ0aGlzIiwiYmluZCIsInF1ZXVlSm9iIiwiam9iIiwiZmxhZ3MiLCJqb2JJZCIsImdldElkIiwibGFzdEpvYiIsInNwbGljZSIsImlkIiwic3RhcnQiLCJlbmQiLCJtaWRkbGUiLCJtaWRkbGVKb2IiLCJtaWRkbGVKb2JJZCIsImZpbmRJbnNlcnRpb25JbmRleCIsInF1ZXVlRmx1c2giLCJmbHVzaEpvYnMiLCJxdWV1ZVBvc3RGbHVzaENiIiwiY2IiLCJmbHVzaFByZUZsdXNoQ2JzIiwic2VlbiIsInVpZCIsImZsdXNoUG9zdEZsdXNoQ2JzIiwiZGVkdXBlZCIsIlNldCIsInNvcnQiLCJhIiwiYiIsIkluZmluaXR5IiwiZGV2dG9vbHMkMSIsImJ1ZmZlciIsImRldnRvb2xzTm90SW5zdGFsbGVkIiwiZW1pdCQxIiwiZXZlbnQiLCJlbWl0Iiwic2V0RGV2dG9vbHNIb29rJDEiLCJob29rIiwidGFyZ2V0IiwiX2EiLCJfYiIsImVuYWJsZWQiLCJmb3JFYWNoIiwid2luZG93IiwiSFRNTEVsZW1lbnQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmNsdWRlcyIsIl9fVlVFX0RFVlRPT0xTX0hPT0tfUkVQTEFZX18iLCJuZXdIb29rIiwic2V0VGltZW91dCIsImRldnRvb2xzQ29tcG9uZW50QWRkZWQiLCJjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2siLCJkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQiLCJfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkIiwiZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkIiwiY29tcG9uZW50IiwiY2xlYW51cEJ1ZmZlciIsImFwcCIsImN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSIsImN1cnJlbnRTY29wZUlkIiwic2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlIiwicHJldiIsIl9fc2NvcGVJZCIsInB1c2hTY29wZUlkIiwicG9wU2NvcGVJZCIsIndpdGhTY29wZUlkIiwiX2lkIiwid2l0aEN0eCIsImN0eCIsImlzTm9uU2NvcGVkU2xvdCIsIl9uIiwicmVuZGVyRm5XaXRoQ29udGV4dCIsIl9kIiwic2V0QmxvY2tUcmFja2luZyIsInByZXZJbnN0YW5jZSIsIl9jIiwid2l0aERpcmVjdGl2ZXMiLCJkaXJlY3RpdmVzIiwiZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2UiLCJiaW5kaW5ncyIsImRpcnMiLCJkaXIiLCJ2YWx1ZSIsImFyZyIsIm1vZGlmaWVycyIsIm1vdW50ZWQiLCJ1cGRhdGVkIiwiZGVlcCIsIm9sZFZhbHVlIiwiaW52b2tlRGlyZWN0aXZlSG9vayIsInByZXZWTm9kZSIsIm5hbWUiLCJvbGRCaW5kaW5ncyIsImJpbmRpbmciLCJlbCIsIlRlbGVwb3J0RW5kS2V5IiwiU3ltYm9sIiwiaXNUZWxlcG9ydCIsIl9faXNUZWxlcG9ydCIsImlzVGVsZXBvcnREaXNhYmxlZCIsInByb3BzIiwiZGlzYWJsZWQiLCJpc1RlbGVwb3J0RGVmZXJyZWQiLCJkZWZlciIsImlzVGFyZ2V0U1ZHIiwiU1ZHRWxlbWVudCIsImlzVGFyZ2V0TWF0aE1MIiwiTWF0aE1MRWxlbWVudCIsInJlc29sdmVUYXJnZXQiLCJzZWxlY3QiLCJ0YXJnZXRTZWxlY3RvciIsInRvIiwiVGVsZXBvcnRJbXBsIiwicHJvY2VzcyIsIm4xIiwibjIiLCJjb250YWluZXIiLCJhbmNob3IiLCJwYXJlbnRDb21wb25lbnQiLCJwYXJlbnRTdXNwZW5zZSIsIm5hbWVzcGFjZSIsInNsb3RTY29wZUlkcyIsIm9wdGltaXplZCIsImludGVybmFscyIsIm1jIiwibW91bnRDaGlsZHJlbiIsInBjIiwicGF0Y2hDaGlsZHJlbiIsInBiYyIsInBhdGNoQmxvY2tDaGlsZHJlbiIsIm8iLCJpbnNlcnQiLCJxdWVyeVNlbGVjdG9yIiwiY3JlYXRlVGV4dCIsImNyZWF0ZUNvbW1lbnQiLCJzaGFwZUZsYWciLCJjaGlsZHJlbiIsImR5bmFtaWNDaGlsZHJlbiIsInBsYWNlaG9sZGVyIiwibWFpbkFuY2hvciIsIm1vdW50IiwiY29udGFpbmVyMiIsImFuY2hvcjIiLCJpc0NFIiwiY2UiLCJfdGVsZXBvcnRUYXJnZXQiLCJtb3VudFRvVGFyZ2V0IiwidGFyZ2V0QW5jaG9yIiwicHJlcGFyZUFuY2hvciIsInVwZGF0ZUNzc1ZhcnMiLCJfX2lzTW91bnRlZCIsInF1ZXVlUG9zdFJlbmRlckVmZmVjdCIsInRhcmdldFN0YXJ0Iiwid2FzRGlzYWJsZWQiLCJjdXJyZW50Q29udGFpbmVyIiwiY3VycmVudEFuY2hvciIsInRyYXZlcnNlU3RhdGljQ2hpbGRyZW4iLCJtb3ZlVGVsZXBvcnQiLCJuZXh0VGFyZ2V0IiwicmVtb3ZlIiwidW0iLCJ1bm1vdW50IiwiaG9zdFJlbW92ZSIsImRvUmVtb3ZlIiwic2hvdWxkUmVtb3ZlIiwiY2hpbGQiLCJtb3ZlIiwiaHlkcmF0ZSIsIm5vZGUiLCJuZXh0U2libGluZyIsInBhcmVudE5vZGUiLCJoeWRyYXRlQ2hpbGRyZW4iLCJoeWRyYXRlRGlzYWJsZWRUZWxlcG9ydCIsIm5vZGUyIiwidm5vZGUyIiwidGFyZ2V0Tm9kZSIsIl9scGEiLCJmaXJzdENoaWxkIiwibm9kZVR5cGUiLCJkYXRhIiwicGFyZW50QW5jaG9yIiwibSIsIm1vdmVUeXBlIiwiaXNSZW9yZGVyIiwiVGVsZXBvcnQiLCJpc0Rpc2FibGVkIiwidXQiLCJzZXRBdHRyaWJ1dGUiLCJsZWF2ZUNiS2V5IiwiZW50ZXJDYktleSIsInVzZVRyYW5zaXRpb25TdGF0ZSIsInN0YXRlIiwiaXNNb3VudGVkIiwiaXNMZWF2aW5nIiwiaXNVbm1vdW50aW5nIiwibGVhdmluZ1ZOb2RlcyIsIk1hcCIsIm9uTW91bnRlZCIsIm9uQmVmb3JlVW5tb3VudCIsIlRyYW5zaXRpb25Ib29rVmFsaWRhdG9yIiwiRnVuY3Rpb24iLCJBcnJheSIsIkJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzIiwibW9kZSIsIlN0cmluZyIsImFwcGVhciIsIkJvb2xlYW4iLCJwZXJzaXN0ZWQiLCJvbkJlZm9yZUVudGVyIiwib25FbnRlciIsIm9uQWZ0ZXJFbnRlciIsIm9uRW50ZXJDYW5jZWxsZWQiLCJvbkJlZm9yZUxlYXZlIiwib25MZWF2ZSIsIm9uQWZ0ZXJMZWF2ZSIsIm9uTGVhdmVDYW5jZWxsZWQiLCJvbkJlZm9yZUFwcGVhciIsIm9uQXBwZWFyIiwib25BZnRlckFwcGVhciIsIm9uQXBwZWFyQ2FuY2VsbGVkIiwicmVjdXJzaXZlR2V0U3VidHJlZSIsInN1YlRyZWUiLCJmaW5kTm9uQ29tbWVudENoaWxkIiwiaGFzRm91bmQiLCJjIiwiQ29tbWVudCIsIkJhc2VUcmFuc2l0aW9uIiwic2V0dXAiLCJzbG90cyIsImdldEN1cnJlbnRJbnN0YW5jZSIsImRlZmF1bHQiLCJnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4iLCJyYXdQcm9wcyIsImVtcHR5UGxhY2Vob2xkZXIiLCJpbm5lckNoaWxkIiwiZ2V0SW5uZXJDaGlsZCQxIiwiZW50ZXJIb29rcyIsInJlc29sdmVUcmFuc2l0aW9uSG9va3MiLCJob29rcyIsInNldFRyYW5zaXRpb25Ib29rcyIsIm9sZElubmVyQ2hpbGQiLCJpc1NhbWVWTm9kZVR5cGUiLCJsZWF2aW5nSG9va3MiLCJhZnRlckxlYXZlIiwidXBkYXRlIiwiZGVsYXlMZWF2ZSIsImVhcmx5UmVtb3ZlIiwiZGVsYXllZExlYXZlIiwiZ2V0TGVhdmluZ05vZGVzRm9yVHlwZSIsImtleSIsImxlYXZpbmdWTm9kZXNDYWNoZSIsImdldCIsIk9iamVjdCIsImNyZWF0ZSIsInNldCIsInBvc3RDbG9uZSIsImNhbGxIb29rIiwiY2FsbEFzeW5jSG9vayIsImRvbmUiLCJldmVyeSIsImhvb2syIiwiYmVmb3JlRW50ZXIiLCJsZWF2aW5nVk5vZGUiLCJlbnRlciIsImFmdGVySG9vayIsImNhbmNlbEhvb2siLCJjYWxsZWQiLCJjYW5jZWxsZWQiLCJsZWF2ZSIsImtleTIiLCJjbG9uZSIsImhvb2tzMiIsImlzS2VlcEFsaXZlIiwiY2xvbmVWTm9kZSIsInRyYW5zaXRpb24iLCJzc0NvbnRlbnQiLCJzc0ZhbGxiYWNrIiwia2VlcENvbW1lbnQiLCJwYXJlbnRLZXkiLCJyZXQiLCJrZXllZEZyYWdtZW50Q291bnQiLCJGcmFnbWVudCIsInBhdGNoRmxhZyIsImNvbmNhdCIsImRlZmluZUNvbXBvbmVudCIsIm9wdGlvbnMiLCJleHRyYU9wdGlvbnMiLCJ1c2VJZCIsImlkUHJlZml4IiwiaWRzIiwibWFya0FzeW5jQm91bmRhcnkiLCJ1c2VUZW1wbGF0ZVJlZiIsInIiLCJyZWZzIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwicGVuZGluZ1NldFJlZk1hcCIsIldlYWtNYXAiLCJzZXRSZWYiLCJyYXdSZWYiLCJvbGRSYXdSZWYiLCJpc1VubW91bnQiLCJpc0FzeW5jV3JhcHBlciIsIl9fYXN5bmNSZXNvbHZlZCIsInJlZlZhbHVlIiwib3duZXIiLCJyZWYiLCJvbGRSZWYiLCJzZXR1cFN0YXRlIiwicmF3U2V0dXBTdGF0ZSIsImNhblNldFNldHVwUmVmIiwiTk8iLCJpbnZhbGlkYXRlUGVuZGluZ1NldFJlZiIsIm9sZFJhd1JlZkF0b20iLCJrIiwiX2lzU3RyaW5nIiwiX2lzUmVmIiwiZG9TZXQiLCJmIiwiZXhpc3RpbmciLCJuZXdWYWwiLCJkZWxldGUiLCJwZW5kaW5nU2V0UmVmIiwiaGFzTG9nZ2VkTWlzbWF0Y2hFcnJvciIsImxvZ01pc21hdGNoRXJyb3IiLCJnZXRDb250YWluZXJUeXBlIiwibmFtZXNwYWNlVVJJIiwidGFnTmFtZSIsImlzU1ZHQ29udGFpbmVyIiwiaXNNYXRoTUxDb250YWluZXIiLCJpc0NvbW1lbnQiLCJjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMiLCJyZW5kZXJlckludGVybmFscyIsIm10IiwibW91bnRDb21wb25lbnQiLCJwYXRjaCIsInBhdGNoUHJvcCIsImh5ZHJhdGVOb2RlIiwiaXNGcmFnbWVudFN0YXJ0Iiwib25NaXNtYXRjaCIsImhhbmRsZU1pc21hdGNoIiwiZG9tVHlwZSIsIm5leHROb2RlIiwiVGV4dCIsImlzVGVtcGxhdGVOb2RlIiwicmVwbGFjZU5vZGUiLCJjb250ZW50IiwiU3RhdGljIiwibmVlZFRvQWRvcHRDb250ZW50Iiwic3RhdGljQ291bnQiLCJvdXRlckhUTUwiLCJoeWRyYXRlRnJhZ21lbnQiLCJ0b0xvd2VyQ2FzZSIsImh5ZHJhdGVFbGVtZW50IiwibG9jYXRlQ2xvc2luZ0FuY2hvciIsImNyZWF0ZVZOb2RlIiwicHJldmlvdXNTaWJsaW5nIiwibGFzdENoaWxkIiwiY3JlYXRlVGV4dFZOb2RlIiwiZm9yY2VQYXRjaCIsInZub2RlSG9va3MiLCJuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyIsIm5lZWRUcmFuc2l0aW9uIiwiY2xzIiwiZ2V0QXR0cmlidXRlIiwiJGNscyIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwibmV4dCIsImlzTWlzbWF0Y2hBbGxvd2VkIiwiY2xpZW50VGV4dCIsInNsaWNlIiwiaXNDdXN0b21FbGVtZW50IiwiZW5kc1dpdGgiLCJvbkNsaWNrIiwic3R5bGUiLCJvblZub2RlQmVmb3JlTW91bnQiLCJpbnZva2VWTm9kZUhvb2siLCJvblZub2RlTW91bnRlZCIsInF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlIiwicGFyZW50Vk5vZGUiLCJsIiwibm9ybWFsaXplVk5vZGUiLCJpc1RleHQiLCJmcmFnbWVudFNsb3RTY29wZUlkcyIsImlzRnJhZ21lbnQiLCJwYXJlbnRFbGVtZW50IiwibmV4dDIiLCJ1cGRhdGVIT0NIb3N0RWwiLCJvcGVuIiwiY2xvc2UiLCJtYXRjaCIsIm5ld05vZGUiLCJvbGROb2RlIiwicGFyZW50Tm9kZTIiLCJyZXBsYWNlQ2hpbGQiLCJoYXNDaGlsZE5vZGVzIiwiX3Zub2RlIiwiYWxsb3dNaXNtYXRjaEF0dHIiLCJNaXNtYXRjaFR5cGVTdHJpbmciLCJhbGxvd2VkVHlwZSIsImhhc0F0dHJpYnV0ZSIsImFsbG93ZWRBdHRyIiwibGlzdCIsInNwbGl0IiwicmVxdWVzdElkbGVDYWxsYmFjayIsImNhbmNlbElkbGVDYWxsYmFjayIsImNsZWFyVGltZW91dCIsImh5ZHJhdGVPbklkbGUiLCJ0aW1lb3V0IiwiaHlkcmF0ZU9uVmlzaWJsZSIsIm9wdHMiLCJvYiIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsImUiLCJpc0ludGVyc2VjdGluZyIsImRpc2Nvbm5lY3QiLCJFbGVtZW50IiwidG9wIiwibGVmdCIsImJvdHRvbSIsInJpZ2h0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwiZWxlbWVudElzVmlzaWJsZUluVmlld3BvcnQiLCJvYnNlcnZlIiwiaHlkcmF0ZU9uTWVkaWFRdWVyeSIsInF1ZXJ5IiwibXFsIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoeWRyYXRlT25JbnRlcmFjdGlvbiIsImludGVyYWN0aW9ucyIsImhhc0h5ZHJhdGVkIiwiZG9IeWRyYXRlIiwidGVhcmRvd24iLCJkaXNwYXRjaEV2ZW50IiwiY29uc3RydWN0b3IiLCJfX2FzeW5jTG9hZGVyIiwiZGVmaW5lQXN5bmNDb21wb25lbnQiLCJzb3VyY2UiLCJsb2FkZXIiLCJsb2FkaW5nQ29tcG9uZW50IiwiZXJyb3JDb21wb25lbnQiLCJkZWxheSIsImh5ZHJhdGVTdHJhdGVneSIsInN1c3BlbnNpYmxlIiwib25FcnJvciIsInVzZXJPbkVycm9yIiwicmVzb2x2ZWRDb21wIiwicGVuZGluZ1JlcXVlc3QiLCJyZXRyaWVzIiwibG9hZCIsInRoaXNSZXF1ZXN0IiwiRXJyb3IiLCJyZWplY3QiLCJjb21wIiwiX19lc01vZHVsZSIsInRvU3RyaW5nVGFnIiwiX19hc3luY0h5ZHJhdGUiLCJwYXRjaGVkIiwiYnUiLCJwZXJmb3JtSHlkcmF0ZSIsImRlcHRoIiwiZm9yRWFjaEVsZW1lbnQiLCJidW0iLCJpc1VubW91bnRlZCIsImN1cnJlbnRJbnN0YW5jZSIsImNyZWF0ZUlubmVyQ29tcCIsInN1c3BlbnNlIiwiaXNJblNTUkNvbXBvbmVudFNldHVwIiwibG9hZGVkIiwiZGVsYXllZCIsInJlZjIiLCJfX2lzS2VlcEFsaXZlIiwiS2VlcEFsaXZlIiwiaW5jbHVkZSIsIlJlZ0V4cCIsImV4Y2x1ZGUiLCJtYXgiLCJOdW1iZXIiLCJzaGFyZWRDb250ZXh0IiwicmVuZGVyZXIiLCJjYWNoZSIsImtleXMiLCJjdXJyZW50IiwiX192X2NhY2hlIiwiX3VubW91bnQiLCJjcmVhdGVFbGVtZW50Iiwic3RvcmFnZUNvbnRhaW5lciIsInJlc2V0U2hhcGVGbGFnIiwicHJ1bmVDYWNoZSIsImZpbHRlciIsImdldENvbXBvbmVudE5hbWUiLCJwcnVuZUNhY2hlRW50cnkiLCJjYWNoZWQiLCJhY3RpdmF0ZSIsImluc3RhbmNlMiIsImlzRGVhY3RpdmF0ZWQiLCJ2bm9kZUhvb2siLCJkZWFjdGl2YXRlIiwiaW52YWxpZGF0ZU1vdW50IiwiZGEiLCJvblZub2RlVW5tb3VudGVkIiwid2F0Y2giLCJmbHVzaCIsInBlbmRpbmdDYWNoZUtleSIsImNhY2hlU3VidHJlZSIsImlzU3VzcGVuc2UiLCJnZXRJbm5lckNoaWxkIiwib25VcGRhdGVkIiwicmF3Vk5vZGUiLCJpc1ZOb2RlIiwiY2FjaGVkVk5vZGUiLCJhZGQiLCJzaXplIiwicGFyc2VJbnQiLCJwYXR0ZXJuIiwic29tZSIsImxhc3RJbmRleCIsInRlc3QiLCJvbkFjdGl2YXRlZCIsInJlZ2lzdGVyS2VlcEFsaXZlSG9vayIsIm9uRGVhY3RpdmF0ZWQiLCJ3cmFwcGVkSG9vayIsIl9fd2RjIiwiaW5qZWN0SG9vayIsImluamVjdFRvS2VlcEFsaXZlUm9vdCIsImtlZXBBbGl2ZVJvb3QiLCJpbmplY3RlZCIsIm9uVW5tb3VudGVkIiwicHJlcGVuZCIsIl9fd2VoIiwicmVzZXQiLCJzZXRDdXJyZW50SW5zdGFuY2UiLCJ1bnNoaWZ0IiwiY3JlYXRlSG9vayIsImxpZmVjeWNsZSIsIm9uQmVmb3JlTW91bnQiLCJvbkJlZm9yZVVwZGF0ZSIsIm9uU2VydmVyUHJlZmV0Y2giLCJvblJlbmRlclRyaWdnZXJlZCIsIm9uUmVuZGVyVHJhY2tlZCIsIm9uRXJyb3JDYXB0dXJlZCIsIkNPTVBPTkVOVFMiLCJESVJFQ1RJVkVTIiwicmVzb2x2ZUNvbXBvbmVudCIsIm1heWJlU2VsZlJlZmVyZW5jZSIsInJlc29sdmVBc3NldCIsIk5VTExfRFlOQU1JQ19DT01QT05FTlQiLCJmb3IiLCJyZXNvbHZlRHluYW1pY0NvbXBvbmVudCIsInJlc29sdmVEaXJlY3RpdmUiLCJ3YXJuTWlzc2luZyIsIkNvbXBvbmVudCIsInNlbGZOYW1lIiwicmVnaXN0cnkiLCJyZW5kZXJMaXN0IiwicmVuZGVySXRlbSIsImluZGV4Iiwic291cmNlSXNBcnJheSIsIm5lZWRzV3JhcCIsImlzUmVhZG9ubHlTb3VyY2UiLCJpdGVyYXRvciIsImZyb20iLCJpdGVtIiwiY3JlYXRlU2xvdHMiLCJkeW5hbWljU2xvdHMiLCJzbG90IiwiaiIsInJlbmRlclNsb3QiLCJmYWxsYmFjayIsIm5vU2xvdHRlZCIsIm9wZW5CbG9jayIsImNyZWF0ZUJsb2NrIiwidmFsaWRTbG90Q29udGVudCIsImVuc3VyZVZhbGlkVk5vZGUiLCJzbG90S2V5IiwicmVuZGVyZWQiLCJfIiwic2NvcGVJZCIsInZub2RlcyIsInRvSGFuZGxlcnMiLCJvYmoiLCJwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSIsImdldFB1YmxpY0luc3RhbmNlIiwiaXNTdGF0ZWZ1bENvbXBvbmVudCIsInB1YmxpY1Byb3BlcnRpZXNNYXAiLCIkIiwiJGVsIiwiJGRhdGEiLCIkcHJvcHMiLCIkYXR0cnMiLCJhdHRycyIsIiRzbG90cyIsIiRyZWZzIiwiJHBhcmVudCIsIiRyb290Iiwicm9vdCIsIiRob3N0IiwiJGVtaXQiLCIkb3B0aW9ucyIsInJlc29sdmVNZXJnZWRPcHRpb25zIiwiJGZvcmNlVXBkYXRlIiwiJG5leHRUaWNrIiwibiIsIiR3YXRjaCIsImluc3RhbmNlV2F0Y2giLCJoYXNTZXR1cEJpbmRpbmciLCJfX2lzU2NyaXB0U2V0dXAiLCJQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJhY2Nlc3NDYWNoZSIsIm5vcm1hbGl6ZWRQcm9wcyIsInByb3BzT3B0aW9ucyIsInNob3VsZENhY2hlQWNjZXNzIiwicHVibGljR2V0dGVyIiwiY3NzTW9kdWxlIiwiZ2xvYmFsUHJvcGVydGllcyIsIl9fY3NzTW9kdWxlcyIsImhhcyIsImNzc01vZHVsZXMiLCJkZXNjcmlwdG9yIiwiUmVmbGVjdCIsIlJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyIsInVuc2NvcGFibGVzIiwiZGVmaW5lUHJvcHMiLCJkZWZpbmVFbWl0cyIsImRlZmluZUV4cG9zZSIsImV4cG9zZWQiLCJkZWZpbmVPcHRpb25zIiwiZGVmaW5lU2xvdHMiLCJkZWZpbmVNb2RlbCIsIndpdGhEZWZhdWx0cyIsImRlZmF1bHRzIiwidXNlU2xvdHMiLCJnZXRDb250ZXh0IiwidXNlQXR0cnMiLCJjYWxsZWRGdW5jdGlvbk5hbWUiLCJzZXR1cENvbnRleHQiLCJjcmVhdGVTZXR1cENvbnRleHQiLCJub3JtYWxpemVQcm9wc09yRW1pdHMiLCJyZWR1Y2UiLCJub3JtYWxpemVkIiwibWVyZ2VEZWZhdWx0cyIsInJhdyIsInN0YXJ0c1dpdGgiLCJvcHQiLCJza2lwRmFjdG9yeSIsIm1lcmdlTW9kZWxzIiwiY3JlYXRlUHJvcHNSZXN0UHJveHkiLCJleGNsdWRlZEtleXMiLCJ3aXRoQXN5bmNDb250ZXh0IiwiZ2V0QXdhaXRhYmxlIiwiYXdhaXRhYmxlIiwidW5zZXRDdXJyZW50SW5zdGFuY2UiLCJtYXAiLCJoIiwiY3JlYXRlV2F0Y2hlciIsInB1YmxpY1RoaXMiLCJnZXR0ZXIiLCJjcmVhdGVQYXRoR2V0dGVyIiwiaGFuZGxlciIsImJhc2UiLCJtaXhpbnMiLCJleHRlbmRzIiwiZXh0ZW5kc09wdGlvbnMiLCJnbG9iYWxNaXhpbnMiLCJvcHRpb25zQ2FjaGUiLCJvcHRpb25NZXJnZVN0cmF0ZWdpZXMiLCJyZXNvbHZlZCIsIm1lcmdlT3B0aW9ucyIsInN0cmF0cyIsImFzTWl4aW4iLCJzdHJhdCIsImludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMiLCJtZXJnZURhdGFGbiIsIm1lcmdlRW1pdHNPclByb3BzT3B0aW9ucyIsImVtaXRzIiwibWV0aG9kcyIsIm1lcmdlT2JqZWN0T3B0aW9ucyIsImNvbXB1dGVkIiwiYmVmb3JlQ3JlYXRlIiwibWVyZ2VBc0FycmF5IiwiY3JlYXRlZCIsImJlZm9yZU1vdW50IiwiYmVmb3JlVXBkYXRlIiwiYmVmb3JlRGVzdHJveSIsImJlZm9yZVVubW91bnQiLCJkZXN0cm95ZWQiLCJ1bm1vdW50ZWQiLCJhY3RpdmF0ZWQiLCJkZWFjdGl2YXRlZCIsImVycm9yQ2FwdHVyZWQiLCJzZXJ2ZXJQcmVmZXRjaCIsImNvbXBvbmVudHMiLCJtZXJnZWQiLCJwcm92aWRlIiwiaW5qZWN0Iiwibm9ybWFsaXplSW5qZWN0IiwiY2FsbCIsImNyZWF0ZUFwcENvbnRleHQiLCJpc05hdGl2ZVRhZyIsInBlcmZvcm1hbmNlIiwid2FybkhhbmRsZXIiLCJjb21waWxlck9wdGlvbnMiLCJwcm92aWRlcyIsInByb3BzQ2FjaGUiLCJlbWl0c0NhY2hlIiwidWlkJDEiLCJjcmVhdGVBcHBBUEkiLCJyZW5kZXIiLCJyb290Q29tcG9uZW50Iiwicm9vdFByb3BzIiwiY29udGV4dCIsImluc3RhbGxlZFBsdWdpbnMiLCJXZWFrU2V0IiwicGx1Z2luQ2xlYW51cEZucyIsIl91aWQiLCJfY29tcG9uZW50IiwiX3Byb3BzIiwiX2NvbnRhaW5lciIsIl9jb250ZXh0IiwiX2luc3RhbmNlIiwidmVyc2lvbiIsInYiLCJ1c2UiLCJwbHVnaW4iLCJpbnN0YWxsIiwibWl4aW4iLCJkaXJlY3RpdmUiLCJyb290Q29udGFpbmVyIiwiaXNIeWRyYXRlIiwiX2NlVk5vZGUiLCJfX3Z1ZV9hcHBfXyIsImRldnRvb2xzSW5pdEFwcCIsIm9uVW5tb3VudCIsImNsZWFudXBGbiIsImRldnRvb2xzVW5tb3VudEFwcCIsInJ1bldpdGhDb250ZXh0IiwibGFzdEFwcCIsImN1cnJlbnRBcHAiLCJwYXJlbnRQcm92aWRlcyIsImRlZmF1bHRWYWx1ZSIsInRyZWF0RGVmYXVsdEFzRmFjdG9yeSIsImFyZ3VtZW50cyIsImhhc0luamVjdGlvbkNvbnRleHQiLCJpbnRlcm5hbE9iamVjdFByb3RvIiwiY3JlYXRlSW50ZXJuYWxPYmplY3QiLCJpc0ludGVybmFsT2JqZWN0IiwiZ2V0UHJvdG90eXBlT2YiLCJzZXRGdWxsUHJvcHMiLCJuZWVkQ2FzdEtleXMiLCJyYXdDYXN0VmFsdWVzIiwiaGFzQXR0cnNDaGFuZ2VkIiwiY2FtZWxLZXkiLCJpc0VtaXRMaXN0ZW5lciIsImVtaXRzT3B0aW9ucyIsInJhd0N1cnJlbnRQcm9wcyIsImNhc3RWYWx1ZXMiLCJyZXNvbHZlUHJvcFZhbHVlIiwiaXNBYnNlbnQiLCJoYXNEZWZhdWx0IiwicHJvcHNEZWZhdWx0cyIsIl9zZXRQcm9wIiwibWl4aW5Qcm9wc0NhY2hlIiwibm9ybWFsaXplUHJvcHNPcHRpb25zIiwiaGFzRXh0ZW5kcyIsImV4dGVuZFByb3BzIiwicmF3MiIsIm5vcm1hbGl6ZWRLZXkiLCJ2YWxpZGF0ZVByb3BOYW1lIiwicHJvcCIsInByb3BUeXBlIiwic2hvdWxkQ2FzdCIsInNob3VsZENhc3RUcnVlIiwidHlwZU5hbWUiLCJpc0ludGVybmFsS2V5Iiwibm9ybWFsaXplU2xvdFZhbHVlIiwibm9ybWFsaXplU2xvdCIsInJhd1Nsb3QiLCJub3JtYWxpemVPYmplY3RTbG90cyIsInJhd1Nsb3RzIiwiX2N0eCIsIm5vcm1hbGl6ZVZOb2RlU2xvdHMiLCJhc3NpZ25TbG90cyIsImluaXRTbG90cyIsInVwZGF0ZVNsb3RzIiwibmVlZERlbGV0aW9uQ2hlY2siLCJkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQiLCIkc3RhYmxlIiwiY3JlYXRlUmVuZGVyZXIiLCJiYXNlQ3JlYXRlUmVuZGVyZXIiLCJjcmVhdGVIeWRyYXRpb25SZW5kZXJlciIsImNyZWF0ZUh5ZHJhdGlvbkZucyIsIl9fVlVFX18iLCJfX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fIiwiaG9zdEluc2VydCIsImhvc3RQYXRjaFByb3AiLCJob3N0Q3JlYXRlRWxlbWVudCIsImhvc3RDcmVhdGVUZXh0IiwiaG9zdENyZWF0ZUNvbW1lbnQiLCJzZXRUZXh0IiwiaG9zdFNldFRleHQiLCJzZXRFbGVtZW50VGV4dCIsImhvc3RTZXRFbGVtZW50VGV4dCIsImhvc3RQYXJlbnROb2RlIiwiaG9zdE5leHRTaWJsaW5nIiwic2V0U2NvcGVJZCIsImhvc3RTZXRTY29wZUlkIiwiaW5zZXJ0U3RhdGljQ29udGVudCIsImhvc3RJbnNlcnRTdGF0aWNDb250ZW50IiwiZ2V0TmV4dEhvc3ROb2RlIiwicHJvY2Vzc1RleHQiLCJwcm9jZXNzQ29tbWVudE5vZGUiLCJtb3VudFN0YXRpY05vZGUiLCJwcm9jZXNzRnJhZ21lbnQiLCJwcm9jZXNzRWxlbWVudCIsInByb2Nlc3NDb21wb25lbnQiLCJtb3VudEVsZW1lbnQiLCJwYXRjaEVsZW1lbnQiLCJpcyIsInJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSIsImNsb25lSWZNb3VudGVkIiwiX192bm9kZSIsIm9sZFByb3BzIiwibmV3UHJvcHMiLCJ0b2dnbGVSZWN1cnNlIiwib25Wbm9kZUJlZm9yZVVwZGF0ZSIsInBhdGNoUHJvcHMiLCJjbGFzcyIsInByb3BzVG9VcGRhdGUiLCJkeW5hbWljUHJvcHMiLCJvblZub2RlVXBkYXRlZCIsIm9sZENoaWxkcmVuIiwibmV3Q2hpbGRyZW4iLCJmYWxsYmFja0NvbnRhaW5lciIsIm9sZFZOb2RlIiwibmV3Vk5vZGUiLCJmcmFnbWVudFN0YXJ0QW5jaG9yIiwiZnJhZ21lbnRFbmRBbmNob3IiLCJ1cGRhdGVDb21wb25lbnQiLCJpbml0aWFsVk5vZGUiLCJjcmVhdGVDb21wb25lbnRJbnN0YW5jZSIsInNldHVwQ29tcG9uZW50IiwiYXN5bmNEZXAiLCJyZWdpc3RlckRlcCIsInNldHVwUmVuZGVyRWZmZWN0IiwibmV4dFZOb2RlIiwicHJldlByb3BzIiwicHJldkNoaWxkcmVuIiwibmV4dFByb3BzIiwibmV4dENoaWxkcmVuIiwiaGFzUHJvcHNDaGFuZ2VkIiwic2hvdWxkVXBkYXRlQ29tcG9uZW50IiwiYXN5bmNSZXNvbHZlZCIsInVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciIsImNvbXBvbmVudFVwZGF0ZUZuIiwidSIsIm5vbkh5ZHJhdGVkQXN5bmNSb290IiwibG9jYXRlTm9uSHlkcmF0ZWRBc3luY1Jvb3QiLCJvcmlnaW5OZXh0IiwibmV4dFRyZWUiLCJyZW5kZXJDb21wb25lbnRSb290IiwicHJldlRyZWUiLCJibSIsImlzQXN5bmNXcmFwcGVyVk5vZGUiLCJoeWRyYXRlU3ViVHJlZSIsIl9kZWYiLCJzaGFkb3dSb290IiwiX2luamVjdENoaWxkU3R5bGUiLCJzY29wZWRJbml0aWFsVk5vZGUiLCJzY29wZSIsIm9uIiwiZWZmZWN0Iiwib2ZmIiwicnVuIiwicnVuSWZEaXJ0eSIsInNjaGVkdWxlciIsInJhd1ByZXZQcm9wcyIsImtlYmFiS2V5IiwiY2FtZWxpemVkS2V5IiwidXBkYXRlUHJvcHMiLCJjMSIsInByZXZTaGFwZUZsYWciLCJjMiIsInBhdGNoS2V5ZWRDaGlsZHJlbiIsInBhdGNoVW5rZXllZENoaWxkcmVuIiwidW5tb3VudENoaWxkcmVuIiwib2xkTGVuZ3RoIiwibmV3TGVuZ3RoIiwiY29tbW9uTGVuZ3RoIiwiTWF0aCIsIm1pbiIsIm5leHRDaGlsZCIsImwyIiwiZTEiLCJlMiIsIm5leHRQb3MiLCJzMSIsInMyIiwia2V5VG9OZXdJbmRleE1hcCIsInRvQmVQYXRjaGVkIiwibW92ZWQiLCJtYXhOZXdJbmRleFNvRmFyIiwibmV3SW5kZXhUb09sZEluZGV4TWFwIiwicHJldkNoaWxkIiwibmV3SW5kZXgiLCJpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZSIsImFyciIsInJlc3VsdCIsImxlbiIsImFyckkiLCJnZXRTZXF1ZW5jZSIsIm5leHRJbmRleCIsImFuY2hvclZOb2RlIiwicmVtb3ZlMiIsInBlcmZvcm1MZWF2ZSIsIl9pc0xlYXZpbmciLCJtb3ZlU3RhdGljTm9kZSIsImNhY2hlSW5kZXgiLCJyZW5kZXJDYWNoZSIsInNob3VsZEludm9rZURpcnMiLCJzaG91bGRJbnZva2VWbm9kZUhvb2siLCJvblZub2RlQmVmb3JlVW5tb3VudCIsInVubW91bnRDb21wb25lbnQiLCJoYXNPbmNlIiwicmVtb3ZlRnJhZ21lbnQiLCJyZW1vdmVTdGF0aWNOb2RlIiwicGVyZm9ybVJlbW92ZSIsInN0b3AiLCJ0ZWxlcG9ydEVuZCIsImlzRmx1c2hpbmciLCJjcmVhdGVBcHAiLCJjdXJyZW50TmFtZXNwYWNlIiwiZW5jb2RpbmciLCJhbGxvd2VkIiwicGVuZGluZ0JyYW5jaCIsInNoYWxsb3ciLCJjaDEiLCJjaDIiLCJzdWJDb21wb25lbnQiLCJzc3JDb250ZXh0S2V5IiwidXNlU1NSQ29udGV4dCIsIndhdGNoRWZmZWN0IiwiZG9XYXRjaCIsIndhdGNoUG9zdEVmZmVjdCIsIndhdGNoU3luY0VmZmVjdCIsImltbWVkaWF0ZSIsImJhc2VXYXRjaE9wdGlvbnMiLCJydW5zSW1tZWRpYXRlbHkiLCJzc3JDbGVhbnVwIiwiX193YXRjaGVySGFuZGxlcyIsIndhdGNoU3RvcEhhbmRsZSIsInJlc3VtZSIsInBhdXNlIiwiaXNQcmUiLCJpc0ZpcnN0UnVuIiwiYXVnbWVudEpvYiIsIndhdGNoSGFuZGxlIiwicGF0aCIsInNlZ21lbnRzIiwidXNlTW9kZWwiLCJjYW1lbGl6ZWROYW1lIiwiaHlwaGVuYXRlZE5hbWUiLCJnZXRNb2RlbE1vZGlmaWVycyIsInRyYWNrIiwidHJpZ2dlciIsImxvY2FsVmFsdWUiLCJwcmV2RW1pdHRlZFZhbHVlIiwicHJldlNldFZhbHVlIiwicHJvcFZhbHVlIiwiZW1pdHRlZFZhbHVlIiwiaTIiLCJtb2RlbE5hbWUiLCJtb2RlbE1vZGlmaWVycyIsInJhd0FyZ3MiLCJpc01vZGVsTGlzdGVuZXIiLCJoYW5kbGVyTmFtZSIsInRyaW0iLCJudW1iZXIiLCJwYXJhbXMiLCJkZXZ0b29sc0NvbXBvbmVudEVtaXQiLCJvbmNlSGFuZGxlciIsImVtaXR0ZWQiLCJtaXhpbkVtaXRzQ2FjaGUiLCJub3JtYWxpemVFbWl0c09wdGlvbnMiLCJleHRlbmRFbWl0cyIsIm5vcm1hbGl6ZWRGcm9tRXh0ZW5kIiwicmVwbGFjZSIsIndpdGhQcm94eSIsImluaGVyaXRBdHRycyIsImZhbGx0aHJvdWdoQXR0cnMiLCJwcm94eVRvVXNlIiwidGhpc1Byb3h5IiwicmVuZGVyMiIsImdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCIsImJsb2NrU3RhY2siLCJmaWx0ZXJNb2RlbExpc3RlbmVycyIsIm5leHRLZXlzIiwiYWN0aXZlQnJhbmNoIiwiX19pc1N1c3BlbnNlIiwic3VzcGVuc2VJZCIsIlN1c3BlbnNlIiwiaGlkZGVuQ29udGFpbmVyIiwiY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSIsImRlcHMiLCJ0cmlnZ2VyRXZlbnQiLCJzZXRBY3RpdmVCcmFuY2giLCJtb3VudFN1c3BlbnNlIiwiaXNJbkZhbGxiYWNrIiwibmV3QnJhbmNoIiwibmV3RmFsbGJhY2siLCJpc0h5ZHJhdGluZyIsInBlbmRpbmdJZCIsImVmZmVjdHMiLCJwYXRjaFN1c3BlbnNlIiwiZG9jdW1lbnQiLCJub3JtYWxpemUiLCJpc1Nsb3RDaGlsZHJlbiIsIm5vcm1hbGl6ZVN1c3BlbnNlU2xvdCIsImV2ZW50TGlzdGVuZXIiLCJwYXJlbnRTdXNwZW5zZUlkIiwiaXNTdXNwZW5zaWJsZSIsImlzVk5vZGVTdXNwZW5zaWJsZSIsImluaXRpYWxBbmNob3IiLCJzeW5jIiwicGFyZW50Q29tcG9uZW50MiIsImRlbGF5RW50ZXIiLCJoYXNVbnJlc29sdmVkQW5jZXN0b3IiLCJmYWxsYmFja1ZOb2RlIiwibmFtZXNwYWNlMiIsIm1vdW50RmFsbGJhY2siLCJvcHRpbWl6ZWQyIiwiaXNJblBlbmRpbmdTdXNwZW5zZSIsImh5ZHJhdGVkRWwiLCJhc3luY1NldHVwUmVzdWx0IiwiaGFuZGxlU2V0dXBSZXN1bHQiLCJwYXJlbnRTdXNwZW5zZTIiLCJzIiwiYmxvY2siLCJ0cmFja0Jsb2NrIiwiaXNCbG9ja1RyZWVFbmFibGVkIiwiY3VycmVudEJsb2NrIiwiY2xvc2VCbG9jayIsInNpbmdsZUNoaWxkIiwic2luZ2xlUm9vdCIsImZpbHRlclNpbmdsZVJvb3QiLCJicmFuY2giLCJkaXNhYmxlVHJhY2tpbmciLCJwb3AiLCJ2bm9kZUFyZ3NUcmFuc2Zvcm1lciIsImluVk9uY2UiLCJzZXR1cEJsb2NrIiwiY3JlYXRlRWxlbWVudEJsb2NrIiwiY3JlYXRlQmFzZVZOb2RlIiwiX192X2lzVk5vZGUiLCJ0cmFuc2Zvcm1WTm9kZUFyZ3MiLCJ0cmFuc2Zvcm1lciIsIm5vcm1hbGl6ZUtleSIsIm5vcm1hbGl6ZVJlZiIsInJlZl9rZXkiLCJyZWZfZm9yIiwiaXNCbG9ja05vZGUiLCJuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbiIsIl9fdl9za2lwIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJjbG9uZWQiLCJpbmRleE9mIiwiX192Y2NPcHRzIiwiZ3VhcmRSZWFjdGl2ZVByb3BzIiwia2xhc3MiLCJleHRyYVByb3BzIiwibWVyZ2VSZWYiLCJjbG9uZVRyYW5zaXRpb24iLCJtZXJnZWRQcm9wcyIsIm1lcmdlUHJvcHMiLCJ0ZXh0IiwiZmxhZyIsImNyZWF0ZVN0YXRpY1ZOb2RlIiwibnVtYmVyT2ZOb2RlcyIsImNyZWF0ZUNvbW1lbnRWTm9kZSIsImFzQmxvY2siLCJtZW1vIiwic2xvdEZsYWciLCJ0b01lcmdlIiwiaW5jb21pbmciLCJlbXB0eUFwcENvbnRleHQiLCJleHBvc2VQcm94eSIsImJjIiwicnRnIiwicnRjIiwic3AiLCJpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZSIsInNldEluU1NSU2V0dXBTdGF0ZSIsImciLCJyZWdpc3Rlckdsb2JhbFNldHRlciIsInNldHRlciIsInNldHRlcnMiLCJjb21waWxlIiwiaW5zdGFsbFdpdGhQcm94eSIsImlzU1NSIiwiaXNTdGF0ZWZ1bCIsImluaXRQcm9wcyIsInNldHVwUmVzdWx0IiwiUHJveHkiLCJpc0FzeW5jU2V0dXAiLCJyZXNvbHZlZFJlc3VsdCIsImZpbmlzaENvbXBvbmVudFNldHVwIiwic2V0dXBTdGF0ZWZ1bENvbXBvbmVudCIsIl9fc3NySW5saW5lUmVuZGVyIiwic3NyUmVuZGVyIiwiZGV2dG9vbHNSYXdTZXR1cFN0YXRlIiwicmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIiLCJfY29tcGlsZSIsIl9yYyIsImlzUnVudGltZU9ubHkiLCJza2lwT3B0aW9ucyIsInRlbXBsYXRlIiwiZGVsaW1pdGVycyIsImNvbXBvbmVudENvbXBpbGVyT3B0aW9ucyIsImZpbmFsQ29tcGlsZXJPcHRpb25zIiwiZGF0YU9wdGlvbnMiLCJjb21wdXRlZE9wdGlvbnMiLCJ3YXRjaE9wdGlvbnMiLCJwcm92aWRlT3B0aW9ucyIsImluamVjdE9wdGlvbnMiLCJyZW5kZXJUcmFja2VkIiwicmVuZGVyVHJpZ2dlcmVkIiwiZXhwb3NlIiwiZmlsdGVycyIsImNvbmZpZ3VyYWJsZSIsInJlc29sdmVJbmplY3Rpb25zIiwibWV0aG9kSGFuZGxlciIsIm93bktleXMiLCJyZWdpc3RlckxpZmVjeWNsZUhvb2siLCJyZWdpc3RlciIsIl9ob29rIiwiYXBwbHlPcHRpb25zIiwiYXR0cnNQcm94eUhhbmRsZXJzIiwiaW5jbHVkZUluZmVycmVkIiwiZGlzcGxheU5hbWUiLCJfX25hbWUiLCJnZXR0ZXJPck9wdGlvbnMiLCJkZWJ1Z09wdGlvbnMiLCJwcm9wc09yQ2hpbGRyZW4iLCJkb0NyZWF0ZVZOb2RlIiwidHlwZTIiLCJjaGlsZHJlbjIiLCJwcm90b3R5cGUiLCJpbml0Q3VzdG9tRm9ybWF0dGVyIiwid2l0aE1lbW8iLCJpc01lbW9TYW1lIiwid2FybiIsIkVycm9yVHlwZVN0cmluZ3MiLCJkZXZ0b29scyIsInNldERldnRvb2xzSG9vayIsInNzclV0aWxzIiwicHVzaFdhcm5pbmdDb250ZXh0IiwicG9wV2FybmluZ0NvbnRleHQiLCJyZXNvbHZlRmlsdGVyIiwiY29tcGF0VXRpbHMiLCJEZXByZWNhdGlvblR5cGVzIl0sInNvdXJjZVJvb3QiOiIifQ==