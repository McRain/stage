"use strict";(self.webpackChunk_reneos_slider_editor=self.webpackChunk_reneos_slider_editor||[]).push([[415],{1291:(e,t,n)=>{e.exports=n.p+"assets/76bf5ab841899c419d06.svg"},2958:(e,t,n)=>{n.d(t,{A:()=>g});var a=n(2015);const s={class:"app-container canvas-container"},o={class:"workspace"},i={id:"editorcanvas",ref:"editorcanvas"},l={id:"playcanvas",ref:"playcanvas"},c={id:"playui",ref:"playui"},r={key:0,class:"splash"};var d=n(6166),p=n(3822),u=n(4875),m=n(9216);const h={data:()=>({selectedElement:null,loadComponent:"div",modulesLoaded:!1,progress:0}),computed:{ui(){return this.$app.ui},hierarhyAllow(){return this.$app.engine.instances.length>0},options(){return this.$app.options},app(){return this.$app.app},tools:()=>toolse,models(){return this.$app.models},ready(){return this.$app.app.ready},toasts(){return this.$app.toasts},modal(){return this.$app.modal},translations(){return this.$app.translations}},methods:{async start(){this.$app.app.ready=!0},waitCanvasSize(e){const t=window.devicePixelRatio||1;e.forEach(e=>{e.width=e.clientWidth*t,e.height=e.clientHeight*t})}},async mounted(){document.documentElement.setAttribute("data-theme","dark"),window.THREE=u,await this.$app.app.init(),await this.$app.modules.init();const e=this.$refs.editorcanvas,t=this.$refs.playcanvas;this.waitCanvasSize([e,t]);const n=["actions","assets","models","modules","project","slides"],a=new URLSearchParams(window.location.search),s=a.get("src");let o;switch(await this.$app.app.init(),await this.$app.templates.init(),s){case"db":default:this.$app.project.uid=a.get("db")||"empty",await m.A.Init(this.$app.project.uid,n,"uid");const e=[];for(let t=0;t<n.length;t++){const a=await m.A.getAllItems(n[t]);e.push(a)}const[t=[],s=[],i=[],l=[],c={uid:this.$app.project.uid},r=[]]=e;o={actions:t,assets:s,models:i,modules:l,project:c,slides:r};break;case"url":const d=await fetch(a.get("url"));o=await d.json(),this.$app.project.uid=o.project.uid,await m.A.Init(this.$app.project.uid,n,"uid")}this.$app.project.init(o.project),this.$app.projects.init(this.$app.project.uid),await new Promise(e=>{this.$nextTick(e)}),this.loadComponent="LoaderScreen",console.log("---LOAD ENGINE---"),await this.$app.engine.load(),console.log("---LOAD MODULES---"),await this.$app.modules.loadUserModules(o.modules),console.log("---LOAD ASSETS AND ACTIONS---"),await Promise.all([this.$app.assets.init(o.assets,e=>{this.progress=e}),this.$app.actions.init(o.actions)]),console.log("---LOAD END---"),this.$app.engine.Project.Init(t),this.$app.engine.Project.Start(),console.log("---BUILD SCENES---"),await p.A.Init(e),await this.$app.engine.start();const i=this.$app.engine.CssManager;await i.Init(this.$refs.playui,t),this.$app.project.on("create",e=>{i.OnCreate(e,this.$app.ui,this.$app.slides)}),this.$app.project.on("remove",(e,t)=>{i.OnRemove(t,this.$app.ui)});try{console.log("---INSTANCED MODELS---"),await this.$app.project.load(o.models)}catch(e){s&&"db"!==s||(console.warn(e),this.$app.toasts.add({message:"Error loading project",type:"alerticon",timehide:!0}))}if(console.log("---BUILD SLIDES---"),0===o.slides.length){const e=await this.$app.slides.add({name:"Main",props:{},actions:[]});o.slides.push(e)}await this.$app.slides.load(o.slides),this.progress=100,o.slides.length>0&&(console.log("---ACTIVATE FIRST SLIDE---"),this.$app.slides.goto(0)),console.log("---READY---"),this.app.ready=!0},components:{UI:d.A}},g=(0,n(6262).A)(h,[["render",function(e,t,n,d,p,u){const m=(0,a.resolveComponent)("UI"),h=(0,a.resolveComponent)("Modal"),g=(0,a.resolveComponent)("Toasts");return(0,a.openBlock)(),(0,a.createElementBlock)("div",s,[(0,a.createElementVNode)("div",o,[(0,a.createElementVNode)("canvas",i,null,512),(0,a.createElementVNode)("canvas",l,null,512),(0,a.createElementVNode)("div",c,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(u.ui.elements,(e,t)=>((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(e.component),(0,a.mergeProps)({onMounted:u.ui.onElementMount,key:t},(0,a.toHandlers)(e.events||{}),{ref_for:!0},e.data),null,16,["onMounted"]))),128))],512),(0,a.createVNode)(m,{element:p.selectedElement},null,8,["element"])]),u.ready?(0,a.createCommentVNode)("v-if",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",r,[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(p.loadComponent),{loadingProgress:p.progress,onClick:u.start},null,8,["loadingProgress","onClick"]))])),u.modal.isVisible?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1})):(0,a.createCommentVNode)("v-if",!0),(0,a.createVNode)(g)])}]])},4594:(e,t,n)=>{n.r(t),n.d(t,{actions:()=>le,app:()=>Me,assets:()=>Ee,engine:()=>K,inspector:()=>Le,menu:()=>Be,modal:()=>g,modules:()=>k,project:()=>H,projects:()=>Ye,selection:()=>Qe,slides:()=>z,storage:()=>tt,templates:()=>lt,toasts:()=>u,ui:()=>pt});var a=n(2015),s=n(9216),o=n(2320),i=n(4196),l=n(2859),c=n(6311);const r=o.default||o;let d=0;const p=(0,a.reactive)({list:[],add({message:e,icon:t,onclick:n,timehide:s=!0,type:o,...i},c=(0,a.markRaw)(l.A)){const r=(0,a.reactive)({id:d++,data:{message:e,icon:t,type:o,...i},component:c});return s&&(r.timeout=setTimeout(()=>{p.remove(r.id)},3e3)),r.onclick=n||p.remove.bind(this,r.id),p.list.push(r),r},remove(e){for(let t=p.list.length-1;t>=0;t--)p.list[t].id===e&&p.list.splice(t,1)}});r.On("init",()=>{window.vue.component("QueryToast",c.A)});const u=p,m=(0,a.ref)(!1),h=(0,a.reactive)({isVisible:!1,header:null,content:null,footer:null,values:null,open({header:e,content:t,footer:n,...a}){h.header=e||{},h.content=t||{},h.footer=n||{},h.values={closable:!1,...a},m.value=!0},close(e){e||(m.value=!1)},get isVisible(){return m.value},queryText(e,t,n){h.open({header:{value:e.title,handler:h.close},content:{component:"queryform",props:e,events:{"update:text":n}},footer:{buttons:[...t.map(t=>(t.handler=()=>{t.callback(e.answer),h.close()},t)),{label:"Закрыть",class:"additional",handler:h.close}]}})},confirmReq(e,t){h.open({header:{value:e.title,handler:h.close},content:{component:"confirmform",props:e},footer:{buttons:[...t.map(t=>(t.handler=()=>{t.callback(e.answer),h.close()},t))]}})}}),g=h,w=o.default||o;class f extends Error{constructor(){super("Not all required parameters are specified."),this.isReqError=!0}}class y extends Error{constructor(){super("This module has already been added."),this.isExistError=!0}}const v=[{name:"engine",entry:"/editor/engine/mf.js",index:"engine",system:!0},{name:"tools",entry:"/mods/tools/mf.js",index:"tools",system:!0}],b=[],A=[{uid:"gsap:/mods/gsap/mf.js",title:"GSAP Animation",description:'<p>The module provides element transformations: movement, rotation, and scale.</p>\n        <p>Use GSAP:</p>\n        <p><a href="https://github.com/greensock/GSAP" target="blank">https://github.com/greensock/GSAP</a></p>',name:"gsapmod",entry:"/mods/gsap/mf.js",index:"gsap",global:!0},{uid:"troika:/mods/troika/mf.js",title:"Troika Text",description:'<p>Module  provides high quality text rendering in Three.js scenes, using signed distance fields (SDF) and antialiasing using standard derivatives.</p>\n        <p>Use Troika Text for Three.js:</p>\n        <p><a href="https://github.com/protectwise/troika/tree/main/packages/troika-three-text" target="blank">https://github.com/protectwise/troika/tree/main/packages/troika-three-text</a></p>',name:"troika",entry:"/mods/troika/mf.js",index:"troika",global:!0},{uid:"textmesh:/mods/textmesh/mf.js",title:"Text Mesh",description:'<p>Module use small library for building VR user interfaces. The objects it creates are three.object3Ds, usable directly in a three.js scene like any other Object3D.</p>\n        <p>Use three-mesh-ui:</p>\n        <p><a href="https://github.com/felixmariotto/three-mesh-ui" target="blank">https://github.com/felixmariotto/three-mesh-ui</a></p>',name:"textmesh",entry:"/mods/textmesh/mf.js",index:"textmesh",global:!0},{uid:"particle:/mods/particle/mf.js",title:"Particles",description:"<p>Particle system </p>",name:"particle",entry:"/mods/particle/mf.js",index:"particle",global:!0}],j={};async function x(e){if(e.uid=`${e.index}:${e.entry}`,!e.name?.length||!e.index?.length||!e.entry?.length)throw new f;if(b.find(t=>t.uid===e.uid))throw new y;try{(0,i.registerRemotes)([{...e}]),await(0,i.loadRemote)(`${e.name}/${e.index}`)}catch(e){throw e}const t=await async function(e){const t={id:e.entry,...e};return await s.A.upsertItemProperties("modules",t.uid,t),t}(e);return b.push(t),t}function E(){const e=(0,a.reactive)({selected:null,list:b,processed:!1,styles:{item:{width:"128px",height:"128px"}},title:"Project modules"}),t={label:"Add",class:"secondary",hidden:(0,a.computed)(()=>!e.selected||e.selected.uid||e.processed),handler:async()=>{e.processed=!0;try{e.selected=await x(e.selected)}catch(t){return t.isReqError?u.add({message:"Not all required fields are filled in"}):u.add({message:"Error adding module"}),void(e.processed=!1)}u.add({message:"The module has been loaded successfully."})}},n={label:"Registration",class:"secondary",hidden:(0,a.computed)(()=>e.selected&&!e.selected.uid),handler:()=>{e.selected=(0,a.reactive)({name:"",entry:"",index:""})}},o={label:"Cancel",class:"primary",hidden:(0,a.computed)(()=>!e.selected),handler:()=>{e.selected=null}},i={label:"Remove",class:"additional",hidden:(0,a.computed)(()=>!e.selected?.id),handler:()=>{console.log(e.selected);const t=`${e.selected.index}:${e.selected.entry}`,n=b.findIndex(e=>`${e.index}:${e.entry}`===t);if(n>=0){const t=b.splice(n,1);w.toasts.add({message:"The module has been removed and will not be loaded the next time you use it.\nPlease refresh the page to take effect."}),e.selected=null,s.A.deleteItem("modules",t[0].index)}}},l={label:"Close",class:"primary",handler:async()=>{g.close()}},c=(0,a.reactive)([n,i,t,o,l]);g.open({header:{value:"Managing modules",handler:()=>{g.close()}},content:{component:"ItemsLib",props:e,events:{selected:t=>{e.selected=t,console.log(e.selected)}},slots:{item:{component:"ModuleItem"},edit:{component:"ModuleEdit",props:e,events:{edit:(t,n)=>{e.selected[t]=n}}}}},footer:{buttons:c}})}const I=(0,a.reactive)({init:async function(){(0,i.createInstance)({name:"slider.editor",remotes:[]}),b.length=0,await(0,i.registerRemotes)([...v]),await Promise.all(v.map(e=>new Promise(t=>{(0,i.loadRemote)(`${e.name}/${e.index}`).then(n=>{j[e.name]=n,t()})})))},showLib:E,getMod:function(e){return j[e]},loadUserModules:async function(e){await(0,i.registerRemotes)(e);const t=e.map(e=>new Promise(t=>{(0,i.loadRemote)(`${e.name}/${e.index}`).then(n=>{b.push({name:e.name,index:e.index,entry:e.entry,title:e.title||e.name,id:e.id,uid:e.uid,global:e.global,description:e.description}),t()})}));await Promise.all(t),console.log(`UserModules loaded ${t.length}`)},AddModules:async function(e){for(let t=0;t<e.length;t++){const n=e[t];try{await x(n)}catch(e){continue}}}});w.On("init",()=>{w.menu.hierarhy.list.push({icon:"books",tooltip:"Modules",handler:E}),window.vue.component("ModuleEdit",(0,a.defineAsyncComponent)(async()=>{const e=await n.e(232).then(n.bind(n,4232));return e.default||e})),window.vue.component("ModuleItem",(0,a.defineAsyncComponent)(async()=>{const e=await n.e(920).then(n.bind(n,6920));return e.default||e})),window.vue.component("ModuleView",(0,a.defineAsyncComponent)(async()=>{const e=await n.e(833).then(n.bind(n,8833));return e.default||e})),w.menu.addMenu("app",{path:"app.list.libraries",icon:"",text:"Libraries",link:"#",children:[{path:"app.list.libraries.modules",icon:"books",text:"Modules",handler:async()=>{!function(){const e=(0,a.reactive)({selected:null,list:A,processed:!1,canadd:!1,styles:{item:{width:"128px",height:"128px"}},head:{title:""}}),t={label:"Add to project",class:"secondary",hidden:(0,a.computed)(()=>e.processed||!e.selected||!e.canadd),handler:async()=>{e.processed=!0,e.canadd=-1===b.findIndex(t=>t.uid===e.selected.uid);try{await x({...e.selected})}catch(t){return t.isExistError?u.add({message:t.message}):u.add({message:"Error adding module"}),void(e.processed=!1)}u.add({message:"The module has been added to project."})}},n={label:"Close",class:"primary",handler:async()=>{g.close()}},s=(0,a.reactive)([t,n]);g.open({header:{value:"Global modules",handler:()=>{g.close()}},content:{component:"ItemsLib",props:e,events:{selected:t=>{e.selected=t,e.canadd=-1===b.findIndex(t=>t.uid===e.selected.uid),console.log(e.selected,e.canadd)}},slots:{head:{component:"SearchFilter"},item:{component:"ModuleItem"},edit:{component:"ModuleView",props:e}}},footer:{buttons:s}})}()}}]})});const k=I;var S=n(351),M=n(9338),C=n(3216),$=n(6667);const P=o.default||o,T=new S.A;let O;async function D(e,t,n){if(!t)return;if(n[t.uid])return n[t.uid];const a=t.parent;let s=n[a];s||(s=await D(e,e.find(e=>e.uid===a),n));try{const e=await L(t,s);return n[e.uid]=e,e}catch(e){console.warn(e)}}async function L(e,t){const n=await O.BuildElement(e,t||P.engine.getManager().Root);if(!n)return;n.name=e.name||e.uid,n.states=e.states||{},n.properties=e.properties||{},n.actions=e.actions||[],n.paths=e.paths??n.paths,n.path=n.paths.join(".");const s=(0,a.reactive)(n);return(t||N).add(s),T.emit("create",s),s}async function F(e){try{await s.A.upsertItemProperties("models",e.uid,JSON.parse((0,M.As)({name:e.name,paths:e.paths,path:e.paths.join("."),parent:e.parent?.uid||null,actions:e.actions||[],props:e.props||{},properties:e.properties||{},states:e.states,type:e.type,uid:e.uid,assets:e.assets||[]})))}catch(e){console.warn(e)}}function R(e,t,n=[]){for(let a=0;a<e.length;a++){const s=e[a];s.isElement&&s.states[t]&&n.push(s),s.children||console.warn("No child"),s.children.length&&R(s.children,t,n)}}const N=(0,a.reactive)({add(e){N.children.push(e)},uid:null,init:function(e){for(let t=0;t<e.length;t++){const n=e[t];N.data[n.uid]=n}N.info=N.data.info||{name:"Editor"}},info:{name:"Editor"},data:{},load:async function(e){O=P.engine.getFactory();const t={};for(let n=e.length-1;n>=0;n--){const a=e[n],s=await D(e,a,t),o=e.findIndex(e=>e.uid===s.uid);o>=0&&e.splice(o,1)}},findStates:function(e){const t=[];return R(N.children,e,t),t},getState:function(e,t){return e.states[t]||(e.states[t]={actions:[]},T.emit("stateadd",t,e.paths)),e.states[t]},remove:async function e(t){let n=N,a=N;for(let e=0;e<t.length;e++)n=a,a=n.children.find(n=>n.uid===t[e]);P.selection.selected===a&&P.selection.select(null);const o=n.children.findIndex(e=>e===a);if(o>=0){for(let t=0;t<a.children.length;t++){const n=a.children[t];n.isElement&&e(n.paths)}n.children.splice(o,1),a.parent&&a.parent.remove(a),s.A.deleteItem("models",a.uid),O.RemoveModel(a.uid),T.emit("remove",t,a)}},handleAsset:async function(e){if(P.slides.actived){if("model"===e.source.type){const t=`${e.source.name||e.source.uid}${Date.now()}`.replace(".","");console.log(e.source.resource);const n=await P.project.createElement({type:"Object3D",uid:t,parent:e.target?.uid,assets:[{uid:e.source.uid}],paths:[...e.target?.paths||[],t]},e.target);await P.project.save(n),P.selection.select(n)}}else P.toasts.add({message:"Необходимо создать слайд"})},addElement:async function(e){const t={name:"New Element",type:"Group"};let n;t.uid=`Element${Date.now()}`,t.paths=[],e&&e.isElement&&(n=e,t.paths.push(...e.paths)),t.paths.push(t.uid),t.path=t.paths.join("."),P.modal.open({header:{value:`Add ${n?" child element to "+n.name||0:" new element to scene"}`,handler:()=>{P.modal.close()}},content:{component:"ElementAdd",props:{parent:e,modelValue:t},events:{"update:modelValue":e=>{Object.keys(e).forEach(n=>{t[n]=e[n]})}}},footer:{buttons:[{label:"Add",class:"secondary",handler:async()=>{const e=await L(t,n);e&&await F(e),P.modal.close()}},{label:"Cancel",class:"primary",handler:async()=>{P.modal.close()}}]}})},createElement:L,save:F,find:function(e){let t=N;for(let n=0;n<e.length;n++)t=t.children.find(t=>t.uid===e[n]);return t},findObjectsByType:function(e){const t=[];return function n(a){a instanceof e&&t.push(a.data),a.children&&Array.isArray(a.children)&&a.children.forEach(e=>n(e))}(N),t},exportToJson:async function(){const e=await s.A.exportToJson(N.uid),t=new Blob([JSON.stringify(e)],{type:"application/json"}),n=`project${N.uid}.json`;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(t,n);else{const e=window.document.createElement("a");e.href=window.URL.createObjectURL(t),e.download=n,e.style="display: none",e.click()}},importProject:async function(){try{const e=await function(e=".json"){return new Promise(t=>{const n=document.createElement("input");n.type="file",n.accept=e,n.style.display="none",n.addEventListener("change",()=>{n.files&&n.files[0]&&t(n.files[0]),document.body.removeChild(n)}),document.body.appendChild(n),n.click()})}(),t=await function(e){return new Promise((t,n)=>{if(!e.name.endsWith(".json"))return void n(new Error("Выберите файл с расширением .json"));const a=new FileReader;a.onload=e=>{try{const n=JSON.parse(e.target.result);t(n)}catch(e){n(new Error("Ошибка парсинга JSON: "+e.message))}},a.onerror=()=>{n(new Error("Ошибка чтения файла"))},a.readAsText(e)})}(e);(0,a.reactive)({actions:{},assets:{},elements:{},slides:{},modules:{}}),await s.A.addItems("actions",t.actions),await s.A.addItems("assets",t.assets),await s.A.addItems("models",t.models),await s.A.addItems("slides",t.slides),await s.A.addItems("modules",t.modules),await s.A.addItems("project",t.project);const n=new URL(window.location.href);return window.location.href=n.toString(),t}catch(e){throw console.error("Ошибка:",e.message),e}},play:async function(e="data"){const t=await s.A.exportToJson(N.uid);console.log(t),t.project={ui:{slides:!0,fullscreen:!0}};let n=`../player?src=${e}`;"db"===e&&(n+=`&db=${N.uid}`);const a=window.open(n,"Player");if(a){if("data"===e){const e=async(n=0)=>{try{if(a.closed)return void console.error("Окно плеера было закрыто");a.postMessage({type:"INIT_DATA",payload:t},window.location.origin)}catch(t){console.error("Ошибка при отправке данных:",t),n<5&&setTimeout(()=>e(n+1),500*(n+1))}};setTimeout(e,3e3)}}else console.error("Не удалось открыть окно. Возможно, браузер заблокировал pop-up.")},children:[],on:T.on.bind(T),off:T.off.bind(T),options:{camera:{}}});P.On("init",()=>{window.vue.component("Importer",$.A),window.vue.component("ElementAdd",C.A),P.slides.on("change",e=>{R(N.children,e,[])}),P.slides.on("remove",e=>{const t=[];R(N.children,e,t);for(let n=0;n<t.length;n++)delete t[n].states[e]}),P.menu.addMenu("app",{path:"app.list.project",icon:"",text:"Project",link:"#",children:[{path:"app.list.project.create",icon:"file-empty",text:"Create",handler:async()=>{P.projects.create()}},{path:"app.list.project.open",icon:"menu",text:"Open",tooltip:"Open project",handler:()=>{P.projects.open()}},{path:"app.list.project.export",icon:"download",text:"Export",tooltip:"Export project",handler:()=>{P.project.exportToJson()}},{path:"app.list.project.import",icon:"upload",text:"Import",link:"#",tooltip:"Import project",handler:()=>{P.project.importProject()}},{path:"app.list.project.remove",icon:"bin",text:"Delete",handler:()=>{P.projects.remove()}}]})});const H=N,U=o.default||o,B=new S.A;async function V(e){const t=e||G.actived,n={actions:t.actions,name:t.name,index:t.index,camera:t.camera,uid:t.uid,props:t.props,background:t.background,environment:t.environment},a=JSON.parse((0,M.As)(n));try{await s.A.upsertItemProperties("slides",n.uid,a)}catch(e){console.warn(e)}}function J(e){const t=G.actived;G.actived="number"==typeof e?G.children[e]:G.children.find(t=>t.uid===e),G.actived&&(B.emit("change",G.actived.uid),async function(e,t){let n=[],a=H.findStates(e.uid);t&&(n=H.findStates(t.uid),await async function(e,t,n){const a=[],s=[];for(let e=0;e<t.length;e++){const o=t[e];n.findIndex(e=>e.uid===o.uid)>=0?a.push(o):s.push(o)}const o=[...s,...a];await Promise.all([U.engine.ActionsManager.Execute(o,"slide.out"),U.engine.ActionsManager.Run(e.actions,e,"slide.out")]),await U.engine.ActionsManager.Execute(s,"disable.on");for(let e=0;e<s.length;e++)_(s[e])}(t,n,a)),await async function(e,t,n){const a=[],s=[];for(let e=0;e<t.length;e++){const o=t[e];n.findIndex(e=>e.uid===o.uid)>=0?s.push(o):a.push(o)}console.log("Slide In");try{if(e.camera?.path&&e.camera?.path!==U.engine.getManager().Camera?.path){const t=e.camera.path.split("."),n=H.find(t);U.engine.getManager().SetCamera(n),n.updateProjectionMatrix()}console.log(e.background),e.background&&(e.background.isAsset?U.engine.getManager().Scene.background=e.background.resource:U.engine.getManager().Scene.background=e.background)}catch(e){console.warn(e.message)}const o=[...a,...s];await Promise.all([U.engine.ActionsManager.Execute(o.map(t=>({...t.states[e.uid],model:t})),"slide.in.before"),U.engine.ActionsManager.Run(e.actions,e,"slide.in.before")]),await U.engine.ActionsManager.Execute(a,"enable.on"),await Promise.all([U.engine.ActionsManager.Execute(o,"slide.in"),U.engine.ActionsManager.Run(e.actions,e,"slide.in")]);const i=[];for(let t=0;t<o.length;t++)i.push(q(o[t],e.uid));await Promise.all(i),await Promise.all([U.engine.ActionsManager.Execute(o,"slide.in.after"),U.engine.ActionsManager.Run(e.actions,e,"slide.in.after")])}(e,a,n)}(G.actived,t))}async function q(e,t){const{position:n,rotation:a,scale:s,actions:o=[],properties:i={},visible:l=!1,...c}=e.states[t];n&&e.position.copy(n),a&&e.rotation.setFromVector3(a,"XYZ"),s&&e.scale.copy(s);const r=Object.keys(c).map(async t=>{const n=t.split("."),a=c[t];let s=n[0],o=e;try{for(let e=0;e<n.length-1;e++)o=o[n[e]],s=n[e+1];return o[s]=await U.engine.getFactory().CreateElement(a),{success:!0,key:t}}catch(e){return console.warn(e),{success:!1,key:t,error:e}}});await Promise.all(r),e.visible=l,e.state=e.states[t]||{model:e};const d=U.engine.Factory.TreeTypes.find(t=>t.type===e.type);d?.onchange&&d.onchange(e)}function _(e,t){e.visible=!1}const G=(0,a.reactive)({load:async function(e){G.children.length=0;const t=e.sort((e,t)=>e.index-t.index);for(let e=0;e<t.length;e++){const n={name:"",camera:{path:null},actions:[],index:e,props:{},background:null,environment:{},...t[e]};G.children.push(n)}H.on("remove",e=>{const t=e.join(".");U.engine.Project.Camera?.path===t&&U.engine.Project.ResetCamera();for(let e=0;e<G.children.length;e++){const n=G.children[e];n.camera?.path===t&&(n.camera.path=null,V(n))}})},add:async function(e){const t=`sl${Date.now()}`,n={index:G.children.length,name:t,uid:t,background:null,environment:{},camera:{path:null},props:{},actions:[],...e};return G.children.push(n),await V(n),B.emit("add",n.uid),n},remove:async function(e){console.log("remove");let t=e||G.actived.uid;const n=G.children.findIndex(e=>e.uid===t);if(n>=0){G.actived.uid===t&&(0===n?await J(1):await J(n-1)),G.children.splice(n,1),await s.A.deleteItem("slides",t);const e=G.children.find(e=>e.next===t);e&&G.children.length>=n&&(e.next=G.children[n].uid),B.emit("remove",t)}},save:V,actived:null,children:[],goto:J,next(){const e=G.children.findIndex(e=>e.uid===G.actived.uid);e>=G.children.length-1||G.goto(e+1)},back(){const e=G.children.findIndex(e=>e.uid===G.actived.uid);0!==e&&G.goto(e-1)},on:B.on.bind(B),off:B.off.bind(B)}),z=G;let W;const Y={},Z=[],Q=[],X=(0,a.reactive)({ready:!1,getAssetsManager:()=>Y.AssetsManager,getSlidesManager:()=>Y.SlidesManager,getFactory:()=>Y.Factory,getManager:e=>Y[e]||W,async load(){console.log("Engine load");const{AssetsManager:e,CssManager:t,MouseManager:n,ActionsManager:a,Project:s,Factory:o}=k.getMod("engine");Y.AssetsManager=e,Y.SlidesManager=z,Y.Factory=o,Y.MouseManager=n,Y.ActionsManager=a,Y.CssManager=t,Y.Project=W=s,console.log("Engine load complete"),console.log(Q);const i=[];for(let e=0;e<Q.length;e++)i.push(Q[e](W));Q.length=0,await Promise.all(i)},async start(){X.ready=!0;const e=[];for(let t=0;t<Z.length;t++)e.push(Z[t](W));return Z.length=0,await Promise.all(e),console.log(W),W},onload(e){Z.push(e)},onInit(e){Q.push(e)}}),K=new Proxy(X,{get:(e,t)=>t in e?e[t]:Y[t]});var ee=n(540);const te=o.default||o,ne=[];let ae;function se(e){const t=(0,a.reactive)({selected:null,list:ie.list}),n={label:"Close",class:"secondary",handler:async()=>{t.selected=null,g.close(),e&&e()}},o=(0,a.reactive)({label:"Create",class:"primary",handler:async()=>{const e=ie.library[0];t.selected={type:e.component,group:e.type,targets:["*"],description:e.description,...e.template}}}),i=(0,a.reactive)({label:"Cancel",class:"additional",hidden:(0,a.computed)(()=>!t.selected||t.selected.uid),handler:async()=>{t.selected=null}}),l={label:"Save",class:"primary",hidden:(0,a.computed)(()=>!t.selected||t.selected.uid),handler:async()=>{const e=ie.library.find(e=>e.component===t.selected.type);if(e.check){if(!await e.check(t.selected))return void u.add({message:"Неверные параметры"})}else Object.keys(e.template).forEach(n=>{n in t.selected||(t.selected[n]=JSON.parse(JSON.stringify(e.template[n])))});t.selected.uid=`${t.selected.type}${Date.now()}`,ie.list.push(t.selected),await oe(t.selected),await ae.Add(t.selected)}},c={label:"Delete",class:"additional",hidden:(0,a.computed)(()=>!t.selected||!t.selected.uid),handler:async()=>{const e=ie.list.findIndex(e=>e===t.selected);e>=0&&ie.list.splice(e,1),async function(e){await s.A.deleteItem("actions",e)}(t.selected.uid),t.selected=null}},r={label:"Select",class:"additional",hidden:(0,a.computed)(()=>!t.selected||!t.selected.uid||!e),handler:async()=>{e(t.selected),g.close()}},d=(0,a.reactive)([o,l,r,c,i,n]);g.open({header:{value:e?"Select an action":"Action Library",handler:()=>{g.close()}},content:{component:"ItemsLib",props:t,events:{selected:e=>{e.uid&&(t.selected=e)}},slots:{item:{component:"ActionItem"},edit:{component:"ActionEdit",props:{selected:t.selected},events:{"change:type":e=>{const n=ie.library.find(t=>t.component===e);t.selected={...n.template,type:n.component,group:n.type,description:n.description}},edit:(e,n)=>{const a=e.split(".");let s=t.selected;for(let e=0;e<a.length-1;e++){const t=a[e];s[t]||(s[t]={}),s=s[t]}s[a[a.length-1]]=n,oe(t.selected)}}}}},footer:{buttons:d}})}async function oe(e){e.uid&&await s.A.upsertItemProperties("actions",e.uid,JSON.parse(JSON.stringify({id:e.uid,...e})))}const ie=(0,a.reactive)({init:async function(e){0===e.length&&e.push(...ne),ae=K.ActionsManager;const t=(0,a.reactive)(e);await ae.Init(t),ie.list.push(...ae.Library)},register:function(e){ie.library.push(e)},save:oe,showLib:se,exportData:async function(){return await s.A.getAllItems("actions")},removeFrom:async function(e,{hook:t,uid:n}){},hooks:["enable.on","slide.in.before","slide.in","slide.in.after","slide.out.before","slide.out","slide.out.after","disable.on","mouse.in","mouse.click","mouse.out"],list:[],library:[],get groups(){return ie.library.reduce((e,t)=>(e.includes(t.type)||e.push(t.type),e),[])},get values(){return Object.values(ie.list)}});te.On("init",()=>{te.menu.hierarhy.list.push({icon:"history",tooltip:"Action Library",handler:se}),window.vue.component("ActionsList",ee.A),te.inspector.addToModels(["Object3D"],[{label:"Models actions",readonly:!0,content:{prop:"actions",component:"ActionsList",state:!1}},{label:"States actions",readonly:!0,content:{prop:"actions",component:"ActionsList",state:!0}}])});const le=ie;var ce=n(1187),re=n(3334),de=n(1351),pe=n(1715),ue=n(5385);const me=o.default||o,he={asset:[{label:"URL",content:{prop:"url",component:"LabelEdit",onupdate(e,t,n,a){console.log(e),fe.Update(e,t,n)}}},{label:"Clone",head:{component:"BoolEdit",prop:"clone",async onupdate(e,t,n,a){await fe.Update(e,t,n)}}}],model:[{label:"Shadow",content:{component:"ShadowEdit",prop:"shadow",onupdate:async(e,t,n,a)=>{await fe.Update(e,t,n)}}},{label:"Environment map",inspectorOnly:!0,content:{component:"AssetSelector",prop:"envMap",type:"hdr",onupdate:async(e,t,n,a)=>{await fe.Update(e,t,n)}}}],image:[{label:"Image",content:{inspectorOnly:!0,prop:"img",component:"ImageView",props:{acceptedTypes:"image/*",selectable:!1},async onupdate(e,t,n){console.log(t),e.img=t}}}],hdr:[]},ge={model:()=>!0},we={model:"codepen",image:"image",hdr:"loop2"};let fe;function ye(e=[]){return console.log(e),xe.list.filter(t=>0===e.length||e.includes(t.type)).map(e=>({...e.data}))}async function ve(e){e.uid=`asset_${Date.now()}`;const t=fe.Add(e);await t.load(),xe.list.push(t),console.log(xe.list),await s.A.addItem("assets",JSON.parse(JSON.stringify({id:t.uid,...t.data}))),console.log(t)}async function be(e){console.log("Save asset");try{if(!e.uid)return;await s.A.updateItem("assets",JSON.parse(JSON.stringify({id:e.uid,...e.data})))}catch(e){console.error("Error saving asset:",e),me.toasts.add({message:"Error saving asset"})}}async function Ae(e){switch(e.type){case"model":const t=K.getFactory().CheckUseAsset(e.uid);if(t)return me.toasts.add({message:`Cannot delete, asset is used in ${t} models`}),!1;break;case"hdr":if(xe.list.find(t=>t.data.envMap===e.uid))return me.toasts.add({message:"Cannot delete, asset in use"}),!1}const t=xe.list.findIndex(t=>t.uid===e.uid);return t>=0&&(xe.list.splice(t,1),fe.Remove(e.uid),await s.A.deleteItem("assets",e.uid)),!0}function je(e,t=!0){return new Promise(n=>{const s=(0,a.reactive)({selected:null,list:ye(e),icons:we}),o=(0,a.reactive)([{label:"Select",class:"primary",hidden:(0,a.computed)(()=>!t||!s.selected),handler:async()=>{g.close(),n(s.selected)}},{label:"Remove",class:"additional",hidden:(0,a.computed)(()=>!s.selected?.uid),handler:async()=>{Ae(s.selected)&&(s.selected=null,s.list=ye(e))}},{label:"Save",class:"primary",hidden:(0,a.computed)(()=>!s.selected||s.selected.uid||s.busy),handler:async()=>{if(!ge[s.selected.type]||await ge[s.selected.type](s.selected)){me.toasts.add({message:"Start load asset"});try{s.selected=await ve(s.selected)}catch(e){return me.toasts.add({message:e.message}),void(s.selected.uid=null)}s.list=ye(e),me.toasts.add({message:"Asset saved"})}}},{label:"Create",class:"secondary",handler:async()=>{s.selected={name:"",type:xe.types[0],url:""}}},{label:"Close",class:"additional",handler:async()=>{g.close(),n()}}]);g.open({header:{value:t?"Select asset":"Project assets",handler:()=>{g.close()}},content:{component:"ItemsLib",props:s,events:{selected:e=>{s.selected=e}},slots:{edit:{component:"AssetEdit",props:{selected:s.selected},events:{edit:(e,t)=>{s.selected[e]=t,s.selected.uid&&be({data:s.selected})}}}}},footer:{buttons:o}})})}const xe=(0,a.reactive)({init:async function(e,t){console.log("Init assets"),fe=K.getManager("AssetsManager"),await fe.Init(e,t);const n=Array.from(fe.Assets.values());n.forEach(e=>{e.on("update",()=>{be(e)})}),xe.list.push(...n),console.log(xe.list)},create:ve,update:async function(e,t,n){await fe.Update(e,t,n)},save:be,selectAsset:je,editAsset:function(e){const t=(0,a.reactive)({current:e}),n=(0,a.reactive)([{label:"Save",class:"secondary",handler:async()=>{e.uid?await be({data:e}):await ve(e),g.close()}},{label:"Cancel",class:"primary",handler:async()=>{g.close()}}]);g.open({header:{value:"Select asset",handler:()=>{g.close()}},content:{component:"AssetEdit",props:t,events:{edit:(t,n)=>{e[t]=n}}},footer:{buttons:n}})},remove:Ae,setAsset:function(e,t){e.assets||(e.assets=[]),e.assets.push({uid:t.uid}),me.engine.getFactory().AddAsset(e.uid,t)},types:["model","hdr","image"],list:[],exportData:async()=>await s.A.getAllItems("assets"),get inspector(){return he},getInspector:e=>he[e]||[],async getDefault(){const e=await fetch("https://s3.eu-west-1.amazonaws.com/3dbuilder.reneos.com/base/assets.json"),t=await e.json();return await s.A.upsertMany("assets",t,"uid"),t}});me.On("init",()=>{me.menu.hierarhy.list.push({icon:"cube",tooltip:"Assets library",handler:()=>{je([],!1)}}),window.vue.component("AssetView",ue.A),window.vue.component("AssetItem",pe.A),window.vue.component("AssetSelector",ce.A),window.vue.component("AssetEdit",de.A),window.vue.component("AssetImage",re.A),Object.keys(he).forEach(e=>{me.inspector.addToModels([e],he[e])})});const Ee=xe;n(1109);const Ie=o.default||o;let ke;const Se=(0,a.reactive)({init:async function(){console.log("app init"),ke=new s.A("slider",["data","templates"]),await ke.openDatabase("slider")},save:async function(){const e={uid:"currproject",id:"currproject",actions:le.exportData(),assets:Ee.exportData(),elements:Elements.exportData()};return await s.A.updateItem("projects",e),e.uid},saveData:function(e,t,n){return ke.upsertItemProperties(e,t,n)},readData:function(e,t){return ke.getItem(e,t)},GetDB:function(){return ke},draggedNode:null,ready:!1,cameras:[],get types(){return Ie.engine.getFactory().GetTypes()},user:{registered:!1,name:"Guest",options:{manual:"false"!==localStorage.getItem("options.manual")}},setPassword:async function(e){try{const{error:t,me:n}=await gqlc.Set({me:[{password:[{$args:{value:e}}]}]})}catch(e){Ie.toasts.add({message:"Error on change password"})}},async logout(){const e=await fetch("/auth/logout"),t=await e.json();console.log(t),window.location.reload()}});Ie.On("init",()=>{Ie.menu.addMenu("app",{path:"app.list.help",icon:"question",text:"Help",link:"#",children:[{path:"app.list.help.channel",icon:"bullhorn",text:"Channel",handler:async()=>{window.open("https://t.me/webslider","_blank")}},{path:"app.list.help.chat",icon:"bubbles",text:"Chat",tooltip:"Discuss",handler:()=>{window.open("https://t.me/chatslider","_blank")}}]})});const Me=Se;var Ce=n(3822);const $e=[],Pe=[],Te={},Oe={Object3D:[{label:"Transform",readonly:!0,content:{component:"TransformEdit",state:!0}},{label:"Visibility",data:{},head:{prop:"visible",component:"BoolEdit",state:!0}}],Mesh:[{label:"Shadow",content:{component:"ShadowEdit",prop:"shadow",state:!1,onupdate:async(e,t,n,a)=>{e.castShadow=n.cast||!1,e.receiveShadow=n.receive||!1}}}],DirectionalLight:[{label:"Color",head:{component:"EditColor",prop:"color",state:!0,onupdate(e,t,n,a){}}},{label:"Intensity",head:{component:"Float",prop:"intensity",step:.1,min:0}},{label:"Shadow",data:{},head:{prop:"castShadow",component:"BoolEdit"}}],AmbientLight:[{label:"Color",head:{component:"EditColor",prop:"color",state:!0,onupdate(e,t,n,a){e[t].copy(n);const s=e.states[z.actived.uid];s.properties||(s.properties={}),s.properties[t]={type:"Color",args:["#"+n.getHexString()]},H.save(e)}}},{label:"Intensity",head:{component:"Float",prop:"intensity",step:.1,min:0,state:!0}}],Mesh:[{label:"Shadow",content:{component:"ShadowEdit",prop:"shadow",state:!1,onupdate:async(e,t,n,a)=>{e.castShadow=n.cast||!1,e.receiveShadow=n.receive||!1}}}],label2d:[{label:"Размеры",content:{component:"DimensionsEdit",onupdate(e,t,n,a){e[t]=n,H.save(e)},state:!0}},{label:"Text",content:{prop:"text",component:"TextEdit",state:!0}},{label:"Цвет",head:{component:"TextColorEdit",prop:"color",state:!0}},{label:"Размер шрифта",head:{component:"FontSize",prop:"size",state:!0}}],videoplane:[{label:"URL",content:{component:"LabelEdit",prop:"url",state:!1,onupdate(e,t,n,a){e.properties||(e.properties={}),e.properties.url=n}},head:{component:"Label",prop:"url"}}],Camera:[{label:"Far",head:{prop:"far",component:"Float",onupdate(e,t,n,a){e[t]=e.states[z.actived.uid][t]=n,e.updateProjectionMatrix(),Ce.A.CameraHelper.update(),H.save(e)}}},{label:"Near",head:{prop:"near",component:"Float",state:!0,onupdate(e,t,n,a,s){e[t]=e.states[z.actived.uid][t]=n,e.updateProjectionMatrix(),Ce.A.CameraHelper.update(),H.save(e)}}}],PerspectiveCamera:[{label:"FOV",head:{prop:"fov",component:"Float",onupdate(e,t,n){e[t]=e.states[z.actived.uid][t]=n,e.updateProjectionMatrix(),Ce.A.CameraHelper.update(),H.save(e)}}}],OrthographicCamera:[{label:"Left",head:{prop:"left",component:"Float",onupdate(e,t,n){e[t]=e.states[z.actived.uid][t]=n,e.updateProjectionMatrix(),Ce.A.CameraHelper.update(),H.save(e)}}},{label:"Top",head:{prop:"top",component:"Float",onupdate(e,t,n){e[t]=e.states[z.actived.uid][t]=n,e.updateProjectionMatrix(),Ce.A.CameraHelper.update(),H.save(e)}}},{label:"Right",head:{prop:"right",component:"Float",onupdate(e,t,n){e[t]=e.states[z.actived.uid][t]=n,e.updateProjectionMatrix(),Ce.A.CameraHelper.update(),H.save(e)}}},{label:"Bottom",head:{prop:"bottom",component:"Float",onupdate(e,t,n){e[t]=e.states[z.actived.uid][t]=n,e.updateProjectionMatrix(),Ce.A.CameraHelper.update(),H.save(e)}}}]},De={},Le=(0,a.reactive)({ready:!1,cameras:[],blocksFor:(e=["Object3D"])=>e.flatMap(e=>Oe[e]||[]),handlers:De,setHandler(e,t){De[e]=t},getHandlers:()=>De,addBlocks(e,t){Object.keys(_blocks).forEach(n=>{t(n)&&_blocks[n].push(...e)})},addToAssets(e,t){for(let n=0;n<e.length;n++){const a=e[n];"*"!==a?(Te[a]||(Te[a]=[]),Te[a].push(...t)):Pe.push(...t)}},addToModels(e,t){for(let n=0;n<e.length;n++){const a=e[n];"*"!==a?(Oe[a]||(Oe[a]=[]),Oe[a].push(...t)):$e.push(...t)}}});var Fe=n(5216);const Re=o.default||o;function Ne(e){Fe.A.Transformer.setMode(e)}function He(e,t){e.children??=[],(t.children||[]).forEach(t=>{let n=e.children.find(e=>e.path===t.path);n?He(n,t):e.children.push(t)})}const Ue=(0,a.reactive)({addMenu:function(e,t){const n=Ue[e].list.find(e=>e.path===t.path);n?He(n,t):Ue[e].list.push(t)},app:{list:[{path:"app.list.project",icon:"",text:"Project",link:"#"},{path:"app.list.libraries",icon:"",text:"Libraries",link:"#"},{path:"app.list.help",icon:"question",text:"Help",link:"#"}]},top:{list:[{icon:"sphere",hint:"Local/global space",handler:function(){Fe.A.Transformer.setSpace("local"===Fe.A.Transformer.space?"world":"local")}},{icon:"move",hint:"Moving",handler:Ne.bind(null,"translate")},{icon:"loop2",hint:"Rotation",handler:Ne.bind(null,"rotate")},{icon:"enlarge2",hint:"Scale",handler:Ne.bind(null,"scale")},{icon:"target",hint:"Zoom in on selected",handler:Fe.A.FocusToSelect},{icon:"cross",hint:"Deselect",handler:()=>{Re.selection.select(null)}}],options:{size:"1.5em"}},hierarhy:{list:[{icon:"play3",tooltip:"Run",handler:()=>{Re.project.play()}}],options:{}},tools:{list:[]}}),Be=Ue,Ve=o.default||o,Je=[];let qe="";function _e(e={}){return new Promise(t=>{const n=(0,a.reactive)({title:"Creating a project",text:"Please enter the project name *",answer:"",template:""}),o=(0,a.reactive)({label:"Create",class:"primary",disabled:n.answer.length<1,callback:async n=>{const a=`project${Date.now()}`;await s.A.Create(a,{project:[{uid:"info",id:a,name:n,created:Date.now(),last:Date.now()}],assets:e.assets||[],actions:e.actions||[],models:e.models||[],slides:e.slides||[],modules:e.modules||[]}),t(a)}});g.queryText(n,[o],e=>{n.answer=e,o.disabled=n.answer.length<1})})}async function Ge(e){const t=new URL(window.location.href);t.searchParams.set("src","db"),t.searchParams.set("db",e),window.location.href=t.toString()}async function ze(){const e=await s.A.GetFromAll("project","info");return We.list.length=0,We.list.push(...e.filter(e=>void 0!==e).map(e=>(e.uid=e.id,e))),We.list}const We=(0,a.reactive)({init:async function(e){console.log(e),qe=e},create:async function(){const e=await _e();e&&Ge(e)},createProject:_e,open:async function(){const e=await ze(),t=(0,a.reactive)({list:e.filter(e=>e.uid!==Ve.project.uid)});g.open({header:{value:"Open project",handler:g.close},content:{component:"ItemsLib",props:t,events:{selected:e=>{Ge(e.id),g.close()}},slots:{item:{component:"ProjectItem"}}},footer:{buttons:[{label:"Close",class:"primary",handler:g.close}]}})},goto:Ge,remove:async function(e){console.log(e);const t=e||qe;console.log(t),await s.A.DeleteDatabase(t),console.log("Removed");const n=We.list.findIndex(e=>e.uid===t);n>=0&&We.list.splice(n,1),window.location.href=new URL(`${window.location.origin}${window.location.pathname}`).toString()},getList:ze,loadExample:async function(e){const t=(await Je[e]()).default,n=`project${e}`;await s.A.Init(n,["project","assets","models","slides","actions","modules"],"uid"),await s.A.addItems("actions",t.actions),await s.A.addItems("assets",t.assets),await s.A.addItems("models",t.models),await s.A.addItems("modules",t.modules),await s.A.addItems("project",t.project),await s.A.addItems("slides",t.slides);const a=new URL(window.location.href);a.searchParams.set("project",n),window.location.href=a.toString()},play:async function(e="data"){const t=await s.A.exportToJson(qe);console.log(t),t.project={ui:{slides:!0,fullscreen:!0}};let n=`../player?target=${e}`;"src"===e&&(n+=`&src=${qe}`);const a=window.open(n,"Player");if(a){if("data"===e){const e=async(n=0)=>{try{if(a.closed)return void console.error("Окно плеера было закрыто");a.postMessage({type:"INIT_DATA",payload:t},window.location.origin),console.log("Данные отправлены")}catch(t){console.error("Ошибка при отправке данных:",t),n<5&&setTimeout(()=>e(n+1),500*(n+1))}};setTimeout(e,1e3)}}else console.error("Не удалось открыть окно. Возможно, браузер заблокировал pop-up.")},importProject:async function(){try{const e=await function(e=".json"){return new Promise(t=>{const n=document.createElement("input");n.type="file",n.accept=e,n.style.display="none",n.addEventListener("change",()=>{n.files&&n.files[0]&&t(n.files[0]),document.body.removeChild(n)}),document.body.appendChild(n),n.click()})}(),t=await function(e){return new Promise((t,n)=>{if(!e.name.endsWith(".json"))return void n(new Error("Выберите файл с расширением .json"));const a=new FileReader;a.onload=e=>{try{const n=JSON.parse(e.target.result);t(n)}catch(e){n(new Error("Ошибка парсинга JSON: "+e.message))}},a.onerror=()=>{n(new Error("Ошибка чтения файла"))},a.readAsText(e)})}(e);let n=!1;const o=(0,a.reactive)({actions:{},assets:{},elements:{},slides:{},modules:{}});return g.open({header:{value:"Импорт",handler:()=>{g.close()}},content:{component:"Importer",props:{project:t},events:{options:e=>{n=e.merge},changelist:e=>{Object.keys(e).forEach(t=>{o[t]=e[t]})}}},footer:{buttons:[{label:"Импорт",class:"secondary",handler:async()=>{const e=`project${Date.now()}`;await s.A.Init(e,["project","assets","elements","slides","actions","modules"],"uid"),await s.A.addItems("actions",t.actions),await s.A.addItems("assets",t.assets),await s.A.addItems("elements",t.elements),await s.A.addItems("slides",t.slides),await s.A.addItems("modules",t.modules),await s.A.addItems("project",t.project);const n=new URL(window.location.href);n.searchParams.set("project",e),window.location.href=n.toString(),g.close()}},{label:"Отмена",class:"primary",handler:async()=>{g.close()}}]}}),t}catch(e){throw console.error("Ошибка:",e.message),e}},load:async function(){},player:null,list:[]}),Ye=We,Ze=(0,a.reactive)({uid:"",selected:null,slide:{},select(e){if(e?.getTypes&&(console.log(e),console.log(e.getTypes())),Ze.selected=e,!Ze.selected)return Fe.A.Select(null),void(Ze.uid=null);Ze.uid=Ze.selected.uid,e.isObject3D&&Fe.A.Select(Ze.selected)}}),Qe=Ze,Xe=o.default||o,Ke=new class{#e=null;get handle(){return this.#e}async requestAccess(){this.#e=await window.showDirectoryPicker({mode:"readwrite"}),await s.A.upsertItemProperties("project","storage",{handle:this.#e})}updateHandle(e){this.#e=e}async writeFile(e,t){this.#t();const n=await this.#e.getFileHandle(e,{create:!0}),a=await n.createWritable();await a.write(t),await a.close()}async readFile(e){this.#t();const t=await this.#e.getFileHandle(e),n=await t.getFile();return await n.text()}async listFiles(){this.#t();const e=[];for await(const[t,n]of this.#e.entries())"file"===n.kind&&e.push(t);return e}#t(){if(!this.#e)throw new Error("Folder access not granted")}};let et;const tt=(0,a.reactive)({getHandle:()=>Ke.handle,init:async function(){const e=await s.A.getItem("project","storage");if(e)Ke.updateHandle(e.handle);else{const e=(0,a.reactive)({title:"Укажите папку для хранения моделей",text:"",answer:"",template:""}),t=(0,a.reactive)({label:"ОК",class:"primary",callback:async e=>{await Ke.requestAccess(),et&&et()}});Xe.modal.confirmReq(e,[t])}},requestAccess:Ke.requestAccess.bind(Ke),writeFile:Ke.writeFile.bind(Ke),readFile:Ke.readFile.bind(Ke),listFiles:Ke.listFiles.bind(Ke),access:()=>new Promise(e=>{et=e})});var nt=n(6347),at=n(3042);const st=o.default||o,ot=[];const it=(0,a.reactive)({init:async function(){},preview:async function(e,t,n=0,a=100){},load:async function(e){}});st.On("init",()=>{window.vue.component("TemplateItem",nt.A),window.vue.component("TemplateView",at.A),st.menu.addMenu("app",{path:"app.list.libraries",icon:"",text:"Libraries",link:"#",children:[{path:"app.list.libraries.templates",icon:"codepen",text:"Templates",handler:async()=>{!async function(){await async function(){const[e,t]=await Promise.all([fetch("https://s3.eu-west-1.amazonaws.com/3dbuilder.reneos.com/templates/index.json",{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},cache:"no-store"}).then(e=>e.json()),st.app.GetDB().getAllItems("templates")]);ot.length=0,ot.push(...e,...t)}();const e=(0,a.reactive)({selected:null,list:ot}),t={label:"Close",class:"secondary",handler:async()=>{e.selected=null,st.modal.close()}},n={label:"Create",class:"additional",handler:async()=>{const t=await fetch(e.selected.url,{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},cache:"no-store"}),n=await t.json(),a=await st.projects.createProject(n);st.projects.goto(a)}},s=(0,a.reactive)([n,t]);st.modal.open({header:{value:"",handler:()=>{st.modal.close()}},content:{component:"ItemsLib",props:e,events:{selected:async t=>{e.selected=t},open:async()=>{}},slots:{item:{component:"TemplateItem"},edit:{component:"TemplateView",props:{data:e.selected},events:{"change:type":t=>{const n=it.library.find(e=>e.component===t);e.selected={...n.template,type:n.component,group:n.type,description:n.description}},edit:(t,n)=>{const a=t.split(".");let s=e.selected;for(let e=0;e<a.length-1;e++){const t=a[e];s[t]||(s[t]={}),s=s[t]}s[a[a.length-1]]=n,async function(){}(e.selected)}}}}},footer:{buttons:s}})}()}}]})});const lt=it,ct=o.default||o,rt={},dt=(0,a.reactive)({elements:[],onElementMount(e){rt[e.path]&&(rt[e.path](e.element),delete rt[e.path])},addElement(e,t){return console.log(e),new Promise((n,s)=>{if(!window.vue._context.components[e])return ct.toasts.add({message:`Component "${e}" is not registered`}),void s(new Error(`Component "${e}" is not registered`));const o=(0,a.reactive)(t.data),i={component:e,data:o,events:t.events};this.elements.push(i),rt[t.data.path]=e=>{i.element=e,n({data:o,element:e})}})},removeElement(e){const t=this.elements.findIndex(t=>t.element===e);t>=0&&this.elements.splice(t,1)}});ct.On("init",()=>{dt.elements.length=0});const pt=dt},6938:(e,t,n)=>{e.exports=n.p+"assets/3d592ccd944e1f3ef7b0.png"}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxPQUFNOEIsY0FJdEIsRUFFQSxhQUFBb2lCLENBQWMzZCxHQUNaLE1BQU1ELEVBQVEvRixLQUFLNkYsU0FBU21GLFVBQVVuRyxHQUFNQSxFQUFHdEQsVUFBWXlFLEdBQ3ZERCxHQUFTLEdBQ1gvRixLQUFLNkYsU0FBU3NCLE9BQU9wQixFQUFPLEVBRWhDLElBR0YsR0FBSXFCLEdBQUcsT0FBUSxLQUNiLEdBQU12QixTQUFTeEYsT0FBUyxJQUcxQixXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHJlbmVvcy9zbGlkZXIuZWRpdG9yLy4vc3JjL0FwcC52dWUiLCJ3ZWJwYWNrOi8vQHJlbmVvcy9zbGlkZXIuZWRpdG9yLy4vc3JjL0FwcC52dWU/YTJkNiIsIndlYnBhY2s6Ly9AcmVuZW9zL3NsaWRlci5lZGl0b3IvLi9zcmMvYXBwL3RvYXN0cy5qcyIsIndlYnBhY2s6Ly9AcmVuZW9zL3NsaWRlci5lZGl0b3IvLi9zcmMvYXBwL21vZGFsLmpzIiwid2VicGFjazovL0ByZW5lb3Mvc2xpZGVyLmVkaXRvci8uL3NyYy9hcHAvbW9kdWxlcy5qcyIsIndlYnBhY2s6Ly9AcmVuZW9zL3NsaWRlci5lZGl0b3IvLi9zcmMvYXBwL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vQHJlbmVvcy9zbGlkZXIuZWRpdG9yLy4vc3JjL2FwcC9zbGlkZXMuanMiLCJ3ZWJwYWNrOi8vQHJlbmVvcy9zbGlkZXIuZWRpdG9yLy4vc3JjL2FwcC9lbmdpbmUuanMiLCJ3ZWJwYWNrOi8vQHJlbmVvcy9zbGlkZXIuZWRpdG9yLy4vc3JjL2FwcC9hY3Rpb25zLmpzIiwid2VicGFjazovL0ByZW5lb3Mvc2xpZGVyLmVkaXRvci8uL3NyYy9hcHAvYXNzZXRzLmpzIiwid2VicGFjazovL0ByZW5lb3Mvc2xpZGVyLmVkaXRvci8uL3NyYy9hcHAvYXBwLmpzIiwid2VicGFjazovL0ByZW5lb3Mvc2xpZGVyLmVkaXRvci8uL3NyYy9hcHAvaW5zcGVjdG9yLmpzIiwid2VicGFjazovL0ByZW5lb3Mvc2xpZGVyLmVkaXRvci8uL3NyYy9hcHAvbWVudS5qcyIsIndlYnBhY2s6Ly9AcmVuZW9zL3NsaWRlci5lZGl0b3IvLi9zcmMvYXBwL3Byb2plY3RzLmpzIiwid2VicGFjazovL0ByZW5lb3Mvc2xpZGVyLmVkaXRvci8uL3NyYy9hcHAvc2VsZWN0aW9uLmpzIiwid2VicGFjazovL0ByZW5lb3Mvc2xpZGVyLmVkaXRvci8uL3NyYy9hcHAvc3RvcmFnZS5qcyIsIndlYnBhY2s6Ly9AcmVuZW9zL3NsaWRlci5lZGl0b3IvLi9zcmMvYXBwL3RlbXBsYXRlcy5qcyIsIndlYnBhY2s6Ly9AcmVuZW9zL3NsaWRlci5lZGl0b3IvLi9zcmMvYXBwL3VpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIjx0ZW1wbGF0ZT5cclxuICA8ZGl2IGNsYXNzPVwiYXBwLWNvbnRhaW5lciBjYW52YXMtY29udGFpbmVyXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwid29ya3NwYWNlXCI+XHJcbiAgICAgIDxjYW52YXMgaWQ9XCJlZGl0b3JjYW52YXNcIiByZWY9XCJlZGl0b3JjYW52YXNcIj48L2NhbnZhcz5cclxuICAgICAgPGNhbnZhcyBpZD1cInBsYXljYW52YXNcIiByZWY9XCJwbGF5Y2FudmFzXCI+PC9jYW52YXM+XHJcbiAgICAgIDxkaXYgaWQ9XCJwbGF5dWlcIiByZWY9XCJwbGF5dWlcIj5cclxuICAgICAgICA8Y29tcG9uZW50IEBtb3VudGVkPVwidWkub25FbGVtZW50TW91bnRcIiB2LWZvcj1cIihjbXAsIGluZGV4KSBpbiB1aS5lbGVtZW50c1wiIDppcz1cImNtcC5jb21wb25lbnRcIiA6a2V5PVwiaW5kZXhcIlxyXG4gICAgICAgICAgdi1vbj1cImNtcC5ldmVudHMgfHwge31cIiB2LWJpbmQ9XCJjbXAuZGF0YVwiPlxyXG4gICAgICAgIDwvY29tcG9uZW50PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPFVJIDplbGVtZW50PVwic2VsZWN0ZWRFbGVtZW50XCI+PC9VST5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInNwbGFzaFwiIHYtaWY9XCIhcmVhZHlcIj5cclxuICAgICAgPGNvbXBvbmVudCA6bG9hZGluZ1Byb2dyZXNzPVwicHJvZ3Jlc3NcIiBAY2xpY2s9XCJzdGFydFwiIDppcz1cImxvYWRDb21wb25lbnRcIj48L2NvbXBvbmVudD5cclxuICAgIDwvZGl2PlxyXG4gICAgPE1vZGFsIHYtaWY9XCJtb2RhbC5pc1Zpc2libGVcIj48L01vZGFsPlxyXG4gICAgPFRvYXN0cz48L1RvYXN0cz5cclxuICA8L2Rpdj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQ+XHJcbmltcG9ydCBVSSBmcm9tIFwiLi92aWV3cy91aS52dWVcIlxyXG5pbXBvcnQgRWRpdG9yIGZyb20gXCIuL2VuZ2luZS9lZGl0b3IuanNcIlxyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIlxyXG5pbXBvcnQgSURCIGZyb20gXCIuL2lkYi5qc1wiXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGRhdGEoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzZWxlY3RlZEVsZW1lbnQ6IG51bGwsXHJcbiAgICAgIGxvYWRDb21wb25lbnQ6IFwiZGl2XCIsXHJcbiAgICAgIG1vZHVsZXNMb2FkZWQ6IGZhbHNlLFxyXG4gICAgICBwcm9ncmVzczogMFxyXG4gICAgfVxyXG4gIH0sXHJcbiAgY29tcHV0ZWQ6IHtcclxuICAgIHVpKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kYXBwLnVpXHJcbiAgICB9LFxyXG4gICAgaGllcmFyaHlBbGxvdygpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuJGFwcC5lbmdpbmUuaW5zdGFuY2VzLmxlbmd0aCA+IDBcclxuICAgIH0sXHJcbiAgICBvcHRpb25zKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kYXBwLm9wdGlvbnNcclxuICAgIH0sXHJcbiAgICBhcHAoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLiRhcHAuYXBwXHJcbiAgICB9LFxyXG4gICAgdG9vbHMoKSB7XHJcbiAgICAgIHJldHVybiB0b29sc2VcclxuICAgIH0sXHJcbiAgICBtb2RlbHMoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLiRhcHAubW9kZWxzXHJcbiAgICB9LFxyXG4gICAgcmVhZHkoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLiRhcHAuYXBwLnJlYWR5XHJcbiAgICB9LFxyXG4gICAgdG9hc3RzKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kYXBwLnRvYXN0c1xyXG4gICAgfSxcclxuICAgIG1vZGFsKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kYXBwLm1vZGFsXHJcbiAgICB9LFxyXG4gICAgdHJhbnNsYXRpb25zKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kYXBwLnRyYW5zbGF0aW9uc1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgbWV0aG9kczoge1xyXG4gICAgYXN5bmMgc3RhcnQoKSB7XHJcbiAgICAgIHRoaXMuJGFwcC5hcHAucmVhZHkgPSB0cnVlXHJcbiAgICB9LFxyXG4gICAgd2FpdENhbnZhc1NpemUoY2FudmFzZXMpIHtcclxuICAgICAgY29uc3QgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcclxuICAgICAgY2FudmFzZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICBlbGVtZW50LndpZHRoID0gZWxlbWVudC5jbGllbnRXaWR0aCAqIGRwcjtcclxuICAgICAgICBlbGVtZW50LmhlaWdodCA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0ICogZHByO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LFxyXG4gIGFzeW5jIG1vdW50ZWQoKSB7XHJcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJywgJ2RhcmsnKVxyXG4gICAgd2luZG93LlRIUkVFID0gVEhSRUVcclxuXHJcbiAgICBhd2FpdCB0aGlzLiRhcHAuYXBwLmluaXQoKVxyXG4gICAgYXdhaXQgdGhpcy4kYXBwLm1vZHVsZXMuaW5pdCgpXHJcblxyXG5cclxuXHJcbiAgICBjb25zdCBlZGl0b3JjYW52YXMgPSB0aGlzLiRyZWZzLmVkaXRvcmNhbnZhc1xyXG4gICAgY29uc3QgcGxheWNhbnZhcyA9IHRoaXMuJHJlZnMucGxheWNhbnZhc1xyXG4gICAgdGhpcy53YWl0Q2FudmFzU2l6ZShbZWRpdG9yY2FudmFzLCBwbGF5Y2FudmFzXSlcclxuXHJcbiAgICBjb25zdCBjb2xsZWN0aW9ucyA9IFtcImFjdGlvbnNcIiwgXCJhc3NldHNcIiwgXCJtb2RlbHNcIiwgXCJtb2R1bGVzXCIsIFwicHJvamVjdFwiLCBcInNsaWRlc1wiXTtcclxuICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaClcclxuICAgIGNvbnN0IHNyYyA9IHVybFBhcmFtcy5nZXQoXCJzcmNcIilcclxuICAgIGxldCBwcm9qZWN0RGF0YVxyXG5cclxuICAgIGF3YWl0IHRoaXMuJGFwcC5hcHAuaW5pdCgpXHJcbiAgICBhd2FpdCB0aGlzLiRhcHAudGVtcGxhdGVzLmluaXQoKVxyXG5cclxuICAgIHN3aXRjaCAoc3JjKSB7XHJcbiAgICAgIGNhc2UgXCJkYlwiOlxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHRoaXMuJGFwcC5wcm9qZWN0LnVpZCA9IHVybFBhcmFtcy5nZXQoXCJkYlwiKSB8fCBcImVtcHR5XCJcclxuICAgICAgICBhd2FpdCBJREIuSW5pdCh0aGlzLiRhcHAucHJvamVjdC51aWQsIGNvbGxlY3Rpb25zLCBcInVpZFwiKTtcclxuICAgICAgICBjb25zdCBkYmRhdGEgPSBbXVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sbGVjdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IGQgPSBhd2FpdCBJREIuZ2V0QWxsSXRlbXMoY29sbGVjdGlvbnNbaV0pXHJcbiAgICAgICAgICBkYmRhdGEucHVzaChkKVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBbYWN0aW9ucyA9IFtdLCBhc3NldHMgPSBbXSwgbW9kZWxzID0gW10sIG1vZHVsZXMgPSBbXSwgcHJvamVjdCA9IHsgdWlkOiB0aGlzLiRhcHAucHJvamVjdC51aWQgfSwgc2xpZGVzID0gW11dID0gZGJkYXRhXHJcbiAgICAgICAgcHJvamVjdERhdGEgPSB7IGFjdGlvbnMsIGFzc2V0cywgbW9kZWxzLCBtb2R1bGVzLCBwcm9qZWN0LCBzbGlkZXMgfTtcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIFwidXJsXCI6XHJcbiAgICAgICAgY29uc3QgZiA9IGF3YWl0IGZldGNoKHVybFBhcmFtcy5nZXQoXCJ1cmxcIikpXHJcbiAgICAgICAgcHJvamVjdERhdGEgPSBhd2FpdCBmLmpzb24oKVxyXG4gICAgICAgIHRoaXMuJGFwcC5wcm9qZWN0LnVpZCA9IHByb2plY3REYXRhLnByb2plY3QudWlkXHJcbiAgICAgICAgYXdhaXQgSURCLkluaXQodGhpcy4kYXBwLnByb2plY3QudWlkLCBjb2xsZWN0aW9ucywgXCJ1aWRcIik7XHJcbiAgICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIHRoaXMuJGFwcC5wcm9qZWN0LmluaXQocHJvamVjdERhdGEucHJvamVjdClcclxuXHJcbiAgICB0aGlzLiRhcHAucHJvamVjdHMuaW5pdCh0aGlzLiRhcHAucHJvamVjdC51aWQpXHJcblxyXG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgdGhpcy4kbmV4dFRpY2socmVzb2x2ZSlcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5sb2FkQ29tcG9uZW50ID0gXCJMb2FkZXJTY3JlZW5cIlxyXG5cclxuICAgIGNvbnNvbGUubG9nKCctLS1MT0FEIEVOR0lORS0tLScpXHJcblxyXG4gICAgYXdhaXQgdGhpcy4kYXBwLmVuZ2luZS5sb2FkKClcclxuXHJcbiAgICBjb25zb2xlLmxvZygnLS0tTE9BRCBNT0RVTEVTLS0tJylcclxuXHJcbiAgICBhd2FpdCB0aGlzLiRhcHAubW9kdWxlcy5sb2FkVXNlck1vZHVsZXMocHJvamVjdERhdGEubW9kdWxlcylcclxuXHJcbiAgICBjb25zb2xlLmxvZygnLS0tTE9BRCBBU1NFVFMgQU5EIEFDVElPTlMtLS0nKVxyXG5cclxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgdGhpcy4kYXBwLmFzc2V0cy5pbml0KHByb2plY3REYXRhLmFzc2V0cywgKHApID0+IHtcclxuICAgICAgICB0aGlzLnByb2dyZXNzID0gcFxyXG4gICAgICB9KSxcclxuICAgICAgdGhpcy4kYXBwLmFjdGlvbnMuaW5pdChwcm9qZWN0RGF0YS5hY3Rpb25zKVxyXG4gICAgXSlcclxuXHJcbiAgICBjb25zb2xlLmxvZygnLS0tTE9BRCBFTkQtLS0nKVxyXG5cclxuICAgIHRoaXMuJGFwcC5lbmdpbmUuUHJvamVjdC5Jbml0KHBsYXljYW52YXMpXHJcbiAgICB0aGlzLiRhcHAuZW5naW5lLlByb2plY3QuU3RhcnQoKVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCctLS1CVUlMRCBTQ0VORVMtLS0nKVxyXG5cclxuICAgIGF3YWl0IEVkaXRvci5Jbml0KGVkaXRvcmNhbnZhcylcclxuXHJcbiAgICBhd2FpdCB0aGlzLiRhcHAuZW5naW5lLnN0YXJ0KClcclxuXHJcbiAgICBjb25zdCBjc3NNYW5hZ2VyID0gdGhpcy4kYXBwLmVuZ2luZS5Dc3NNYW5hZ2VyXHJcbiAgICBhd2FpdCBjc3NNYW5hZ2VyLkluaXQodGhpcy4kcmVmcy5wbGF5dWksIHBsYXljYW52YXMpXHJcblxyXG4gICAgdGhpcy4kYXBwLnByb2plY3Qub24oXCJjcmVhdGVcIiwgKGVsKSA9PiB7XHJcbiAgICAgIGNzc01hbmFnZXIuT25DcmVhdGUoZWwsIHRoaXMuJGFwcC51aSwgdGhpcy4kYXBwLnNsaWRlcylcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy4kYXBwLnByb2plY3Qub24oXCJyZW1vdmVcIiwgKHBhdGhzLCBlbCkgPT4ge1xyXG4gICAgICBjc3NNYW5hZ2VyLk9uUmVtb3ZlKGVsLCB0aGlzLiRhcHAudWkpXHJcbiAgICB9KVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCctLS1JTlNUQU5DRUQgTU9ERUxTLS0tJylcclxuICAgICAgYXdhaXQgdGhpcy4kYXBwLnByb2plY3QubG9hZChwcm9qZWN0RGF0YS5tb2RlbHMpXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgaWYgKCFzcmMgfHwgc3JjID09PSAnZGInKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGVycm9yKVxyXG4gICAgICAgIHRoaXMuJGFwcC50b2FzdHMuYWRkKHtcclxuICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBsb2FkaW5nIHByb2plY3QnLC8vLiBEZWxldGUgY3VycmVudCBwcm9qZWN0PycsXHJcbiAgICAgICAgICB0eXBlOiBcImFsZXJ0aWNvblwiLFxyXG4gICAgICAgICAgdGltZWhpZGU6IHRydWUsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAvKnRoaXMuJGFwcC50b2FzdHMuYWRkKHtcclxuICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBsb2FkaW5nIHByb2plY3QnLC8vLiBEZWxldGUgY3VycmVudCBwcm9qZWN0PycsXHJcbiAgICAgICAgICB0eXBlOiBcIndhcm5pbmdcIixcclxuICAgICAgICAgIHRpbWVoaWRlOiBmYWxzZSxcclxuICAgICAgICAgIGJ1dHRvbnM6IFt7XHJcbiAgICAgICAgICAgIGxhYmVsOiBcIllFU1wiLCBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy4kYXBwLnByb2plY3RzLnJlbW92ZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sIHsgbGFiZWw6IFwiTk9cIiB9XVxyXG4gICAgICAgIH0sICdRdWVyeVRvYXN0JykqL1xyXG4gICAgICB9XHJcbiAgICAgIC8vcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy90aGlzLnByb2dyZXNzID0gODBcclxuXHJcbiAgICBjb25zb2xlLmxvZygnLS0tQlVJTEQgU0xJREVTLS0tJylcclxuXHJcbiAgICBpZiAocHJvamVjdERhdGEuc2xpZGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zdCBzbCA9IGF3YWl0IHRoaXMuJGFwcC5zbGlkZXMuYWRkKHtcclxuICAgICAgICBuYW1lOiBcIk1haW5cIixcclxuICAgICAgICBwcm9wczoge30sXHJcbiAgICAgICAgYWN0aW9uczogW10sXHJcbiAgICAgIH0pXHJcbiAgICAgIHByb2plY3REYXRhLnNsaWRlcy5wdXNoKHNsKVxyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHRoaXMuJGFwcC5zbGlkZXMubG9hZChwcm9qZWN0RGF0YS5zbGlkZXMpXHJcbiAgICB0aGlzLnByb2dyZXNzID0gMTAwXHJcbiAgICBpZiAocHJvamVjdERhdGEuc2xpZGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc29sZS5sb2coJy0tLUFDVElWQVRFIEZJUlNUIFNMSURFLS0tJylcclxuICAgICAgdGhpcy4kYXBwLnNsaWRlcy5nb3RvKDApXHJcbiAgICB9XHJcblxyXG4gICAgLy8vLS0tLS0tLS0tLS1DU1MgVEVTVFxyXG5cclxuICAgIGNvbnNvbGUubG9nKCctLS1SRUFEWS0tLScpXHJcbiAgICB0aGlzLmFwcC5yZWFkeSA9IHRydWVcclxuICB9LFxyXG4gIGNvbXBvbmVudHM6IHsgVUkgfVxyXG59O1xyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZT5cclxuLnNwbGFzaCB7XHJcbiAgei1pbmRleDogOTk5O1xyXG4gIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gIHRvcDogMDtcclxuICBsZWZ0OiAwO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIGJvdHRvbTogMDtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbn1cclxuXHJcbi5yb3RhdGluZy1kaXYge1xyXG4gIHdpZHRoOiAxMDBweDtcclxuICBoZWlnaHQ6IDEwMHB4O1xyXG4gIGFuaW1hdGlvbjogcm90YXRpb24gMXMgbGluZWFyIGluZmluaXRlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuQGtleWZyYW1lcyByb3RhdGlvbiB7XHJcbiAgZnJvbSB7XHJcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcclxuICB9XHJcblxyXG4gIHRvIHtcclxuICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XHJcbiAgfVxyXG59XHJcblxyXG4uY2FudmFzLWNvbnRhaW5lciB7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuXHJcbiAgI3BsYXljYW52YXMge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA1MHB4O1xyXG4gICAgcmlnaHQ6IDI2MHB4O1xyXG4gICAgd2lkdGg6IDUxMnB4O1xyXG4gICAgYXNwZWN0LXJhdGlvOiAxNi85O1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgYmxhY2s7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcclxuICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XHJcbiAgfVxyXG5cclxuICAjcGxheXVpIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogNTBweDtcclxuICAgIHJpZ2h0OiAyNjBweDtcclxuICAgIHRyYW5zZm9ybS1vcmlnaW46IHRvcCByaWdodDtcclxuICAgIHdpZHRoOiA1MTJweDtcclxuICAgIGFzcGVjdC1yYXRpbzogMTYvOTtcclxuICAgIC8qYm9yZGVyOiAycHggc29saWQgYmxhY2s7Ki9cclxuICAgIC8qYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjIxOSk7Ki9cclxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gIH1cclxuXHJcbiAgI2VkaXRvcmNhbnZhcyB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgei1pbmRleDogMDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxMTQsIDExNCwgMTE0KTtcclxuICAgIC8qbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgKi9cclxuXHJcbiAgfVxyXG5cclxuICAjY2FudmFzdWkge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA1MHB4O1xyXG4gICAgcmlnaHQ6IDI2MHB4O1xyXG4gICAgd2lkdGg6IDUxMnB4O1xyXG4gICAgYXNwZWN0LXJhdGlvOiAxNi85O1xyXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgfVxyXG5cclxuICAudGFibGVjYW52YXMge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gIH1cclxufVxyXG48L3N0eWxlPlxyXG4iLCJpbXBvcnQgeyByZW5kZXIgfSBmcm9tIFwiLi9BcHAudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTIxY2YwZjMxXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vQXBwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1wiXG5leHBvcnQgKiBmcm9tIFwiLi9BcHAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCJcblxuaW1wb3J0IFwiLi9BcHAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MjFjZjBmMzEmbGFuZz1jc3NcIlxuXG5pbXBvcnQgZXhwb3J0Q29tcG9uZW50IGZyb20gXCIuLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2V4cG9ydEhlbHBlci5qc1wiXG5jb25zdCBfX2V4cG9ydHNfXyA9IC8qI19fUFVSRV9fKi9leHBvcnRDb21wb25lbnQoc2NyaXB0LCBbWydyZW5kZXInLHJlbmRlcl1dKVxuXG5leHBvcnQgZGVmYXVsdCBfX2V4cG9ydHNfXyIsImltcG9ydCB7IHJlYWN0aXZlLCBtYXJrUmF3IH0gZnJvbSAndnVlJ1xyXG5pbXBvcnQgQXBwTW9kIGZyb20gXCJAcmVuZW9zL2FwcFwiXHJcbmNvbnN0IEFwcCA9IEFwcE1vZC5kZWZhdWx0IHx8IEFwcE1vZFxyXG5cclxubGV0IF9pZCA9IDBcclxuXHJcbmltcG9ydCBUb2FzdCBmcm9tIFwiQC9jb21wb25lbnRzL3RvYXN0cy90b2FzdC52dWVcIlxyXG5pbXBvcnQgcXVlcnl0b2FzdCBmcm9tICdAL2NvbXBvbmVudHMvdG9hc3RzL3F1ZXJ5dG9hc3QudnVlJ1xyXG4vL2ltcG9ydCBBcHAgZnJvbSAnLi4vQXBwLnZ1ZSdcclxuXHJcbmNvbnN0IF9kYXRhID0gcmVhY3RpdmUoe1xyXG4gICAgbGlzdDogW10sXHJcbiAgICBhZGQoeyBtZXNzYWdlLCBpY29uLCBvbmNsaWNrLCB0aW1laGlkZSA9IHRydWUsIHR5cGUsIC4uLnZhbHVlcyB9LCBjb21wb25lbnQgPSBtYXJrUmF3KFRvYXN0KSkge1xyXG4gICAgICAgIGNvbnN0IHRvYXN0ID0gcmVhY3RpdmUoe1xyXG4gICAgICAgICAgICBpZDogX2lkKyssXHJcbiAgICAgICAgICAgIGRhdGE6IHsgbWVzc2FnZSwgaWNvbiwgdHlwZSwgLi4udmFsdWVzIH0sXHJcbiAgICAgICAgICAgIGNvbXBvbmVudFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKHRpbWVoaWRlKSB7XHJcbiAgICAgICAgICAgIHRvYXN0LnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIF9kYXRhLnJlbW92ZSh0b2FzdC5pZClcclxuICAgICAgICAgICAgfSwgMzAwMClcclxuICAgICAgICB9XHJcbiAgICAgICAgdG9hc3Qub25jbGljayA9IG9uY2xpY2sgfHwgX2RhdGEucmVtb3ZlLmJpbmQodGhpcywgdG9hc3QuaWQpXHJcbiAgICAgICAgX2RhdGEubGlzdC5wdXNoKHRvYXN0KVxyXG4gICAgICAgIHJldHVybiB0b2FzdFxyXG4gICAgfSxcclxuICAgIHJlbW92ZShpZCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBfZGF0YS5saXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIGlmIChfZGF0YS5saXN0W2ldLmlkID09PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgX2RhdGEubGlzdC5zcGxpY2UoaSwgMSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSlcclxuXHJcbkFwcC5PbihcImluaXRcIiwgKCkgPT4ge1xyXG4gICAgd2luZG93LnZ1ZS5jb21wb25lbnQoXCJRdWVyeVRvYXN0XCIsIHF1ZXJ5dG9hc3QpXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBfZGF0YSIsImltcG9ydCB7IHJlYWN0aXZlLCByZWYgfSBmcm9tICd2dWUnXHJcblxyXG5jb25zdCBpc1Zpc2libGUgPSByZWYoZmFsc2UpO1xyXG5cclxuY29uc3QgX2RhdGEgPSByZWFjdGl2ZSh7XHJcbiAgICBpc1Zpc2libGU6IGZhbHNlLFxyXG4gICAgaGVhZGVyOiBudWxsLFxyXG4gICAgY29udGVudDogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICog0KPQutCw0LfRi9Cy0LDQtdGC0YHRjyBjb21wb25lbnQgXHJcbiAgICAgKiDQuNC70Lgg0LXRgdC70Lgg0YPQutCw0LfQsNC9INC80LDRgdGB0LjQsiBcclxuICAgICAqIGJ1dHRvbnMgLSDQstGL0LLQvtC00LjRgtGB0Y8g0L3QtdGB0LrQvtC70YzQutC+INC60L3QvtC/0LrQvlxyXG4gICAgICog0LjQvdCw0YfQtSDQstGL0LLQvtC00LjRgtGB0Y8gMSDQutC90L7Qv9C60LBcclxuICAgICAqIFxyXG4gICAgICogICovXHJcbiAgICBmb290ZXI6IG51bGwsXHJcbiAgICB2YWx1ZXM6IG51bGwsXHJcbiAgICBvcGVuKHsgaGVhZGVyLCBjb250ZW50LCBmb290ZXIsIC4uLnByb3BzIH0pIHtcclxuICAgICAgICBfZGF0YS5oZWFkZXIgPSBoZWFkZXIgfHwge31cclxuICAgICAgICBfZGF0YS5jb250ZW50ID0gY29udGVudCB8fCB7fVxyXG4gICAgICAgIF9kYXRhLmZvb3RlciA9IGZvb3RlciB8fCB7fVxyXG4gICAgICAgIF9kYXRhLnZhbHVlcyA9IHsgY2xvc2FibGU6IGZhbHNlLCAuLi5wcm9wcyB9XHJcbiAgICAgICAgaXNWaXNpYmxlLnZhbHVlID0gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICBjbG9zZShvbm92ZXJsYXkpIHtcclxuICAgICAgICBpZiAob25vdmVybGF5KVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICBpc1Zpc2libGUudmFsdWUgPSBmYWxzZTtcclxuICAgIH0sXHJcbiAgICBnZXQgaXNWaXNpYmxlKCkge1xyXG4gICAgICAgIHJldHVybiBpc1Zpc2libGUudmFsdWU7XHJcbiAgICB9LFxyXG5cclxuICAgIHF1ZXJ5VGV4dChwcm9wcyxidXR0b25zLG9uVXBkYXRlKSB7XHJcbiAgICAgICAgX2RhdGEub3Blbih7XHJcbiAgICAgICAgICAgIGhlYWRlcjoge1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHByb3BzLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjpfZGF0YS5jbG9zZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb250ZW50OiB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IFwicXVlcnlmb3JtXCIsXHJcbiAgICAgICAgICAgICAgICBwcm9wcyxcclxuICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwidXBkYXRlOnRleHRcIjogb25VcGRhdGVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZm9vdGVyOiB7XHJcbiAgICAgICAgICAgICAgICBidXR0b25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgLi4uYnV0dG9ucy5tYXAoYiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGIuaGFuZGxlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIuY2FsbGJhY2socHJvcHMuYW5zd2VyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGEuY2xvc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiXHJcbiAgICAgICAgICAgICAgICAgICAgfSksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwi0JfQsNC60YDRi9GC0YxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiYWRkaXRpb25hbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBfZGF0YS5jbG9zZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIGNvbmZpcm1SZXEocHJvcHMsYnV0dG9ucykge1xyXG4gICAgICAgIF9kYXRhLm9wZW4oe1xyXG4gICAgICAgICAgICBoZWFkZXI6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBwcm9wcy50aXRsZSxcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6X2RhdGEuY2xvc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBcImNvbmZpcm1mb3JtXCIsXHJcbiAgICAgICAgICAgICAgICBwcm9wc1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmb290ZXI6IHtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICAuLi5idXR0b25zLm1hcChiID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYi5oYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYi5jYWxsYmFjayhwcm9wcy5hbnN3ZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGF0YS5jbG9zZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IF9kYXRhIiwiaW1wb3J0IHsgcmVhY3RpdmUsIHJlZiwgZGVmaW5lQXN5bmNDb21wb25lbnQsIGNvbXB1dGVkIH0gZnJvbSAndnVlJ1xyXG5pbXBvcnQgeyBjcmVhdGVJbnN0YW5jZSwgbG9hZFJlbW90ZSwgcmVnaXN0ZXJSZW1vdGVzIH0gZnJvbSAnQG1vZHVsZS1mZWRlcmF0aW9uL3J1bnRpbWUnO1xyXG5pbXBvcnQgQXBwTW9kIGZyb20gXCJAcmVuZW9zL2FwcFwiXHJcbmNvbnN0IEFwcCA9IEFwcE1vZC5kZWZhdWx0IHx8IEFwcE1vZFxyXG5cclxuaW1wb3J0IElEQiBmcm9tIFwiLi4vaWRiLmpzXCJcclxuaW1wb3J0IHRvYXN0cyBmcm9tIFwiLi90b2FzdHMuanNcIlxyXG5pbXBvcnQgbW9kYWwgZnJvbSBcIi4vbW9kYWwuanNcIlxyXG5cclxuY2xhc3MgUmVxRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTm90IGFsbCByZXF1aXJlZCBwYXJhbWV0ZXJzIGFyZSBzcGVjaWZpZWQuJylcclxuICAgICAgICB0aGlzLmlzUmVxRXJyb3IgPSB0cnVlXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEV4aXN0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignVGhpcyBtb2R1bGUgaGFzIGFscmVhZHkgYmVlbiBhZGRlZC4nKVxyXG4gICAgICAgIHRoaXMuaXNFeGlzdEVycm9yID0gdHJ1ZVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBfcHJlZGVmaW5lZCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gW1xyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICdlbmdpbmUnLFxyXG4gICAgICAgIGVudHJ5OiAnL2VkaXRvci9lbmdpbmUvbWYuanMnLFxyXG4gICAgICAgIGluZGV4OiBcImVuZ2luZVwiLFxyXG4gICAgICAgIHN5c3RlbTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAndG9vbHMnLFxyXG4gICAgICAgIGVudHJ5OiAnL21vZHMvdG9vbHMvbWYuanMnLFxyXG4gICAgICAgIGluZGV4OiBcInRvb2xzXCIsXHJcbiAgICAgICAgc3lzdGVtOiB0cnVlXHJcbiAgICB9LyosIHtcclxuICAgICAgICBuYW1lOiAnZ3NhcG1vZCcsXHJcbiAgICAgICAgZW50cnk6ICcvbW9kcy9nc2FwL21mLmpzJyxcclxuICAgICAgICBpbmRleDogXCJnc2FwXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogJ3Ryb2lrYScsXHJcbiAgICAgICAgZW50cnk6ICcvbW9kcy90cm9pa2EvbWYuanMnLFxyXG4gICAgICAgIGluZGV4OiBcInRyb2lrYVwiXHJcbiAgICB9Ki8vKiwge1xyXG4gICAgICAgIG5hbWU6ICd2dWV1aW1vZCcsXHJcbiAgICAgICAgZW50cnk6ICcvbW9kcy92dWV1aS9tZi5qcycsXHJcbiAgICAgICAgaW5kZXg6IFwidnVldWlcIlxyXG4gICAgfSovLyosXHJcbiAgICAge1xyXG4gICAgICAgIG5hbWU6ICd2dWV1aW1vZCcsXHJcbiAgICAgICAgZW50cnk6ICcvbW9kcy92dWV1aS9tZi5qcycsXHJcbiAgICAgICAgaW5kZXg6IFwidnVldWlcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAndGV4dG1lc2gnLFxyXG4gICAgICAgIGVudHJ5OiAnL21vZHMvdGV4dG1lc2gvbWYuanMnLFxyXG4gICAgICAgIGluZGV4OiBcInRleHRtZXNoXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogJ3Ryb2lrYScsXHJcbiAgICAgICAgZW50cnk6ICcvbW9kcy90cm9pa2EvbWYuanMnLFxyXG4gICAgICAgIGluZGV4OiBcInRyb2lrYVwiXHJcbiAgICB9Ki9cclxuXSA6IFtcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAnZW5naW5lJyxcclxuICAgICAgICBlbnRyeTogJy9lZGl0b3IvZW5naW5lL21mLmpzJyxcclxuICAgICAgICBpbmRleDogXCJlbmdpbmVcIixcclxuICAgICAgICBzeXN0ZW06IHRydWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogJ3Rvb2xzJyxcclxuICAgICAgICBlbnRyeTogJy9tb2RzL3Rvb2xzL21mLmpzJyxcclxuICAgICAgICBpbmRleDogXCJ0b29sc1wiLFxyXG4gICAgICAgIHN5c3RlbTogdHJ1ZVxyXG4gICAgfS8qLCB7XHJcbiAgICAgICAgbmFtZTogJ2dzYXBtb2QnLFxyXG4gICAgICAgIGVudHJ5OiAnL21vZHMvZ3NhcC9tZi5qcycsXHJcbiAgICAgICAgaW5kZXg6IFwiZ3NhcFwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICd0cm9pa2EnLFxyXG4gICAgICAgIGVudHJ5OiAnL21vZHMvdHJvaWthL21mLmpzJyxcclxuICAgICAgICBpbmRleDogXCJ0cm9pa2FcIlxyXG4gICAgfSovLyosXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogJ3RleHRtZXNoJyxcclxuICAgICAgICBlbnRyeTogJy9tb2RzL3RleHRtZXNoL21mLmpzJyxcclxuICAgICAgICBpbmRleDogXCJ0ZXh0bWVzaFwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICd0cm9pa2EnLFxyXG4gICAgICAgIGVudHJ5OiAnL21vZHMvdHJvaWthL21mLmpzJyxcclxuICAgICAgICBpbmRleDogXCJ0cm9pa2FcIlxyXG4gICAgfSovXHJcbl1cclxuXHJcbi8qKlxyXG4gKiDQn9C+0LvRjNC30L7QstCw0YLQtdC70YzRgdC60LjQtSDQvNC+0LTRg9C70LhcclxuICovXHJcbmNvbnN0IF9tb2R1bGVzID0gW11cclxuY29uc3QgX2dsb2JhbCA9IFtcclxuICAgIHtcclxuICAgICAgICB1aWQ6IGBnc2FwOi9tb2RzL2dzYXAvbWYuanNgLFxyXG4gICAgICAgIHRpdGxlOiBcIkdTQVAgQW5pbWF0aW9uXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGA8cD5UaGUgbW9kdWxlIHByb3ZpZGVzIGVsZW1lbnQgdHJhbnNmb3JtYXRpb25zOiBtb3ZlbWVudCwgcm90YXRpb24sIGFuZCBzY2FsZS48L3A+XHJcbiAgICAgICAgPHA+VXNlIEdTQVA6PC9wPlxyXG4gICAgICAgIDxwPjxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vZ3JlZW5zb2NrL0dTQVBcIiB0YXJnZXQ9XCJibGFua1wiPmh0dHBzOi8vZ2l0aHViLmNvbS9ncmVlbnNvY2svR1NBUDwvYT48L3A+YCxcclxuICAgICAgICBuYW1lOiAnZ3NhcG1vZCcsXHJcbiAgICAgICAgZW50cnk6ICcvbW9kcy9nc2FwL21mLmpzJyxcclxuICAgICAgICBpbmRleDogXCJnc2FwXCIsXHJcbiAgICAgICAgZ2xvYmFsOiB0cnVlXHJcblxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB1aWQ6IGB0cm9pa2E6L21vZHMvdHJvaWthL21mLmpzYCxcclxuICAgICAgICB0aXRsZTogXCJUcm9pa2EgVGV4dFwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgPHA+TW9kdWxlICBwcm92aWRlcyBoaWdoIHF1YWxpdHkgdGV4dCByZW5kZXJpbmcgaW4gVGhyZWUuanMgc2NlbmVzLCB1c2luZyBzaWduZWQgZGlzdGFuY2UgZmllbGRzIChTREYpIGFuZCBhbnRpYWxpYXNpbmcgdXNpbmcgc3RhbmRhcmQgZGVyaXZhdGl2ZXMuPC9wPlxyXG4gICAgICAgIDxwPlVzZSBUcm9pa2EgVGV4dCBmb3IgVGhyZWUuanM6PC9wPlxyXG4gICAgICAgIDxwPjxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vcHJvdGVjdHdpc2UvdHJvaWthL3RyZWUvbWFpbi9wYWNrYWdlcy90cm9pa2EtdGhyZWUtdGV4dFwiIHRhcmdldD1cImJsYW5rXCI+aHR0cHM6Ly9naXRodWIuY29tL3Byb3RlY3R3aXNlL3Ryb2lrYS90cmVlL21haW4vcGFja2FnZXMvdHJvaWthLXRocmVlLXRleHQ8L2E+PC9wPmAsXHJcblxyXG4gICAgICAgIG5hbWU6ICd0cm9pa2EnLFxyXG4gICAgICAgIGVudHJ5OiAnL21vZHMvdHJvaWthL21mLmpzJyxcclxuICAgICAgICBpbmRleDogXCJ0cm9pa2FcIixcclxuICAgICAgICBnbG9iYWw6IHRydWVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgdWlkOiBgdGV4dG1lc2g6L21vZHMvdGV4dG1lc2gvbWYuanNgLFxyXG4gICAgICAgIHRpdGxlOiBcIlRleHQgTWVzaFwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgPHA+TW9kdWxlIHVzZSBzbWFsbCBsaWJyYXJ5IGZvciBidWlsZGluZyBWUiB1c2VyIGludGVyZmFjZXMuIFRoZSBvYmplY3RzIGl0IGNyZWF0ZXMgYXJlIHRocmVlLm9iamVjdDNEcywgdXNhYmxlIGRpcmVjdGx5IGluIGEgdGhyZWUuanMgc2NlbmUgbGlrZSBhbnkgb3RoZXIgT2JqZWN0M0QuPC9wPlxyXG4gICAgICAgIDxwPlVzZSB0aHJlZS1tZXNoLXVpOjwvcD5cclxuICAgICAgICA8cD48YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2ZlbGl4bWFyaW90dG8vdGhyZWUtbWVzaC11aVwiIHRhcmdldD1cImJsYW5rXCI+aHR0cHM6Ly9naXRodWIuY29tL2ZlbGl4bWFyaW90dG8vdGhyZWUtbWVzaC11aTwvYT48L3A+YCxcclxuICAgICAgICBuYW1lOiAndGV4dG1lc2gnLFxyXG4gICAgICAgIGVudHJ5OiAnL21vZHMvdGV4dG1lc2gvbWYuanMnLFxyXG4gICAgICAgIGluZGV4OiBcInRleHRtZXNoXCIsXHJcbiAgICAgICAgZ2xvYmFsOiB0cnVlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHVpZDogYHBhcnRpY2xlOi9tb2RzL3BhcnRpY2xlL21mLmpzYCxcclxuICAgICAgICB0aXRsZTogXCJQYXJ0aWNsZXNcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogYDxwPlBhcnRpY2xlIHN5c3RlbSA8L3A+YCxcclxuICAgICAgICBuYW1lOiAncGFydGljbGUnLFxyXG4gICAgICAgIGVudHJ5OiAnL21vZHMvcGFydGljbGUvbWYuanMnLFxyXG4gICAgICAgIGluZGV4OiBcInBhcnRpY2xlXCIsXHJcbiAgICAgICAgZ2xvYmFsOiB0cnVlXHJcbiAgICB9XHJcbl1cclxuLyoqXHJcbiAqINCX0LDQs9GA0YPQttC10L3QvdGL0LUg0LzQvtC00YPQu9C4LCDQv9C+0LvRjNC30L7QstCw0YLQtdC70YzRgdC60LjQtSDQuCDRgdC40YHRgtC10LzQvdGL0LVcclxuICovXHJcbmNvbnN0IF9tb2RzID0ge31cclxuXHJcbi8qKlxyXG4gKiDQl9Cw0LPRgNGD0LfQutCwINC00L7QsdCw0LLQu9C10L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C10Lwg0LzQvtC00YPQu9C10LlcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWRVc2VyTW9kdWxlcyhtb2R1bGVzKSB7XHJcbiAgICBhd2FpdCByZWdpc3RlclJlbW90ZXMobW9kdWxlcylcclxuICAgIGNvbnN0IHByb21zID0gbW9kdWxlcy5tYXAocCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIGxvYWRSZW1vdGUoYCR7cC5uYW1lfS8ke3AuaW5kZXh9YCkudGhlbihtID0+IHtcclxuICAgICAgICAgICAgICAgIF9tb2R1bGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHAubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogcC5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICBlbnRyeTogcC5lbnRyeSxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcC50aXRsZSB8fCBwLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHAuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdWlkOiBwLnVpZCxcclxuICAgICAgICAgICAgICAgICAgICBnbG9iYWw6IHAuZ2xvYmFsLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwLmRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9tcylcclxuICAgIGNvbnNvbGUubG9nKGBVc2VyTW9kdWxlcyBsb2FkZWQgJHtwcm9tcy5sZW5ndGh9YClcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gU2F2ZVVzZXJNb2R1bGUobW9kKSB7XHJcbiAgICBjb25zdCBzYXZlRGF0YSA9IHtcclxuICAgICAgICBpZDogbW9kLmVudHJ5LCAuLi5tb2RcclxuICAgIH1cclxuICAgIGF3YWl0IElEQi51cHNlcnRJdGVtUHJvcGVydGllcyhcIm1vZHVsZXNcIiwgc2F2ZURhdGEudWlkLCBzYXZlRGF0YSlcclxuICAgIHJldHVybiBzYXZlRGF0YVxyXG59XHJcblxyXG4vKipcclxuICogbmFtZTogJ2VuZ2luZScsXHJcbiAgICAgICAgZW50cnk6ICcvZWRpdG9yL2VuZ2luZS9tZi5qcycsXHJcbiAgICAgICAgaW5kZXg6IFwiZW5naW5lXCJcclxuICogQHBhcmFtIHsqfSBtb2R1bGUgXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBBZGRNb2R1bGUobW9kdWxlKSB7XHJcbiAgICAvL9Cd0LUg0LzQtdC90Y/RgtGMIG1vZHVsZSDQvdCwIG1vZCAtINGC0LXRgNGP0LXRgtGB0Y8g0L7RgtC90L7RgdC40YLQtdC70YzQvdGL0Lkg0L/Rg9GC0YxcclxuICAgIG1vZHVsZS51aWQgPSBgJHttb2R1bGUuaW5kZXh9OiR7bW9kdWxlLmVudHJ5fWBcclxuICAgIGlmICghbW9kdWxlLm5hbWU/Lmxlbmd0aCB8fCAhbW9kdWxlLmluZGV4Py5sZW5ndGggfHwgIW1vZHVsZS5lbnRyeT8ubGVuZ3RoKVxyXG4gICAgICAgIHRocm93IG5ldyBSZXFFcnJvcigpXHJcbiAgICBpZiAoX21vZHVsZXMuZmluZChtID0+IG0udWlkID09PSBtb2R1bGUudWlkKSlcclxuICAgICAgICB0aHJvdyBuZXcgRXhpc3RFcnJvcigpXHJcbiAgICAvL9Cg0LXQs9C40YHRgtGA0LjRgNGD0LXQvCDQtdGB0LvQuCDQvtC9INC90LUg0LHRi9C7INC30LDRgNC10LPQuNGB0YLRgNC40YDQvtCy0LDQvSAo0L/RgNC+0LLQtdGA0LrQsCDQv9C+IHVpZCDQutC+0YLQvtGA0YvQuSDRgdGC0LDQstC40YLRgdGPINC/0YDQuCDQt9Cw0L/QuNGB0Lgg0LIg0JHQlClcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmVnaXN0ZXJSZW1vdGVzKFt7IC4uLm1vZHVsZSB9XSlcclxuICAgICAgICBhd2FpdCBsb2FkUmVtb3RlKGAke21vZHVsZS5uYW1lfS8ke21vZHVsZS5pbmRleH1gKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gICAgY29uc3QgbSA9IGF3YWl0IFNhdmVVc2VyTW9kdWxlKG1vZHVsZSlcclxuICAgIF9tb2R1bGVzLnB1c2gobSlcclxuICAgIHJldHVybiBtXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEFkZE1vZHVsZXMobW9kdWxlcykge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgbW9kRGF0YSA9IG1vZHVsZXNbaV1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBBZGRNb2R1bGUobW9kRGF0YSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLy8vcHVibGljXHJcblxyXG4vKipcclxuICog0JfQsNCz0YDRg9C30LrQsCDQvtGB0L3QvtCy0L3Ri9GFINC80L7QtNGD0LvQtdC5LCDQvdCw0LHQvtGAINC00LvRjyDQstGB0LXRhSDQv9GA0L7QtdC60YLQvtCyXHJcbiAqINC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjNGB0LrQuNGFINC80L7QtNGD0LvQtdC5INC00LvRjyDRjdGC0L7Qs9C+INC/0YDQvtC10LrRgtCwIFxyXG4gKiBcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBjcmVhdGVJbnN0YW5jZSh7XHJcbiAgICAgICAgbmFtZTogJ3NsaWRlci5lZGl0b3InLFxyXG4gICAgICAgIHJlbW90ZXM6IFtdXHJcbiAgICB9KVxyXG5cclxuICAgIF9tb2R1bGVzLmxlbmd0aCA9IDBcclxuICAgIGF3YWl0IHJlZ2lzdGVyUmVtb3RlcyhbLi4uX3ByZWRlZmluZWRdKVxyXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoX3ByZWRlZmluZWQubWFwKHAgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICBsb2FkUmVtb3RlKGAke3AubmFtZX0vJHtwLmluZGV4fWApLnRoZW4obSA9PiB7XHJcbiAgICAgICAgICAgICAgICBfbW9kc1twLm5hbWVdID0gbVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH0pKVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc2hvd0xpYigpIHtcclxuICAgIGNvbnN0IHByb3BzID0gcmVhY3RpdmUoe1xyXG4gICAgICAgIHNlbGVjdGVkOiBudWxsLFxyXG4gICAgICAgIGxpc3Q6IF9tb2R1bGVzLFxyXG4gICAgICAgIHByb2Nlc3NlZDogZmFsc2UsXHJcbiAgICAgICAgc3R5bGVzOiB7XHJcbiAgICAgICAgICAgIGl0ZW06IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEyOHB4XCIsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTI4cHhcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0aXRsZTogXCJQcm9qZWN0IG1vZHVsZXNcIlxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBzYXZlQnV0dG9uID0ge1xyXG4gICAgICAgIGxhYmVsOiBcIkFkZFwiLFxyXG4gICAgICAgIGNsYXNzOiBcInNlY29uZGFyeVwiLFxyXG4gICAgICAgIGhpZGRlbjogY29tcHV0ZWQoKCkgPT4gIXByb3BzLnNlbGVjdGVkIHx8IHByb3BzLnNlbGVjdGVkLnVpZCB8fCBwcm9wcy5wcm9jZXNzZWQpLFxyXG4gICAgICAgIGhhbmRsZXI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgcHJvcHMucHJvY2Vzc2VkID0gdHJ1ZVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcHJvcHMuc2VsZWN0ZWQgPSBhd2FpdCBBZGRNb2R1bGUocHJvcHMuc2VsZWN0ZWQpXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuaXNSZXFFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0cy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vdCBhbGwgcmVxdWlyZWQgZmllbGRzIGFyZSBmaWxsZWQgaW5cIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdHMuYWRkKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFcnJvciBhZGRpbmcgbW9kdWxlXCJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcHJvcHMucHJvY2Vzc2VkID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRvYXN0cy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUaGUgbW9kdWxlIGhhcyBiZWVuIGxvYWRlZCBzdWNjZXNzZnVsbHkuXCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCByZWdidXR0b24gPSB7XHJcbiAgICAgICAgbGFiZWw6IFwiUmVnaXN0cmF0aW9uXCIsXHJcbiAgICAgICAgY2xhc3M6IFwic2Vjb25kYXJ5XCIsXHJcbiAgICAgICAgaGlkZGVuOiBjb21wdXRlZCgoKSA9PiBwcm9wcy5zZWxlY3RlZCAmJiAhcHJvcHMuc2VsZWN0ZWQudWlkKSxcclxuICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHByb3BzLnNlbGVjdGVkID0gcmVhY3RpdmUoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJcIiwgZW50cnk6IFwiXCIsIGluZGV4OiBcIlwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNhbmNlbGJ1dHRvbiA9IHtcclxuICAgICAgICBsYWJlbDogXCJDYW5jZWxcIixcclxuICAgICAgICBjbGFzczogXCJwcmltYXJ5XCIsXHJcbiAgICAgICAgaGlkZGVuOiBjb21wdXRlZCgoKSA9PiAhcHJvcHMuc2VsZWN0ZWQpLFxyXG4gICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgcHJvcHMuc2VsZWN0ZWQgPSBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlbW92ZWJ1dHRvbiA9IHtcclxuICAgICAgICBsYWJlbDogXCJSZW1vdmVcIixcclxuICAgICAgICBjbGFzczogXCJhZGRpdGlvbmFsXCIsXHJcbiAgICAgICAgaGlkZGVuOiBjb21wdXRlZCgoKSA9PiAhcHJvcHMuc2VsZWN0ZWQ/LmlkKSxcclxuICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb3BzLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICBjb25zdCBwcm9wVUlEID0gYCR7cHJvcHMuc2VsZWN0ZWQuaW5kZXh9OiR7cHJvcHMuc2VsZWN0ZWQuZW50cnl9YFxyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IF9tb2R1bGVzLmZpbmRJbmRleChtID0+IGAke20uaW5kZXh9OiR7bS5lbnRyeX1gID09PSBwcm9wVUlEKVxyXG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbSA9IF9tb2R1bGVzLnNwbGljZShpbmRleCwgMSlcclxuICAgICAgICAgICAgICAgIEFwcC50b2FzdHMuYWRkKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgVGhlIG1vZHVsZSBoYXMgYmVlbiByZW1vdmVkIGFuZCB3aWxsIG5vdCBiZSBsb2FkZWQgdGhlIG5leHQgdGltZSB5b3UgdXNlIGl0LlxcblBsZWFzZSByZWZyZXNoIHRoZSBwYWdlIHRvIHRha2UgZWZmZWN0LmBcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBwcm9wcy5zZWxlY3RlZCA9IG51bGxcclxuICAgICAgICAgICAgICAgIElEQi5kZWxldGVJdGVtKFwibW9kdWxlc1wiLCBtWzBdLmluZGV4KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0ge1xyXG4gICAgICAgIGxhYmVsOiBcIkNsb3NlXCIsXHJcbiAgICAgICAgY2xhc3M6IFwicHJpbWFyeVwiLFxyXG4gICAgICAgIGhhbmRsZXI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgbW9kYWwuY2xvc2UoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBidXR0b25zID0gcmVhY3RpdmUoW1xyXG4gICAgICAgIHJlZ2J1dHRvbiwgcmVtb3ZlYnV0dG9uLCBzYXZlQnV0dG9uLCBjYW5jZWxidXR0b24sIGNsb3NlQnV0dG9uLFxyXG4gICAgXSlcclxuXHJcbiAgICBtb2RhbC5vcGVuKHtcclxuICAgICAgICBoZWFkZXI6IHtcclxuICAgICAgICAgICAgdmFsdWU6IGBNYW5hZ2luZyBtb2R1bGVzYCxcclxuICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbW9kYWwuY2xvc2UoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250ZW50OiB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudDogXCJJdGVtc0xpYlwiLFxyXG4gICAgICAgICAgICBwcm9wcyxcclxuICAgICAgICAgICAgZXZlbnRzOiB7XHJcblxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGFzc2V0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5zZWxlY3RlZCA9IGFzc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocHJvcHMuc2VsZWN0ZWQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNsb3RzOiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBcIk1vZHVsZUl0ZW1cIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVkaXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IFwiTW9kdWxlRWRpdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0OiAocHJvcCwgdmFsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5zZWxlY3RlZFtwcm9wXSA9IHZhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmb290ZXI6IHtcclxuICAgICAgICAgICAgYnV0dG9uc1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIFNob3dHbG9iYWxMaWIoKSB7XHJcbiAgICBjb25zdCBwcm9wcyA9IHJlYWN0aXZlKHtcclxuICAgICAgICBzZWxlY3RlZDogbnVsbCxcclxuICAgICAgICBsaXN0OiBfZ2xvYmFsLFxyXG4gICAgICAgIHByb2Nlc3NlZDogZmFsc2UsXHJcbiAgICAgICAgY2FuYWRkOiBmYWxzZSxcclxuICAgICAgICBzdHlsZXM6IHtcclxuICAgICAgICAgICAgaXRlbToge1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTI4cHhcIixcclxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMjhweFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGhlYWQ6IHtcclxuICAgICAgICAgICAgdGl0bGU6IFwiXCJcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IHNhdmVCdXR0b24gPSB7XHJcbiAgICAgICAgbGFiZWw6IFwiQWRkIHRvIHByb2plY3RcIixcclxuICAgICAgICBjbGFzczogXCJzZWNvbmRhcnlcIixcclxuICAgICAgICBoaWRkZW46IGNvbXB1dGVkKCgpID0+IHByb3BzLnByb2Nlc3NlZCB8fCAhcHJvcHMuc2VsZWN0ZWQgfHwgIXByb3BzLmNhbmFkZCksXHJcbiAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBwcm9wcy5wcm9jZXNzZWQgPSB0cnVlXHJcbiAgICAgICAgICAgIHByb3BzLmNhbmFkZCA9IF9tb2R1bGVzLmZpbmRJbmRleChtID0+IG0udWlkID09PSBwcm9wcy5zZWxlY3RlZC51aWQpID09PSAtMVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgQWRkTW9kdWxlKHsgLi4ucHJvcHMuc2VsZWN0ZWQgfSlcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5pc0V4aXN0RXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdHMuYWRkKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0cy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVycm9yIGFkZGluZyBtb2R1bGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwcm9wcy5wcm9jZXNzZWQgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdG9hc3RzLmFkZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRoZSBtb2R1bGUgaGFzIGJlZW4gYWRkZWQgdG8gcHJvamVjdC5cIlxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0ge1xyXG4gICAgICAgIGxhYmVsOiBcIkNsb3NlXCIsXHJcbiAgICAgICAgY2xhc3M6IFwicHJpbWFyeVwiLFxyXG4gICAgICAgIGhhbmRsZXI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgbW9kYWwuY2xvc2UoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBidXR0b25zID0gcmVhY3RpdmUoW1xyXG4gICAgICAgIHNhdmVCdXR0b24sIGNhbmNlbEJ1dHRvblxyXG4gICAgXSlcclxuXHJcbiAgICBtb2RhbC5vcGVuKHtcclxuICAgICAgICBoZWFkZXI6IHtcclxuICAgICAgICAgICAgdmFsdWU6IGBHbG9iYWwgbW9kdWxlc2AsXHJcbiAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG1vZGFsLmNsb3NlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICBjb21wb25lbnQ6IFwiSXRlbXNMaWJcIixcclxuICAgICAgICAgICAgcHJvcHMsXHJcbiAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGFzc2V0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5zZWxlY3RlZCA9IGFzc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuY2FuYWRkID0gX21vZHVsZXMuZmluZEluZGV4KG0gPT4gbS51aWQgPT09IHByb3BzLnNlbGVjdGVkLnVpZCkgPT09IC0xXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocHJvcHMuc2VsZWN0ZWQsIHByb3BzLmNhbmFkZClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2xvdHM6IHtcclxuICAgICAgICAgICAgICAgIGhlYWQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IFwiU2VhcmNoRmlsdGVyXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBpdGVtOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBcIk1vZHVsZUl0ZW1cIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVkaXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IFwiTW9kdWxlVmlld1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZvb3Rlcjoge1xyXG4gICAgICAgICAgICBidXR0b25zXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuLyoqXHJcbiAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINC30LDQs9GA0YPQttC10L3QvdGL0Lkg0LzQvtC00YPQu9GMXHJcbiAqIEBwYXJhbSB7Kn0gbmFtZSBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRNb2QobmFtZSkge1xyXG4gICAgcmV0dXJuIF9tb2RzW25hbWVdXHJcbn1cclxuXHJcbmNvbnN0IF9kYXRhID0gcmVhY3RpdmUoe1xyXG4gICAgaW5pdCwgc2hvd0xpYiwgZ2V0TW9kLCBsb2FkVXNlck1vZHVsZXMsIEFkZE1vZHVsZXNcclxufSlcclxuXHJcbkFwcC5PbihcImluaXRcIiwgKCkgPT4ge1xyXG4gICAgQXBwLm1lbnUuaGllcmFyaHkubGlzdC5wdXNoKHtcclxuICAgICAgICBpY29uOiBcImJvb2tzXCIsXHJcbiAgICAgICAgdG9vbHRpcDogXCJNb2R1bGVzXCIsXHJcbiAgICAgICAgaGFuZGxlcjogc2hvd0xpYlxyXG4gICAgfSlcclxuICAgIHdpbmRvdy52dWUuY29tcG9uZW50KFwiTW9kdWxlRWRpdFwiLCBkZWZpbmVBc3luY0NvbXBvbmVudChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbW9kdWxlID0gYXdhaXQgaW1wb3J0KCdAL2NvbXBvbmVudHMvbW9kYWxzL21vZHVsZXMvbW9kdWxlZWRpdC52dWUnKTtcclxuICAgICAgICByZXR1cm4gbW9kdWxlLmRlZmF1bHQgfHwgbW9kdWxlO1xyXG4gICAgfSkpXHJcbiAgICB3aW5kb3cudnVlLmNvbXBvbmVudChcIk1vZHVsZUl0ZW1cIiwgZGVmaW5lQXN5bmNDb21wb25lbnQoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IGF3YWl0IGltcG9ydCgnQC9jb21wb25lbnRzL21vZGFscy9tb2R1bGVzL21vZHVsZWl0ZW0udnVlJyk7XHJcbiAgICAgICAgcmV0dXJuIG1vZHVsZS5kZWZhdWx0IHx8IG1vZHVsZTtcclxuICAgIH0pKVxyXG4gICAgd2luZG93LnZ1ZS5jb21wb25lbnQoXCJNb2R1bGVWaWV3XCIsIGRlZmluZUFzeW5jQ29tcG9uZW50KGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBtb2R1bGUgPSBhd2FpdCBpbXBvcnQoJ0AvY29tcG9uZW50cy9tb2RhbHMvbW9kdWxlcy9tb2R1bGV2aWV3LnZ1ZScpO1xyXG4gICAgICAgIHJldHVybiBtb2R1bGUuZGVmYXVsdCB8fCBtb2R1bGU7XHJcbiAgICB9KSlcclxuXHJcbiAgICBBcHAubWVudS5hZGRNZW51KCdhcHAnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcGF0aDogJ2FwcC5saXN0LmxpYnJhcmllcycsXHJcbiAgICAgICAgICAgIGljb246ICcnLFxyXG4gICAgICAgICAgICB0ZXh0OiAnTGlicmFyaWVzJyxcclxuICAgICAgICAgICAgbGluazogJyMnLFxyXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6ICdhcHAubGlzdC5saWJyYXJpZXMubW9kdWxlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Jvb2tzJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTW9kdWxlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaG93R2xvYmFsTGliKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9XHJcbiAgICApXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBfZGF0YSIsImltcG9ydCB7IHJlYWN0aXZlLCB3YXRjaCB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IElEQiBmcm9tIFwiQC9pZGIuanNcIlxyXG5pbXBvcnQgQXBwTW9kIGZyb20gXCJAcmVuZW9zL2FwcFwiXHJcbmNvbnN0IEFwcCA9IEFwcE1vZC5kZWZhdWx0IHx8IEFwcE1vZFxyXG5pbXBvcnQgRXZlbnRFbW1pdGVyIGZyb20gXCIuLi9ldmVudGVtaXR0ZXIuanNcIlxyXG5jb25zdCBfZW1taXRlciA9IG5ldyBFdmVudEVtbWl0ZXIoKVxyXG5pbXBvcnQgRWxlbWVudEFkZCBmcm9tIFwiQC9jb21wb25lbnRzL21vZGFscy9lbGVtZW50YWRkLnZ1ZVwiXHJcblxyXG5pbXBvcnQgSW1wb3J0ZXIgZnJvbSBcIkAvY29tcG9uZW50cy9tb2RhbHMvaW1wb3J0ZXIudnVlXCJcclxuXHJcbmltcG9ydCB7IHN0cmluZ2lmeSB9IGZyb20gXCJAL3Rvb2xzLmpzXCJcclxuXHJcbmxldCBfZmFjdG9yeVxyXG5cclxuZnVuY3Rpb24gaW5pdChwcm9qZWN0RGF0YSkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9qZWN0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHYgPSBwcm9qZWN0RGF0YVtpXVxyXG4gICAgICAgIF9kYXRhLmRhdGFbdi51aWRdID0gdlxyXG4gICAgfVxyXG4gICAgX2RhdGEuaW5mbyA9IF9kYXRhLmRhdGFbJ2luZm8nXSB8fCB7XHJcbiAgICAgICAgbmFtZTogXCJFZGl0b3JcIlxyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBsb2FkKG1vZGVsc0RhdGEpIHtcclxuICAgIF9mYWN0b3J5ID0gQXBwLmVuZ2luZS5nZXRGYWN0b3J5KClcclxuICAgIGNvbnN0IHBhcnNlZCA9IHt9XHJcbiAgICBmb3IgKGxldCBpID0gbW9kZWxzRGF0YS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGNvbnN0IG1vZGVsRGF0YSA9IG1vZGVsc0RhdGFbaV1cclxuICAgICAgICBjb25zdCBlbCA9IGF3YWl0IGJ1aWxkKG1vZGVsc0RhdGEsIG1vZGVsRGF0YSwgcGFyc2VkKVxyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gbW9kZWxzRGF0YS5maW5kSW5kZXgocyA9PiBzLnVpZCA9PT0gZWwudWlkKVxyXG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgIG1vZGVsc0RhdGEuc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFN0YXRlKGVsZW1lbnQsIHNsaWRlKSB7XHJcbiAgICBpZiAoIWVsZW1lbnQuc3RhdGVzW3NsaWRlXSkge1xyXG4gICAgICAgIGVsZW1lbnQuc3RhdGVzW3NsaWRlXSA9IHtcclxuICAgICAgICAgICAgYWN0aW9uczogW11cclxuICAgICAgICB9XHJcbiAgICAgICAgX2VtbWl0ZXIuZW1pdCgnc3RhdGVhZGQnLCBzbGlkZSwgZWxlbWVudC5wYXRocylcclxuICAgIH1cclxuICAgIHJldHVybiBlbGVtZW50LnN0YXRlc1tzbGlkZV1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gYnVpbGQobGlzdCwgZGF0YSwgcGFyc2VkKSB7XHJcbiAgICBpZiAoIWRhdGEpXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICBpZiAocGFyc2VkW2RhdGEudWlkXSlcclxuICAgICAgICByZXR1cm4gcGFyc2VkW2RhdGEudWlkXVxyXG4gICAgY29uc3QgcGFyZW50SWQgPSBkYXRhLnBhcmVudFxyXG4gICAgbGV0IHBhcmVudCA9IHBhcnNlZFtwYXJlbnRJZF1cclxuICAgIGlmICghcGFyZW50KSB7XHJcbiAgICAgICAgcGFyZW50ID0gYXdhaXQgYnVpbGQobGlzdCwgbGlzdC5maW5kKGwgPT4gbC51aWQgPT09IHBhcmVudElkKSwgcGFyc2VkKVxyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBlbCA9IGF3YWl0IGNyZWF0ZUVsZW1lbnQoZGF0YSwgcGFyZW50KVxyXG4gICAgICAgIHBhcnNlZFtlbC51aWRdID0gZWxcclxuICAgICAgICByZXR1cm4gZWxcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGVycm9yKVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog0J/QvtC60LDQt9GL0LLQsNC10YLRgdGPINGE0L7RgNC80LAg0LLRi9Cx0L7RgNCwINGC0LjQv9CwINGN0LvQtdC80LXQvdGC0LBcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZEVsZW1lbnQoc2VsZWN0ZWQpIHtcclxuICAgIGNvbnN0IG5ld0VsZW1lbnREYXRhID0ge1xyXG4gICAgICAgIG5hbWU6IFwiTmV3IEVsZW1lbnRcIiwgdHlwZTogXCJHcm91cFwiXHJcbiAgICB9XHJcbiAgICBuZXdFbGVtZW50RGF0YS51aWQgPSBgRWxlbWVudCR7RGF0ZS5ub3coKX1gXHJcbiAgICBuZXdFbGVtZW50RGF0YS5wYXRocyA9IFtdXHJcbiAgICBsZXQgcGFyZW50XHJcbiAgICBpZiAoc2VsZWN0ZWQgJiYgc2VsZWN0ZWQuaXNFbGVtZW50KSB7XHJcbiAgICAgICAgcGFyZW50ID0gc2VsZWN0ZWRcclxuICAgICAgICBuZXdFbGVtZW50RGF0YS5wYXRocy5wdXNoKC4uLnNlbGVjdGVkLnBhdGhzKVxyXG4gICAgfVxyXG4gICAgbmV3RWxlbWVudERhdGEucGF0aHMucHVzaChuZXdFbGVtZW50RGF0YS51aWQpXHJcbiAgICBuZXdFbGVtZW50RGF0YS5wYXRoID0gbmV3RWxlbWVudERhdGEucGF0aHMuam9pbignLicpXHJcbiAgICBBcHAubW9kYWwub3Blbih7XHJcbiAgICAgICAgaGVhZGVyOiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBgQWRkICR7cGFyZW50ID8gXCIgY2hpbGQgZWxlbWVudCB0byBcIiArIHBhcmVudC5uYW1lIHx8IHBhcmVudC51aWQgOiBcIiBuZXcgZWxlbWVudCB0byBzY2VuZVwifWAsXHJcbiAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIEFwcC5tb2RhbC5jbG9zZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgY29tcG9uZW50OiBcIkVsZW1lbnRBZGRcIixcclxuICAgICAgICAgICAgcHJvcHM6IHtcclxuICAgICAgICAgICAgICAgIHBhcmVudDogc2VsZWN0ZWQsXHJcbiAgICAgICAgICAgICAgICBtb2RlbFZhbHVlOiBuZXdFbGVtZW50RGF0YVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgICd1cGRhdGU6bW9kZWxWYWx1ZSc6ICh2YWwpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh2YWwpLmZvckVhY2goayA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0VsZW1lbnREYXRhW2tdID0gdmFsW2tdXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9vdGVyOiB7XHJcbiAgICAgICAgICAgIGJ1dHRvbnM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJBZGRcIixcclxuICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJzZWNvbmRhcnlcIixcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gYXdhaXQgY3JlYXRlRWxlbWVudChuZXdFbGVtZW50RGF0YSwgcGFyZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNhdmUoZWwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgQXBwLm1vZGFsLmNsb3NlKClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJDYW5jZWxcIixcclxuICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJwcmltYXJ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBcHAubW9kYWwuY2xvc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQoZGF0YSwgcGFyZW50KSB7XHJcbiAgICBjb25zdCBlbCA9IGF3YWl0IF9mYWN0b3J5LkJ1aWxkRWxlbWVudChkYXRhLCBwYXJlbnQgfHwgQXBwLmVuZ2luZS5nZXRNYW5hZ2VyKCkuUm9vdClcclxuICAgIGlmICghZWwpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGVsLm5hbWUgPSBkYXRhLm5hbWUgfHwgZGF0YS51aWRcclxuICAgIGVsLnN0YXRlcyA9IGRhdGEuc3RhdGVzIHx8IHt9XHJcbiAgICBlbC5wcm9wZXJ0aWVzID0gZGF0YS5wcm9wZXJ0aWVzIHx8IHt9XHJcbiAgICBlbC5hY3Rpb25zID0gZGF0YS5hY3Rpb25zIHx8IFtdXHJcbiAgICBlbC5wYXRocyA9IGRhdGEucGF0aHMgPz8gZWwucGF0aHNcclxuICAgIGVsLnBhdGggPSBlbC5wYXRocy5qb2luKCcuJylcclxuICAgIGNvbnN0IGVsZW1lbnQgPSByZWFjdGl2ZShlbClcclxuICAgIGNvbnN0IHAgPSBwYXJlbnQgfHwgX2RhdGFcclxuICAgIHAuYWRkKGVsZW1lbnQpLy/QlNC+0LHQsNCy0LvQtdC90LjQtSDQsiBEYXRhXHJcbiAgICBfZW1taXRlci5lbWl0KCdjcmVhdGUnLCBlbGVtZW50KVxyXG4gICAgcmV0dXJuIGVsZW1lbnRcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHBhdGhzKSB7XHJcbiAgICBsZXQgcGFyZW50ID0gX2RhdGFcclxuICAgIGxldCB0YXJnZXQgPSBfZGF0YVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHBhcmVudCA9IHRhcmdldFxyXG4gICAgICAgIHRhcmdldCA9IHBhcmVudC5jaGlsZHJlbi5maW5kKGVsID0+IGVsLnVpZCA9PT0gcGF0aHNbaV0pXHJcbiAgICB9XHJcbiAgICBpZiAoQXBwLnNlbGVjdGlvbi5zZWxlY3RlZCA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgQXBwLnNlbGVjdGlvbi5zZWxlY3QobnVsbClcclxuICAgIH1cclxuICAgIGNvbnN0IGluZGV4ID0gcGFyZW50LmNoaWxkcmVuLmZpbmRJbmRleCh0ID0+IHQgPT09IHRhcmdldClcclxuICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXJnZXQuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0YXJnZXQuY2hpbGRyZW5baV1cclxuICAgICAgICAgICAgaWYgKGNoaWxkLmlzRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlKGNoaWxkLnBhdGhzKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpXHJcbiAgICAgICAgaWYgKHRhcmdldC5wYXJlbnQpIHtcclxuICAgICAgICAgICAgdGFyZ2V0LnBhcmVudC5yZW1vdmUodGFyZ2V0KVxyXG4gICAgICAgIH1cclxuICAgICAgICBJREIuZGVsZXRlSXRlbShcIm1vZGVsc1wiLCB0YXJnZXQudWlkKVxyXG4gICAgICAgIF9mYWN0b3J5LlJlbW92ZU1vZGVsKHRhcmdldC51aWQpXHJcbiAgICAgICAgX2VtbWl0ZXIuZW1pdChcInJlbW92ZVwiLCBwYXRocywgdGFyZ2V0KVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBmaW5kKHBhdGhzKSB7XHJcbiAgICBsZXQgdGFyZ2V0ID0gX2RhdGFcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0YXJnZXQgPSB0YXJnZXQuY2hpbGRyZW4uZmluZChjID0+IGMudWlkID09PSBwYXRoc1tpXSlcclxuICAgIH1cclxuICAgIHJldHVybiB0YXJnZXRcclxufVxyXG5cclxuZnVuY3Rpb24gZmluZE9iamVjdHNCeVR5cGUodHlwZSkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gdHJhdmVyc2Uobm9kZSkge1xyXG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgdHlwZSkgeyAvLyDQn9GA0L7QstC10YDRj9C10LwsINGP0LLQu9GP0LXRgtGB0Y8g0LvQuCDQvtCx0YrQtdC60YIg0Y3QutC30LXQvNC/0LvRj9GA0L7QvCDRg9C60LDQt9Cw0L3QvdC+0LPQviDRgtC40L/QsFxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChub2RlLmRhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5vZGUuY2hpbGRyZW4gJiYgQXJyYXkuaXNBcnJheShub2RlLmNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBub2RlLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4gdHJhdmVyc2UoY2hpbGQpKTsgLy8g0KDQtdC60YPRgNGB0LjQstC90L4g0L7QsdGF0L7QtNC40Lwg0LTQtdGC0LXQuVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0cmF2ZXJzZShfZGF0YSk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzYXZlKG1vZGVsKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IElEQi51cHNlcnRJdGVtUHJvcGVydGllcyhcIm1vZGVsc1wiLCBtb2RlbC51aWQsIEpTT04ucGFyc2Uoc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgbmFtZTogbW9kZWwubmFtZSxcclxuICAgICAgICAgICAgcGF0aHM6IG1vZGVsLnBhdGhzLFxyXG4gICAgICAgICAgICBwYXRoOiBtb2RlbC5wYXRocy5qb2luKCcuJyksXHJcbiAgICAgICAgICAgIHBhcmVudDogbW9kZWwucGFyZW50Py51aWQgfHwgbnVsbCxcclxuICAgICAgICAgICAgYWN0aW9uczogbW9kZWwuYWN0aW9ucyB8fCBbXSxcclxuICAgICAgICAgICAgcHJvcHM6IG1vZGVsLnByb3BzIHx8IHt9LFxyXG4gICAgICAgICAgICAvL2FyZ3M6bW9kZWwuYXJncyB8fCB7fSxcclxuICAgICAgICAgICAgcHJvcGVydGllczogbW9kZWwucHJvcGVydGllcyB8fCB7fSxcclxuICAgICAgICAgICAgc3RhdGVzOiBtb2RlbC5zdGF0ZXMsXHJcbiAgICAgICAgICAgIHR5cGU6IG1vZGVsLnR5cGUsXHJcbiAgICAgICAgICAgIHVpZDogbW9kZWwudWlkLFxyXG4gICAgICAgICAgICBhc3NldHM6IG1vZGVsLmFzc2V0cyB8fCBbXVxyXG4gICAgICAgIH0pKSlcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGVycm9yKVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjb2xsZWN0KGxpc3QsIHNsaWRlLCBvdXRsaXN0ID0gW10pIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGVsID0gbGlzdFtpXVxyXG4gICAgICAgIGlmIChlbC5pc0VsZW1lbnQgJiYgZWwuc3RhdGVzW3NsaWRlXSkge1xyXG4gICAgICAgICAgICBvdXRsaXN0LnB1c2goZWwpXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWVsLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk5vIGNoaWxkXCIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbC5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29sbGVjdChlbC5jaGlsZHJlbiwgc2xpZGUsIG91dGxpc3QpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBmaW5kU3RhdGVzKHNsaWRlVUlEKSB7XHJcbiAgICBjb25zdCBvdXRMaXN0ID0gW11cclxuICAgIGNvbGxlY3QoX2RhdGEuY2hpbGRyZW4sIHNsaWRlVUlELCBvdXRMaXN0KVxyXG4gICAgcmV0dXJuIG91dExpc3RcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZXhwb3J0VG9Kc29uKCkge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IElEQi5leHBvcnRUb0pzb24oX2RhdGEudWlkKVxyXG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShkYXRhKV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pXHJcbiAgICBjb25zdCBmaWxlbmFtZSA9IGBwcm9qZWN0JHtfZGF0YS51aWR9Lmpzb25gO1xyXG4gICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xyXG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmaWxlbmFtZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBhID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICBhLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICBhLmRvd25sb2FkID0gZmlsZW5hbWU7XHJcbiAgICAgICAgYS5zdHlsZSA9ICdkaXNwbGF5OiBub25lJztcclxuICAgICAgICBhLmNsaWNrKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGltcG9ydFByb2plY3QoKSB7XHJcbiAgICAvKipcclxuICog0KTRg9C90LrRhtC40Y8g0LTQu9GPINC+0YLQutGA0YvRgtC40Y8g0LTQuNCw0LvQvtCz0LAg0LLRi9Cx0L7RgNCwINGE0LDQudC70LBcclxuICogQHBhcmFtIHtzdHJpbmd9IGFjY2VwdCAtINCi0LjQv9GLINGE0LDQudC70L7QsiDQtNC70Y8g0LLRi9Cx0L7RgNCwICjQv9C+INGD0LzQvtC70YfQsNC90LjRjiAuanNvbilcclxuICogQHJldHVybnMge1Byb21pc2U8RmlsZT59IFByb21pc2Ug0YEg0LLRi9Cx0YDQsNC90L3Ri9C8INGE0LDQudC70L7QvFxyXG4gKi9cclxuICAgIGZ1bmN0aW9uIG9wZW5GaWxlRGlhbG9nKGFjY2VwdCA9ICcuanNvbicpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgLy8g0KHQvtC30LTQsNC10Lwg0L3QtdCy0LjQtNC40LzRi9C5IGlucHV0INGN0LvQtdC80LXQvdGCXHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgaW5wdXQudHlwZSA9ICdmaWxlJztcclxuICAgICAgICAgICAgaW5wdXQuYWNjZXB0ID0gYWNjZXB0O1xyXG4gICAgICAgICAgICBpbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAgICAgLy8g0J7QsdGA0LDQsdCw0YLRi9Cy0LDQtdC8INCy0YvQsdC+0YAg0YTQsNC50LvQsFxyXG4gICAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZmlsZXMgJiYgaW5wdXQuZmlsZXNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGlucHV0LmZpbGVzWzBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaW5wdXQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vINCU0L7QsdCw0LLQu9GP0LXQvCBpbnB1dCDQsiBET00g0Lgg0YLRgNC40LPQs9C10YDQuNC8INC60LvQuNC6XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gICAgICAgICAgICBpbnB1dC5jbGljaygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog0KTRg9C90LrRhtC40Y8g0LTQu9GPINGH0YLQtdC90LjRjyDQuCDQv9Cw0YDRgdC40L3Qs9CwIEpTT04g0YTQsNC50LvQsFxyXG4gICAgICogQHBhcmFtIHtGaWxlfSBmaWxlIC0g0J7QsdGK0LXQutGCINGE0LDQudC70LBcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59IFByb21pc2Ug0YEg0YDQsNGB0L/QsNGA0YHQtdC90L3Ri9C80Lgg0LTQsNC90L3Ri9C80LggSlNPTlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBwYXJzZUpzb25GaWxlKGZpbGUpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWZpbGUubmFtZS5lbmRzV2l0aCgnLmpzb24nKSkge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcign0JLRi9Cx0LXRgNC40YLQtSDRhNCw0LnQuyDRgSDRgNCw0YHRiNC40YDQtdC90LjQtdC8IC5qc29uJykpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG5cclxuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uRGF0YSA9IEpTT04ucGFyc2UoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShqc29uRGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ9Ce0YjQuNCx0LrQsCDQv9Cw0YDRgdC40L3Qs9CwIEpTT046ICcgKyBlcnJvci5tZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ9Ce0YjQuNCx0LrQsCDRh9GC0LXQvdC40Y8g0YTQsNC50LvQsCcpKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IG9wZW5GaWxlRGlhbG9nKCk7XHJcbiAgICAgICAgY29uc3QganNvbkRhdGEgPSBhd2FpdCBwYXJzZUpzb25GaWxlKGZpbGUpO1xyXG4gICAgICAgIGxldCBtZXJnZWQgPSBmYWxzZVxyXG4gICAgICAgIGNvbnN0IGltcG9ydExpc3QgPSByZWFjdGl2ZSh7XHJcbiAgICAgICAgICAgIGFjdGlvbnM6IHt9LFxyXG4gICAgICAgICAgICBhc3NldHM6IHt9LFxyXG4gICAgICAgICAgICBlbGVtZW50czoge30sXHJcbiAgICAgICAgICAgIHNsaWRlczoge30sXHJcbiAgICAgICAgICAgIG1vZHVsZXM6IHt9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgYXdhaXQgSURCLmFkZEl0ZW1zKFwiYWN0aW9uc1wiLCBqc29uRGF0YS5hY3Rpb25zKVxyXG4gICAgICAgIGF3YWl0IElEQi5hZGRJdGVtcyhcImFzc2V0c1wiLCBqc29uRGF0YS5hc3NldHMpXHJcbiAgICAgICAgYXdhaXQgSURCLmFkZEl0ZW1zKFwibW9kZWxzXCIsIGpzb25EYXRhLm1vZGVscylcclxuICAgICAgICBhd2FpdCBJREIuYWRkSXRlbXMoXCJzbGlkZXNcIiwganNvbkRhdGEuc2xpZGVzKVxyXG4gICAgICAgIGF3YWl0IElEQi5hZGRJdGVtcyhcIm1vZHVsZXNcIiwganNvbkRhdGEubW9kdWxlcylcclxuICAgICAgICBhd2FpdCBJREIuYWRkSXRlbXMoXCJwcm9qZWN0XCIsIGpzb25EYXRhLnByb2plY3QpXHJcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcbiAgICAgICAgLy91cmwuc2VhcmNoUGFyYW1zLnNldCgncHJvamVjdCcsIHByb2plY3ROYW1lKTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybC50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAvKkFwcC5tb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgaGVhZGVyOiB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogYNCY0LzQv9C+0YDRgmAsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgQXBwLm1vZGFsLmNsb3NlKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBcIkltcG9ydGVyXCIsXHJcbiAgICAgICAgICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IGpzb25EYXRhXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogKHYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VkID0gdi5tZXJnZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlbGlzdDogKGxpc3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMobGlzdCkuZm9yRWFjaChrID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydExpc3Rba10gPSBsaXN0W2tdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmb290ZXI6IHtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcItCY0LzQv9C+0YDRglwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJzZWNvbmRhcnlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgSURCLmFkZEl0ZW1zKFwiYWN0aW9uc1wiLCBqc29uRGF0YS5hY3Rpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgSURCLmFkZEl0ZW1zKFwiYXNzZXRzXCIsIGpzb25EYXRhLmFzc2V0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IElEQi5hZGRJdGVtcyhcIm1vZGVsc1wiLCBqc29uRGF0YS5tb2RlbHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBJREIuYWRkSXRlbXMoXCJzbGlkZXNcIiwganNvbkRhdGEuc2xpZGVzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgSURCLmFkZEl0ZW1zKFwibW9kdWxlc1wiLCBqc29uRGF0YS5tb2R1bGVzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgSURCLmFkZEl0ZW1zKFwicHJvamVjdFwiLCBqc29uRGF0YS5wcm9qZWN0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3VybC5zZWFyY2hQYXJhbXMuc2V0KCdwcm9qZWN0JywgcHJvamVjdE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmwudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcC5tb2RhbC5jbG9zZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwi0J7RgtC80LXQvdCwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcInByaW1hcnlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXBwLm1vZGFsLmNsb3NlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKi9cclxuXHJcbiAgICAgICAgLypjb25zdCBrZXkgPSBgcHJvamVjdCR7RGF0ZS5ub3coKX1gXHJcblxyXG4gICAgICAgIGF3YWl0IElEQi5Jbml0KGtleSwgW1wicHJvamVjdHNcIiwgXCJhc3NldHNcIiwgXCJlbGVtZW50c1wiLCBcInNsaWRlc1wiLCBcImFjdGlvbnNcIiwgXCJtb2R1bGVzXCJdLCBcInVpZFwiKVxyXG5cclxuICAgICAgICBmb3IobGV0IGk9MDtpPGpzb25EYXRhLmFzc2V0cy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgY29uc3QgdiA9IGpzb25EYXRhLmFzc2V0c1tpXVxyXG4gICAgICAgICAgICBhd2FpdCBJREIuYWRkSXRlbShcImFzc2V0c1wiLHtcclxuICAgICAgICAgICAgICAgIGlkOnYudWlkLC4uLnZcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTxqc29uRGF0YS5lbGVtZW50cy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgY29uc3QgdiA9IGpzb25EYXRhLmVsZW1lbnRzW2ldXHJcbiAgICAgICAgICAgIGF3YWl0IElEQi5hZGRJdGVtKFwiZWxlbWVudHNcIix7XHJcbiAgICAgICAgICAgICAgICBpZDp2LnVpZCwuLi52XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvcihsZXQgaT0wO2k8anNvbkRhdGEuc2xpZGVzLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBjb25zdCB2ID0ganNvbkRhdGEuc2xpZGVzW2ldXHJcbiAgICAgICAgICAgIGF3YWl0IElEQi5hZGRJdGVtKFwic2xpZGVzXCIse1xyXG4gICAgICAgICAgICAgICAgaWQ6di51aWQsLi4udlxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0qL1xyXG4gICAgICAgIHJldHVybiBqc29uRGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign0J7RiNC40LHQutCwOicsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBwbGF5KHRhcmdldCA9ICdkYXRhJykge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IElEQi5leHBvcnRUb0pzb24oX2RhdGEudWlkKVxyXG4gICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgIGRhdGEucHJvamVjdCA9IHtcclxuICAgICAgICB1aToge1xyXG4gICAgICAgICAgICBzbGlkZXM6IHRydWUsXHJcbiAgICAgICAgICAgIGZ1bGxzY3JlZW46IHRydWVcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgbGluayA9IGAuLi9wbGF5ZXI/c3JjPSR7dGFyZ2V0fWBcclxuICAgIGlmICh0YXJnZXQgPT09ICdkYicpXHJcbiAgICAgICAgbGluayArPSBgJmRiPSR7X2RhdGEudWlkfWBcclxuICAgIGNvbnN0IHBsYXllcldpbmRvdyA9IHdpbmRvdy5vcGVuKGxpbmssICdQbGF5ZXInKTtcclxuXHJcbiAgICBpZiAoIXBsYXllcldpbmRvdykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0L7RgtC60YDRi9GC0Ywg0L7QutC90L4uINCS0L7Qt9C80L7QttC90L4sINCx0YDQsNGD0LfQtdGAINC30LDQsdC70L7QutC40YDQvtCy0LDQuyBwb3AtdXAuJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0YXJnZXQgPT09ICdkYXRhJykge1xyXG4gICAgICAgIC8vINCk0YPQvdC60YbQuNGPINC00LvRjyDQv9C+0LLRgtC+0YDQvdGL0YUg0L/QvtC/0YvRgtC+0Log0L7RgtC/0YDQsNCy0LrQuFxyXG4gICAgICAgIGNvbnN0IHNlbmREYXRhID0gYXN5bmMgKGF0dGVtcHQgPSAwKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvLyDQn9GA0L7QstC10YDRj9C10LwsINC90LUg0LfQsNC60YDRi9GC0L4g0LvQuCDQvtC60L3QvlxyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllcldpbmRvdy5jbG9zZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfQntC60L3QviDQv9C70LXQtdGA0LAg0LHRi9C70L4g0LfQsNC60YDRi9GC0L4nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g0J/Ri9GC0LDQtdC80YHRjyDQvtGC0L/RgNCw0LLQuNGC0Ywg0LTQsNC90L3Ri9C1XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJXaW5kb3cucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdJTklUX0RBVEEnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IGRhdGFcclxuICAgICAgICAgICAgICAgIH0sIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pOyAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDQutC+0L3QutGA0LXRgtC90YvQuSBvcmlnaW4g0LLQvNC10YHRgtC+ICcqJ1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign0J7RiNC40LHQutCwINC/0YDQuCDQvtGC0L/RgNCw0LLQutC1INC00LDQvdC90YvRhTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0ZW1wdCA8IDUpIHsgLy8g0JzQsNC60YHQuNC80YPQvCA1INC/0L7Qv9GL0YLQvtC6XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZW5kRGF0YShhdHRlbXB0ICsgMSksIDUwMCAqIChhdHRlbXB0ICsgMSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8g0J/QtdGA0LLQsNGPINC/0L7Qv9GL0YLQutCwINC+0YLQv9GA0LDQstC60Lgg0YEg0L3QtdCx0L7Qu9GM0YjQvtC5INC30LDQtNC10YDQttC60L7QuVxyXG4gICAgICAgIHNldFRpbWVvdXQoc2VuZERhdGEsIDMwMDApO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlQXNzZXQoZGF0YSkge1xyXG4gICAgaWYgKCFBcHAuc2xpZGVzLmFjdGl2ZWQpIHtcclxuICAgICAgICBBcHAudG9hc3RzLmFkZCh7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGDQndC10L7QsdGF0L7QtNC40LzQviDRgdC+0LfQtNCw0YLRjCDRgdC70LDQudC0YFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBpZiAoZGF0YS5zb3VyY2UudHlwZSA9PT0gXCJtb2RlbFwiKSB7XHJcbiAgICAgICAgY29uc3QgdWlkID0gKGAke2RhdGEuc291cmNlLm5hbWUgfHwgZGF0YS5zb3VyY2UudWlkfSR7RGF0ZS5ub3coKX1gKS5yZXBsYWNlKCcuJywgJycpXHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YS5zb3VyY2UucmVzb3VyY2UpXHJcbiAgICAgICAgY29uc3QgZWwgPSBhd2FpdCBBcHAucHJvamVjdC5jcmVhdGVFbGVtZW50KHtcclxuICAgICAgICAgICAgdHlwZTogXCJPYmplY3QzRFwiLFxyXG4gICAgICAgICAgICB1aWQsXHJcbiAgICAgICAgICAgIHBhcmVudDogZGF0YS50YXJnZXQ/LnVpZCxcclxuICAgICAgICAgICAgYXNzZXRzOiBbe1xyXG4gICAgICAgICAgICAgICAgdWlkOiBkYXRhLnNvdXJjZS51aWRcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIHBhdGhzOiBbLi4uZGF0YS50YXJnZXQ/LnBhdGhzIHx8IFtdLCB1aWRdXHJcbiAgICAgICAgfSwgZGF0YS50YXJnZXQpXHJcbiAgICAgICAgYXdhaXQgQXBwLnByb2plY3Quc2F2ZShlbClcclxuICAgICAgICBBcHAuc2VsZWN0aW9uLnNlbGVjdChlbClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgX2RhdGEgPSByZWFjdGl2ZSh7XHJcbiAgICBhZGQoZWwpIHtcclxuICAgICAgICBfZGF0YS5jaGlsZHJlbi5wdXNoKGVsKVxyXG4gICAgfSxcclxuICAgIHVpZDogbnVsbCwgaW5pdCxcclxuICAgIGluZm86IHtcclxuICAgICAgICBuYW1lOiBcIkVkaXRvclwiXHJcbiAgICB9LFxyXG4gICAgZGF0YToge30sXHJcbiAgICBsb2FkLCBmaW5kU3RhdGVzLCBnZXRTdGF0ZSwgcmVtb3ZlLCBoYW5kbGVBc3NldCxcclxuICAgIGFkZEVsZW1lbnQsIGNyZWF0ZUVsZW1lbnQsIHNhdmUsIGZpbmQsIGZpbmRPYmplY3RzQnlUeXBlLFxyXG4gICAgZXhwb3J0VG9Kc29uLCBpbXBvcnRQcm9qZWN0LCBwbGF5LFxyXG4gICAgY2hpbGRyZW46IFtdLFxyXG4gICAgb246IF9lbW1pdGVyLm9uLmJpbmQoX2VtbWl0ZXIpLFxyXG4gICAgb2ZmOiBfZW1taXRlci5vZmYuYmluZChfZW1taXRlciksXHJcbiAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgY2FtZXJhOiB7fVxyXG4gICAgfVxyXG59KVxyXG5cclxuQXBwLk9uKFwiaW5pdFwiLCAoKSA9PiB7XHJcblxyXG4gICAgd2luZG93LnZ1ZS5jb21wb25lbnQoXCJJbXBvcnRlclwiLCBJbXBvcnRlcilcclxuICAgIHdpbmRvdy52dWUuY29tcG9uZW50KFwiRWxlbWVudEFkZFwiLCBFbGVtZW50QWRkKVxyXG5cclxuICAgIEFwcC5zbGlkZXMub24oXCJjaGFuZ2VcIiwgKHNsaWRlKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgb3V0TGlzdCA9IFtdXHJcbiAgICAgICAgY29sbGVjdChfZGF0YS5jaGlsZHJlbiwgc2xpZGUsIG91dExpc3QpXHJcbiAgICAgICAgLy9hY3RpdmF0ZXMoX2RhdGEuY2hpbGRyZW4sIHNsaWRlLnVpZClcclxuICAgIH0pXHJcblxyXG4gICAgQXBwLnNsaWRlcy5vbihcInJlbW92ZVwiLCAodWlkKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgb3V0TGlzdCA9IFtdXHJcbiAgICAgICAgY29sbGVjdChfZGF0YS5jaGlsZHJlbiwgdWlkLCBvdXRMaXN0KVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0TGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBkZWxldGUgb3V0TGlzdFtpXS5zdGF0ZXNbdWlkXVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgQXBwLm1lbnUuYWRkTWVudSgnYXBwJyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHBhdGg6ICdhcHAubGlzdC5wcm9qZWN0JyxcclxuICAgICAgICAgICAgaWNvbjogJycsXHJcbiAgICAgICAgICAgIHRleHQ6ICdQcm9qZWN0JyxcclxuICAgICAgICAgICAgbGluazogJyMnLFxyXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6ICdhcHAubGlzdC5wcm9qZWN0LmNyZWF0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZpbGUtZW1wdHknLFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICdDcmVhdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXBwLnByb2plY3RzLmNyZWF0ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiAnYXBwLmxpc3QucHJvamVjdC5vcGVuJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnbWVudScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ09wZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6IFwiT3BlbiBwcm9qZWN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBcHAucHJvamVjdHMub3BlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiAnYXBwLmxpc3QucHJvamVjdC5leHBvcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdkb3dubG9hZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0V4cG9ydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogXCJFeHBvcnQgcHJvamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXBwLnByb2plY3QuZXhwb3J0VG9Kc29uKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6ICdhcHAubGlzdC5wcm9qZWN0LmltcG9ydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3VwbG9hZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0ltcG9ydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbGluazogJyMnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6IFwiSW1wb3J0IHByb2plY3RcIixcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFwcC5wcm9qZWN0LmltcG9ydFByb2plY3QoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogJ2FwcC5saXN0LnByb2plY3QucmVtb3ZlJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnYmluJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnRGVsZXRlJyxcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFwcC5wcm9qZWN0cy5yZW1vdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH1cclxuICAgIClcclxufSlcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBfZGF0YSIsImltcG9ydCB7IHJlYWN0aXZlLCBjb21wdXRlZCwgdG9SYXcgfSBmcm9tICd2dWUnXHJcbmltcG9ydCBJREIgZnJvbSBcIkAvaWRiLmpzXCJcclxuaW1wb3J0IEFwcE1vZCBmcm9tIFwiQHJlbmVvcy9hcHBcIlxyXG5jb25zdCBBcHAgPSBBcHBNb2QuZGVmYXVsdCB8fCBBcHBNb2RcclxuXHJcbmltcG9ydCBFdmVudEVtbWl0ZXIgZnJvbSBcIi4uL2V2ZW50ZW1pdHRlci5qc1wiXHJcbmltcG9ydCB7IHN0cmluZ2lmeSB9IGZyb20gXCIuLi90b29scy5qc1wiXHJcbmltcG9ydCBQcm9qZWN0IGZyb20gXCIuL3Byb2plY3QuanNcIlxyXG5cclxuY29uc3QgX2VtbWl0ZXIgPSBuZXcgRXZlbnRFbW1pdGVyKClcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWQoc2xpZGVzKSB7XHJcbiAgICBfZGF0YS5jaGlsZHJlbi5sZW5ndGggPSAwXHJcbiAgICBjb25zdCBzbHMgPSBzbGlkZXMuc29ydCgoYSwgYikgPT4gYS5pbmRleCAtIGIuaW5kZXgpXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHMgPSBzbHNbaV1cclxuICAgICAgICBjb25zdCBzbGlkZSA9IHtcclxuICAgICAgICAgICAgbmFtZTogXCJcIixcclxuICAgICAgICAgICAgY2FtZXJhOiB7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBudWxsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFjdGlvbnM6IFtdLFxyXG4gICAgICAgICAgICBpbmRleDogaSxcclxuICAgICAgICAgICAgcHJvcHM6IHt9LFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBudWxsLFxyXG4gICAgICAgICAgICBlbnZpcm9ubWVudDoge30sXHJcbiAgICAgICAgICAgIC4uLnMsXHJcbiAgICAgICAgICAgIC8vYmFja2dyb3VuZDogcy5iYWNrZ3JvdW5kID8gbmV3IFNjZW5lQmFja2dyb3VuZChzLmJhY2tncm91bmQgfHwgeyB0eXBlOiAnY29sb3InLCB2YWx1ZTogJyNmZmZmZmYnIH0pIDogbnVsbFxyXG4gICAgICAgIH1cclxuICAgICAgICBfZGF0YS5jaGlsZHJlbi5wdXNoKHNsaWRlKVxyXG4gICAgfVxyXG5cclxuICAgIFByb2plY3Qub24oXCJyZW1vdmVcIiwgKHBhdGhzKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcCA9IHBhdGhzLmpvaW4oJy4nKVxyXG4gICAgICAgIGlmIChBcHAuZW5naW5lLlByb2plY3QuQ2FtZXJhPy5wYXRoID09PSBwKSB7XHJcbiAgICAgICAgICAgIEFwcC5lbmdpbmUuUHJvamVjdC5SZXNldENhbWVyYSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX2RhdGEuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcyA9IF9kYXRhLmNoaWxkcmVuW2ldXHJcbiAgICAgICAgICAgIGlmIChzLmNhbWVyYT8ucGF0aCA9PT0gcCkge1xyXG4gICAgICAgICAgICAgICAgcy5jYW1lcmEucGF0aCA9IG51bGxcclxuICAgICAgICAgICAgICAgIHNhdmUocylcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzYXZlKHNsaWRlKSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBzbGlkZSB8fCBfZGF0YS5hY3RpdmVkXHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIGFjdGlvbnM6IHRhcmdldC5hY3Rpb25zLFxyXG4gICAgICAgIG5hbWU6IHRhcmdldC5uYW1lLFxyXG4gICAgICAgIGluZGV4OiB0YXJnZXQuaW5kZXgsXHJcbiAgICAgICAgY2FtZXJhOiB0YXJnZXQuY2FtZXJhLFxyXG4gICAgICAgIHVpZDogdGFyZ2V0LnVpZCxcclxuICAgICAgICBwcm9wczogdGFyZ2V0LnByb3BzLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IHRhcmdldC5iYWNrZ3JvdW5kLFxyXG4gICAgICAgIGVudmlyb25tZW50OiB0YXJnZXQuZW52aXJvbm1lbnQsXHJcbiAgICB9XHJcbiAgICAvKmlmICh0YXJnZXQuYmFja2dyb3VuZCkge1xyXG4gICAgICAgIGlmICh0YXJnZXQuYmFja2dyb3VuZC5pc0Fzc2V0KSB7XHJcbiAgICAgICAgICAgIGRhdGEuYmFja2dyb3VuZCA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRhcmdldC5iYWNrZ3JvdW5kLnR5cGUsXHJcbiAgICAgICAgICAgICAgICB1aWQ6IHRhcmdldC5iYWNrZ3JvdW5kLnVpZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuYmFja2dyb3VuZC5lbmNvZGUpIHtcclxuICAgICAgICAgICAgZGF0YS5iYWNrZ3JvdW5kID0gdGFyZ2V0LmJhY2tncm91bmQuZW5jb2RlKClcclxuICAgICAgICB9XHJcbiAgICB9Ki9cclxuICAgIGNvbnN0IG91dGRhdGEgPSBKU09OLnBhcnNlKHN0cmluZ2lmeShkYXRhKSlcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgSURCLnVwc2VydEl0ZW1Qcm9wZXJ0aWVzKFwic2xpZGVzXCIsIGRhdGEudWlkLCBvdXRkYXRhKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpXHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZChkYXRhKSB7XHJcbiAgICBjb25zdCB1aWQgPSBgc2wke0RhdGUubm93KCl9YFxyXG4gICAgY29uc3Qgc2xpZGUgPSB7XHJcbiAgICAgICAgaW5kZXg6IF9kYXRhLmNoaWxkcmVuLmxlbmd0aCxcclxuICAgICAgICBuYW1lOiB1aWQsXHJcbiAgICAgICAgdWlkLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IG51bGwsXHJcbiAgICAgICAgZW52aXJvbm1lbnQ6IHt9LFxyXG4gICAgICAgIGNhbWVyYToge1xyXG4gICAgICAgICAgICBwYXRoOiBudWxsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwcm9wczoge30sXHJcbiAgICAgICAgYWN0aW9uczogW10sXHJcbiAgICAgICAgLi4uZGF0YVxyXG4gICAgfVxyXG4gICAgX2RhdGEuY2hpbGRyZW4ucHVzaChzbGlkZSlcclxuICAgIGF3YWl0IHNhdmUoc2xpZGUpXHJcbiAgICBfZW1taXRlci5lbWl0KCdhZGQnLCBzbGlkZS51aWQpXHJcbiAgICByZXR1cm4gc2xpZGVcclxufVxyXG5cclxuLyoqXHJcbiAqINCj0LTQsNC70LXQvdC40LUg0L/QviB1aWRcclxuICogQHBhcmFtIHtTdHJpbmd9IGlkIFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKGlkKSB7XHJcbiAgICBjb25zb2xlLmxvZygncmVtb3ZlJylcclxuICAgIGxldCB1aWQgPSBpZCB8fCBfZGF0YS5hY3RpdmVkLnVpZFxyXG4gICAgY29uc3QgaW5kZXggPSBfZGF0YS5jaGlsZHJlbi5maW5kSW5kZXgocyA9PiBzLnVpZCA9PT0gdWlkKVxyXG4gICAgaWYgKGluZGV4ID49IDApIHtcclxuICAgICAgICBpZiAoX2RhdGEuYWN0aXZlZC51aWQgPT09IHVpZCkge1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGdvdG8oMSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGdvdG8oaW5kZXggLSAxKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9kYXRhLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSlcclxuICAgICAgICBhd2FpdCBJREIuZGVsZXRlSXRlbShcInNsaWRlc1wiLCB1aWQpXHJcbiAgICAgICAgY29uc3QgbGlua2VkID0gX2RhdGEuY2hpbGRyZW4uZmluZChzID0+IHMubmV4dCA9PT0gdWlkKVxyXG4gICAgICAgIGlmIChsaW5rZWQpIHtcclxuICAgICAgICAgICAgaWYgKF9kYXRhLmNoaWxkcmVuLmxlbmd0aCA+PSBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgbGlua2VkLm5leHQgPSBfZGF0YS5jaGlsZHJlbltpbmRleF0udWlkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgX2VtbWl0ZXIuZW1pdCgncmVtb3ZlJywgdWlkKVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnb3RvKHVpZCkge1xyXG4gICAgY29uc3Qgb2xkU2xpZGUgPSBfZGF0YS5hY3RpdmVkXHJcbiAgICBpZiAodHlwZW9mIHVpZCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBfZGF0YS5hY3RpdmVkID0gX2RhdGEuY2hpbGRyZW5bdWlkXVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBfZGF0YS5hY3RpdmVkID0gX2RhdGEuY2hpbGRyZW4uZmluZChzID0+IHMudWlkID09PSB1aWQpXHJcbiAgICB9XHJcbiAgICBpZiAoIV9kYXRhLmFjdGl2ZWQpXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICBfZW1taXRlci5lbWl0KCdjaGFuZ2UnLCBfZGF0YS5hY3RpdmVkLnVpZClcclxuICAgIEFjdGl2YXRlKF9kYXRhLmFjdGl2ZWQsIG9sZFNsaWRlKVxyXG5cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gQWN0aXZhdGUoc2xpZGUsIG9sZFNsaWRlKSB7XHJcbiAgICBsZXQgb2xkU3RhdGVzID0gW11cclxuICAgIGxldCBuZXh0U3RhdGVzID0gUHJvamVjdC5maW5kU3RhdGVzKHNsaWRlLnVpZClcclxuICAgIGlmIChvbGRTbGlkZSkge1xyXG4gICAgICAgIG9sZFN0YXRlcyA9IFByb2plY3QuZmluZFN0YXRlcyhvbGRTbGlkZS51aWQpXHJcbiAgICAgICAgYXdhaXQgU2xpZGVPdXQob2xkU2xpZGUsIG9sZFN0YXRlcywgbmV4dFN0YXRlcylcclxuICAgIH1cclxuICAgIGF3YWl0IFNsaWRlSW4oc2xpZGUsIG5leHRTdGF0ZXMsIG9sZFN0YXRlcylcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gU2xpZGVJbihzbGlkZSwgbmV4dFN0YXRlcywgb2xkU3RhdGVzKSB7XHJcbiAgICAvL9Ct0LvQtdC80LXQvdGC0Ysg0LrQvtGC0L7RgNGL0LUg0L7RgtGB0YPRgtGB0YLQstC+0LLQsNCy0LDQu9C4INCyINC/0YDQtdC00YvQtNGD0YnQtdC8INGB0LvQsNC50LTQtSDQvdC+INC/0YDQuNGB0YPRgtGB0YLQstGD0Y7RgiDQsiDQvdC+0LLQvtC8XHJcbiAgICBjb25zdCBlbmFibGVMaXN0ID0gW11cclxuICAgIC8v0K3Qu9C10LzQtdC90YLRiyDQutC+0YLQvtGA0YvQtSDQsdGL0LvQuCDQsiDQv9GA0LXQtNGL0LTRg9GJ0LXQvCDRgdC70LDQudC00LUg0Lgg0LHRg9C00YPRgiDQsiDQvdC+0LLQvtC8XHJcbiAgICBjb25zdCBjb250aW51ZUxpc3QgPSBbXVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0U3RhdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBuZXh0U3RhdGVzW2ldXHJcbiAgICAgICAgaWYgKG9sZFN0YXRlcy5maW5kSW5kZXgocyA9PiBzLnVpZCA9PT0gc3RhdGUudWlkLyogfHwgc3RhdGUuZGF0YS5wZXJzaXN0ZW50Ki8pID49IDApIHtcclxuICAgICAgICAgICAgY29udGludWVMaXN0LnB1c2goc3RhdGUpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZW5hYmxlTGlzdC5wdXNoKHN0YXRlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdTbGlkZSBJbicpXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGlmIChzbGlkZS5jYW1lcmE/LnBhdGggJiYgc2xpZGUuY2FtZXJhPy5wYXRoICE9PSBBcHAuZW5naW5lLmdldE1hbmFnZXIoKS5DYW1lcmE/LnBhdGgpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FtUGF0aHMgPSBzbGlkZS5jYW1lcmEucGF0aC5zcGxpdCgnLicpXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbSA9IFByb2plY3QuZmluZChjYW1QYXRocylcclxuICAgICAgICAgICAgQXBwLmVuZ2luZS5nZXRNYW5hZ2VyKCkuU2V0Q2FtZXJhKGNhbSlcclxuICAgICAgICAgICAgY2FtLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhzbGlkZS5iYWNrZ3JvdW5kKVxyXG4gICAgICAgIGlmIChzbGlkZS5iYWNrZ3JvdW5kKSB7XHJcbiAgICAgICAgICAgIGlmIChzbGlkZS5iYWNrZ3JvdW5kLmlzQXNzZXQpIHtcclxuICAgICAgICAgICAgICAgIEFwcC5lbmdpbmUuZ2V0TWFuYWdlcigpLlNjZW5lLmJhY2tncm91bmQgPSBzbGlkZS5iYWNrZ3JvdW5kLnJlc291cmNlXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBBcHAuZW5naW5lLmdldE1hbmFnZXIoKS5TY2VuZS5iYWNrZ3JvdW5kID0gc2xpZGUuYmFja2dyb3VuZFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKnN3aXRjaCAoc2xpZGUuYmFja2dyb3VuZC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIEFwcC5lbmdpbmUuZ2V0TWFuYWdlcigpLlNjZW5lLmJhY2tncm91bmQgPSBzbGlkZS5iYWNrZ3JvdW5kW3NsaWRlLmJhY2tncm91bmQudHlwZV1cclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImN1YmVcIjpcclxuICAgICAgICAgICAgICAgICAgICBBcHAuZW5naW5lLmdldE1hbmFnZXIoKS5TY2VuZS5iYWNrZ3JvdW5kID0gc2xpZGUuYmFja2dyb3VuZC52YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidGV4dHVyZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIEFwcC5lbmdpbmUuZ2V0TWFuYWdlcigpLlNjZW5lLmJhY2tncm91bmQgPSBzbGlkZS5iYWNrZ3JvdW5kLnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgfSovXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IubWVzc2FnZSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy/QodC/0LjRgdC+0Log0LLRgdC10YUg0Y3Qu9C10LzQtdC90YLQvtCyINCyINC90L7QstC+0Lwg0YHQu9Cw0LnQtNC1XHJcbiAgICBjb25zdCBmdWxsTGlzdCA9IFsuLi5lbmFibGVMaXN0LCAuLi5jb250aW51ZUxpc3RdXHJcblxyXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIEFwcC5lbmdpbmUuQWN0aW9uc01hbmFnZXIuRXhlY3V0ZShmdWxsTGlzdC5tYXAoZWwgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgLi4uZWwuc3RhdGVzW3NsaWRlLnVpZF0sXHJcbiAgICAgICAgICAgICAgICBtb2RlbDogZWxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLCAnc2xpZGUuaW4uYmVmb3JlJyksXHJcbiAgICAgICAgQXBwLmVuZ2luZS5BY3Rpb25zTWFuYWdlci5SdW4oc2xpZGUuYWN0aW9ucywgc2xpZGUsICdzbGlkZS5pbi5iZWZvcmUnKVxyXG4gICAgXSlcclxuICAgIGF3YWl0IEFwcC5lbmdpbmUuQWN0aW9uc01hbmFnZXIuRXhlY3V0ZShlbmFibGVMaXN0LCAnZW5hYmxlLm9uJylcclxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICBBcHAuZW5naW5lLkFjdGlvbnNNYW5hZ2VyLkV4ZWN1dGUoZnVsbExpc3QsICdzbGlkZS5pbicpLFxyXG4gICAgICAgIEFwcC5lbmdpbmUuQWN0aW9uc01hbmFnZXIuUnVuKHNsaWRlLmFjdGlvbnMsIHNsaWRlLCAnc2xpZGUuaW4nKVxyXG4gICAgXSlcclxuICAgIGNvbnN0IHByb21zID0gW11cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnVsbExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBwcm9tcy5wdXNoKEFjdGl2YXRlU3RhdGUoZnVsbExpc3RbaV0sIHNsaWRlLnVpZCkpXHJcbiAgICAgICAgLy9mdWxsTGlzdFtpXS5zdGF0ZXNbc2xpZGUudWlkXS5hY3RpdmF0ZSgpXHJcbiAgICB9XHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9tcylcclxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICBBcHAuZW5naW5lLkFjdGlvbnNNYW5hZ2VyLkV4ZWN1dGUoZnVsbExpc3QsICdzbGlkZS5pbi5hZnRlcicpLFxyXG4gICAgICAgIEFwcC5lbmdpbmUuQWN0aW9uc01hbmFnZXIuUnVuKHNsaWRlLmFjdGlvbnMsIHNsaWRlLCAnc2xpZGUuaW4uYWZ0ZXInKVxyXG4gICAgXSlcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gQWN0aXZhdGVTdGF0ZShlbGVtZW50LCBzbGlkZSkge1xyXG4gICAgY29uc3QgeyBwb3NpdGlvbiwgcm90YXRpb24sIHNjYWxlLCBhY3Rpb25zID0gW10sIHByb3BlcnRpZXMgPSB7fSwgdmlzaWJsZSA9IGZhbHNlLCAuLi5wcm9wcyB9ID0gZWxlbWVudC5zdGF0ZXNbc2xpZGVdO1xyXG5cclxuICAgIGlmIChwb3NpdGlvbilcclxuICAgICAgICBlbGVtZW50LnBvc2l0aW9uLmNvcHkocG9zaXRpb24pXHJcbiAgICBpZiAocm90YXRpb24pXHJcbiAgICAgICAgZWxlbWVudC5yb3RhdGlvbi5zZXRGcm9tVmVjdG9yMyhyb3RhdGlvbiwgXCJYWVpcIilcclxuICAgIGlmIChzY2FsZSlcclxuICAgICAgICBlbGVtZW50LnNjYWxlLmNvcHkoc2NhbGUpXHJcbiAgICBjb25zdCBwcm9taXNlcyA9IE9iamVjdC5rZXlzKHByb3BzKS5tYXAoYXN5bmMgayA9PiB7XHJcbiAgICAgICAgY29uc3QgcGF0aHMgPSBrLnNwbGl0KCcuJylcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHByb3BzW2tdXHJcbiAgICAgICAgbGV0IHAgPSBwYXRoc1swXVxyXG4gICAgICAgIGxldCB0YXJnZXQgPSBlbGVtZW50XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoIC0gMTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXRbcGF0aHNbaV1dXHJcbiAgICAgICAgICAgICAgICBwID0gcGF0aHNbaSArIDFdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGFyZ2V0W3BdID0gYXdhaXQgQXBwLmVuZ2luZS5nZXRGYWN0b3J5KCkuQ3JlYXRlRWxlbWVudCh2YWx1ZSlcclxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwga2V5OiBrIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpXHJcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBrZXk6IGssIGVycm9yIH1cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vINCW0LTQtdC8INC30LDQstC10YDRiNC10L3QuNGPINCy0YHQtdGFINC/0YDQvtC80LjRgdC+0LJcclxuICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKVxyXG4gICAgZWxlbWVudC52aXNpYmxlID0gdmlzaWJsZVxyXG4gICAgLypPYmplY3Qua2V5cyhwcm9wcykuZm9yRWFjaChhc3luYyBrID0+IHtcclxuICAgICAgICBjb25zdCBwYXRocyA9IGsuc3BsaXQoJy4nKVxyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gcHJvcHNba11cclxuICAgICAgICBsZXQgcCA9IHBhdGhzWzBdXHJcbiAgICAgICAgbGV0IHRhcmdldCA9IGVsZW1lbnRcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhzLmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0W3BhdGhzW2ldXVxyXG4gICAgICAgICAgICAgICAgcCA9IHBhdGhzW2kgKyAxXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhcmdldFtwXSlcclxuICAgICAgICAgICAgdGFyZ2V0W3BdID0gYXdhaXQgQXBwLmVuZ2luZS5nZXRGYWN0b3J5KCkuQ3JlYXRlRWxlbWVudCh2YWx1ZSk7Ly8gdmFsdWVcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGFyZ2V0W3BdKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9KSovXHJcbiAgICBlbGVtZW50LnN0YXRlID0gZWxlbWVudC5zdGF0ZXNbc2xpZGVdIHx8IHtcclxuICAgICAgICBtb2RlbDogZWxlbWVudFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHR5cGVEYXRhID0gQXBwLmVuZ2luZS5GYWN0b3J5LlRyZWVUeXBlcy5maW5kKHQgPT4gdC50eXBlID09PSBlbGVtZW50LnR5cGUpXHJcbiAgICBpZiAodHlwZURhdGE/Lm9uY2hhbmdlKSB7XHJcbiAgICAgICAgdHlwZURhdGEub25jaGFuZ2UoZWxlbWVudClcclxuICAgIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gU2xpZGVPdXQoc2xpZGUsIG9sZFN0YXRlcywgbmV4dFN0YXRlcykge1xyXG4gICAgY29uc3QgY29udGludWVMaXN0ID0gW11cclxuICAgIGNvbnN0IGRpc2FibGVMaXN0ID0gW11cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkU3RhdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBvbGRTdGF0ZXNbaV1cclxuICAgICAgICBpZiAobmV4dFN0YXRlcy5maW5kSW5kZXgocyA9PiBzLnVpZCA9PT0gc3RhdGUudWlkKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlTGlzdC5wdXNoKHN0YXRlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRpc2FibGVMaXN0LnB1c2goc3RhdGUpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgZnVsbExpc3QgPSBbLi4uZGlzYWJsZUxpc3QsIC4uLmNvbnRpbnVlTGlzdF1cclxuXHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgQXBwLmVuZ2luZS5BY3Rpb25zTWFuYWdlci5FeGVjdXRlKGZ1bGxMaXN0LCAnc2xpZGUub3V0JyksXHJcbiAgICAgICAgQXBwLmVuZ2luZS5BY3Rpb25zTWFuYWdlci5SdW4oc2xpZGUuYWN0aW9ucywgc2xpZGUsICdzbGlkZS5vdXQnKVxyXG4gICAgXSlcclxuXHJcbiAgICBhd2FpdCBBcHAuZW5naW5lLkFjdGlvbnNNYW5hZ2VyLkV4ZWN1dGUoZGlzYWJsZUxpc3QsICdkaXNhYmxlLm9uJylcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpc2FibGVMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgRGVjdGl2YXRlU3RhdGUoZGlzYWJsZUxpc3RbaV0sIHNsaWRlKVxyXG4gICAgICAgIC8vZGlzYWJsZUxpc3RbaV0uZGVhY3RpdmF0ZSgpXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERlY3RpdmF0ZVN0YXRlKGVsZW1lbnQsIHNsaWRlKSB7XHJcbiAgICBlbGVtZW50LnZpc2libGUgPSBmYWxzZVxyXG59XHJcblxyXG5cclxuXHJcbmNvbnN0IF9kYXRhID0gcmVhY3RpdmUoe1xyXG4gICAgbG9hZCwgYWRkLCByZW1vdmUsIHNhdmUsXHJcbiAgICBhY3RpdmVkOiBudWxsLFxyXG4gICAgY2hpbGRyZW46IFtdLFxyXG4gICAgZ290byxcclxuICAgIG5leHQoKSB7XHJcbiAgICAgICAgY29uc3Qgc2xudW0gPSBfZGF0YS5jaGlsZHJlbi5maW5kSW5kZXgocyA9PiBzLnVpZCA9PT0gX2RhdGEuYWN0aXZlZC51aWQpXHJcbiAgICAgICAgaWYgKHNsbnVtID49IF9kYXRhLmNoaWxkcmVuLmxlbmd0aCAtIDEpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIF9kYXRhLmdvdG8oc2xudW0gKyAxKVxyXG4gICAgfSxcclxuICAgIGJhY2soKSB7XHJcbiAgICAgICAgY29uc3Qgc2xudW0gPSBfZGF0YS5jaGlsZHJlbi5maW5kSW5kZXgocyA9PiBzLnVpZCA9PT0gX2RhdGEuYWN0aXZlZC51aWQpXHJcbiAgICAgICAgaWYgKHNsbnVtID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICBfZGF0YS5nb3RvKHNsbnVtIC0gMSlcclxuICAgIH0sXHJcbiAgICBvbjogX2VtbWl0ZXIub24uYmluZChfZW1taXRlciksXHJcbiAgICBvZmY6IF9lbW1pdGVyLm9mZi5iaW5kKF9lbW1pdGVyKVxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgX2RhdGEiLCJpbXBvcnQgeyByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IG1vZHVsZXMgZnJvbSBcIi4vbW9kdWxlcy5qc1wiXHJcbmltcG9ydCBTbGlkZXMgZnJvbSBcIi4vc2xpZGVzLmpzXCJcclxubGV0IF9tYW5hZ2VyXHJcbmNvbnN0IG1hbmFnZXJzID0ge31cclxuXHJcbmNvbnN0IF9vbkxvYWRlZCA9IFtdLCBfb25Jbml0ID0gW11cclxuXHJcbmNvbnN0IF9kYXRhID0gcmVhY3RpdmUoe1xyXG4gICAgcmVhZHk6IGZhbHNlLFxyXG4gICAgZ2V0QXNzZXRzTWFuYWdlcigpIHtcclxuICAgICAgICByZXR1cm4gbWFuYWdlcnMuQXNzZXRzTWFuYWdlclxyXG4gICAgfSxcclxuICAgIGdldFNsaWRlc01hbmFnZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG1hbmFnZXJzLlNsaWRlc01hbmFnZXJcclxuICAgIH0sXHJcbiAgICBnZXRGYWN0b3J5KCkge1xyXG4gICAgICAgIHJldHVybiBtYW5hZ2Vycy5GYWN0b3J5XHJcbiAgICB9LFxyXG4gICAgZ2V0TWFuYWdlcih2KSB7XHJcbiAgICAgICAgcmV0dXJuIG1hbmFnZXJzW3ZdIHx8IF9tYW5hZ2VyXHJcbiAgICB9LFxyXG4gICAgYXN5bmMgbG9hZCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRW5naW5lIGxvYWQnKVxyXG4gICAgICAgIGNvbnN0IHsgQXNzZXRzTWFuYWdlciwgQ3NzTWFuYWdlciwgTW91c2VNYW5hZ2VyLCBBY3Rpb25zTWFuYWdlciwgUHJvamVjdCwgRmFjdG9yeSB9ID0gbW9kdWxlcy5nZXRNb2QoJ2VuZ2luZScpLy8gYXdhaXQgbW9kdWxlcy5sb2FkKFwiZW5naW5lXCIsIFwiZW5naW5lXCIpXHJcbiAgICAgICAgLy9fbWFuYWdlciA9IE1hbmFnZXJcclxuICAgICAgICBtYW5hZ2Vycy5Bc3NldHNNYW5hZ2VyID0gQXNzZXRzTWFuYWdlclxyXG4gICAgICAgIG1hbmFnZXJzLlNsaWRlc01hbmFnZXIgPSBTbGlkZXNcclxuICAgICAgICBtYW5hZ2Vycy5GYWN0b3J5ID0gRmFjdG9yeVxyXG4gICAgICAgIG1hbmFnZXJzLk1vdXNlTWFuYWdlciA9IE1vdXNlTWFuYWdlclxyXG4gICAgICAgIG1hbmFnZXJzLkFjdGlvbnNNYW5hZ2VyID0gQWN0aW9uc01hbmFnZXJcclxuICAgICAgICBtYW5hZ2Vycy5Dc3NNYW5hZ2VyID0gQ3NzTWFuYWdlclxyXG4gICAgICAgIG1hbmFnZXJzLlByb2plY3QgPSBfbWFuYWdlciA9IFByb2plY3RcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VuZ2luZSBsb2FkIGNvbXBsZXRlJylcclxuICAgICAgICBjb25zb2xlLmxvZyhfb25Jbml0KVxyXG4gICAgICAgIGNvbnN0IHByb21zID0gW11cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9vbkluaXQubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgIHByb21zLnB1c2goX29uSW5pdFtpXShfbWFuYWdlcikpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9vbkluaXQubGVuZ3RoID0gMFxyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21zKVxyXG5cclxuICAgICAgICAvKiBjb25zdCB7IEFzc2V0c01hbmFnZXIsTW91c2VNYW5hZ2VyLEFjdGlvbnNNYW5hZ2VyLFByb2plY3RNYW5hZ2VyLFNsaWRlc01hbmFnZXIsRmFjdG9yeSwgTWFuYWdlcixhc3NldHMgfSA9IGF3YWl0IG1vZHVsZXMubG9hZChcImVuZ2luZVwiLCBcImVuZ2luZVwiKVxyXG4gICAgICAgICAvL19tYW5hZ2VyID0gTWFuYWdlclxyXG4gICAgICAgICBtYW5hZ2Vycy5Bc3NldHNNYW5hZ2VyID0gQXNzZXRzTWFuYWdlclxyXG4gICAgICAgICBtYW5hZ2Vycy5TbGlkZXNNYW5hZ2VyID0gU2xpZGVzTWFuYWdlclxyXG4gICAgICAgICBtYW5hZ2Vycy5GYWN0b3J5ID0gRmFjdG9yeVxyXG4gICAgICAgICBtYW5hZ2Vycy5Nb3VzZU1hbmFnZXIgPSBNb3VzZU1hbmFnZXJcclxuICAgICAgICAgbWFuYWdlcnMuQWN0aW9uc01hbmFnZXI9QWN0aW9uc01hbmFnZXJcclxuICAgICAgICAgX21hbmFnZXI9UHJvamVjdE1hbmFnZXJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICBfZGF0YS5yZWFkeSA9IHRydWVcclxuICAgICAgICAgY29uc3QgcHJvbXMgPSBbXVxyXG4gXHJcbiAgICAgICAgIGZvcihsZXQgaT0wO2k8X29uTG9hZGVkLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgcHJvbXMucHVzaChfb25Mb2FkZWRbaV0oX21hbmFnZXIpKVxyXG4gICAgICAgICB9XHJcbiAgICAgICAgIF9vbkxvYWRlZC5sZW5ndGg9MFxyXG4gICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9tcylcclxuIFxyXG4gICAgICAgICBhd2FpdCBQcm9qZWN0TWFuYWdlci5Jbml0KGNhbnZhcywgbnVsbC8qdGhpcy4kcmVmcy5jYW52YXN1aSovLyosIHRydWUpXHJcbmF3YWl0IFByb2plY3RNYW5hZ2VyLlN0YXJ0KCkgXHJcbiBcclxucmV0dXJuIF9tYW5hZ2VyKi9cclxuXHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDQl9C00LXRgdGMINCy0YvQt9GL0LLQsNGO0YLRgdGPINCy0YHQtSDQv9C+0LTQv9C40YHQutC4INC40Lcg0LzQvtC00YPQu9C10LksINC+0LbQuNC00LDRjtGJ0LjQtSDQs9C+0YLQvtCy0L3QvtGB0YLRjCDQtNCy0LjQttC60LBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBhc3luYyBzdGFydCgpIHtcclxuICAgICAgICBfZGF0YS5yZWFkeSA9IHRydWVcclxuICAgICAgICBjb25zdCBwcm9tcyA9IFtdXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfb25Mb2FkZWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcHJvbXMucHVzaChfb25Mb2FkZWRbaV0oX21hbmFnZXIpKVxyXG4gICAgICAgIH1cclxuICAgICAgICBfb25Mb2FkZWQubGVuZ3RoID0gMFxyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21zKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKF9tYW5hZ2VyKVxyXG4gICAgICAgIHJldHVybiBfbWFuYWdlclxyXG4gICAgfSxcclxuICAgIG9ubG9hZChjYikge1xyXG4gICAgICAgIF9vbkxvYWRlZC5wdXNoKGNiKVxyXG4gICAgfSxcclxuICAgIG9uSW5pdChjYikge1xyXG4gICAgICAgIF9vbkluaXQucHVzaChjYilcclxuICAgIH1cclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBQcm94eShfZGF0YSwge1xyXG4gICAgZ2V0KHRhcmdldCwgcHJvcCkge1xyXG4gICAgICAgIGlmIChwcm9wIGluIHRhcmdldClcclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXVxyXG4gICAgICAgIHJldHVybiBtYW5hZ2Vyc1twcm9wXVxyXG4gICAgfVxyXG59KSIsImltcG9ydCB7IHJlYWN0aXZlLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IElEQiBmcm9tIFwiQC9pZGIuanNcIlxyXG5pbXBvcnQgQXBwTW9kIGZyb20gXCJAcmVuZW9zL2FwcFwiXHJcbmNvbnN0IEFwcCA9IEFwcE1vZC5kZWZhdWx0IHx8IEFwcE1vZFxyXG5pbXBvcnQgZW5naW5lIGZyb20gXCIuL2VuZ2luZS5qc1wiXHJcbmltcG9ydCBtb2RhbCBmcm9tIFwiLi9tb2RhbC5qc1wiXHJcbmltcG9ydCB0b2FzdHMgZnJvbSBcIi4vdG9hc3RzLmpzXCJcclxuaW1wb3J0IEFjdGlvbnNMaXN0IGZyb20gXCJAL2NvbXBvbmVudHMvaW5zcGVjdG9yL2FjdGlvbnN2aWV3LnZ1ZVwiXHJcblxyXG5jb25zdCBfZGVmYXVsdCA9IFtdXHJcblxyXG5sZXQgX21hbmFnZXJcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXQoYWN0aW9uc0RhdGEpIHtcclxuICAgIGlmIChhY3Rpb25zRGF0YS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBhY3Rpb25zRGF0YS5wdXNoKC4uLl9kZWZhdWx0KVxyXG4gICAgfVxyXG4gICAgLy9fZGF0YS5saXN0Lmxlbmd0aCA9IDBcclxuICAgIF9tYW5hZ2VyID0gZW5naW5lLkFjdGlvbnNNYW5hZ2VyXHJcbiAgICBjb25zdCBhY3RzID0gcmVhY3RpdmUoYWN0aW9uc0RhdGEpXHJcbiAgICBhd2FpdCBfbWFuYWdlci5Jbml0KGFjdHMpXHJcbiAgICBfZGF0YS5saXN0LnB1c2goLi4uX21hbmFnZXIuTGlicmFyeSlcclxufVxyXG5cclxuLyoqXHJcbiAqINCg0LXQs9C40YHRgtGA0LDRhtC40Y8g0LrQvtC80L/QvtC90LXQvdGC0LAg0LLQvdC10YjQvdC10LPQviDQvtCx0YDQsNCx0L7RgtGH0LjQutCwIFxyXG4gKiBAcGFyYW0geyp9IGRhdGEge2NvbXBvbmVudDpcIlwiLG5hbWU6XCJcIix0eXBlOlwiXCJ9XHJcbiAqL1xyXG5mdW5jdGlvbiByZWdpc3RlcihkYXRhKSB7XHJcbiAgICAvL2NvbnNvbGUubG9nKGBSZWdpc3RlciBhY3Rpb24gJHtkYXRhLnR5cGV9YClcclxuICAgIF9kYXRhLmxpYnJhcnkucHVzaChkYXRhKVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93TGliKG9uU2VsZWN0KSB7XHJcbiAgICBjb25zdCBwcm9wcyA9IHJlYWN0aXZlKHtcclxuICAgICAgICBzZWxlY3RlZDogbnVsbCxcclxuICAgICAgICBsaXN0OiBfZGF0YS5saXN0XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0ge1xyXG4gICAgICAgIGxhYmVsOiBcIkNsb3NlXCIsXHJcbiAgICAgICAgY2xhc3M6IFwic2Vjb25kYXJ5XCIsXHJcbiAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBwcm9wcy5zZWxlY3RlZCA9IG51bGxcclxuICAgICAgICAgICAgbW9kYWwuY2xvc2UoKVxyXG4gICAgICAgICAgICBpZiAob25TZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgIG9uU2VsZWN0KClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjcmVhdGVCdXR0b24gPSByZWFjdGl2ZSh7XHJcbiAgICAgICAgbGFiZWw6IFwiQ3JlYXRlXCIsXHJcbiAgICAgICAgY2xhc3M6IFwicHJpbWFyeVwiLFxyXG4gICAgICAgIC8vaGlkZGVuOiBjb21wdXRlZCgoKSA9PiBwcm9wcy5zZWxlY3RlZCksXHJcbiAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzcmMgPSBfZGF0YS5saWJyYXJ5WzBdXHJcbiAgICAgICAgICAgIHByb3BzLnNlbGVjdGVkID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogc3JjLmNvbXBvbmVudCxcclxuICAgICAgICAgICAgICAgIGdyb3VwOiBzcmMudHlwZSxcclxuICAgICAgICAgICAgICAgIHRhcmdldHM6IFsnKiddLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHNyYy5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgIC4uLnNyYy50ZW1wbGF0ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSByZWFjdGl2ZSh7XHJcbiAgICAgICAgbGFiZWw6IFwiQ2FuY2VsXCIsXHJcbiAgICAgICAgY2xhc3M6IFwiYWRkaXRpb25hbFwiLFxyXG4gICAgICAgIGhpZGRlbjogY29tcHV0ZWQoKCkgPT4gIXByb3BzLnNlbGVjdGVkIHx8IHByb3BzLnNlbGVjdGVkLnVpZCksXHJcbiAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBwcm9wcy5zZWxlY3RlZCA9IG51bGxcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IHNhdmVCdXR0b24gPSB7XHJcbiAgICAgICAgbGFiZWw6IFwiU2F2ZVwiLFxyXG4gICAgICAgIGNsYXNzOiBcInByaW1hcnlcIixcclxuICAgICAgICBoaWRkZW46IGNvbXB1dGVkKCgpID0+ICFwcm9wcy5zZWxlY3RlZCB8fCBwcm9wcy5zZWxlY3RlZC51aWQpLFxyXG4gICAgICAgIGhhbmRsZXI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbGliID0gX2RhdGEubGlicmFyeS5maW5kKGwgPT4gbC5jb21wb25lbnQgPT09IHByb3BzLnNlbGVjdGVkLnR5cGUpXHJcbiAgICAgICAgICAgIGlmIChsaWIuY2hlY2spIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFsbG93ID0gYXdhaXQgbGliLmNoZWNrKHByb3BzLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgaWYgKCFhbGxvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0cy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcItCd0LXQstC10YDQvdGL0LUg0L/QsNGA0LDQvNC10YLRgNGLXCJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMobGliLnRlbXBsYXRlKS5mb3JFYWNoKGsgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGsgaW4gcHJvcHMuc2VsZWN0ZWQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5zZWxlY3RlZFtrXSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobGliLnRlbXBsYXRlW2tdKSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHByb3BzLnNlbGVjdGVkLnVpZCA9IGAke3Byb3BzLnNlbGVjdGVkLnR5cGV9JHtEYXRlLm5vdygpfWBcclxuICAgICAgICAgICAgX2RhdGEubGlzdC5wdXNoKHByb3BzLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICBhd2FpdCBzYXZlKHByb3BzLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICBhd2FpdCBfbWFuYWdlci5BZGQocHJvcHMuc2VsZWN0ZWQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IHtcclxuICAgICAgICBsYWJlbDogXCJEZWxldGVcIixcclxuICAgICAgICBjbGFzczogXCJhZGRpdGlvbmFsXCIsXHJcbiAgICAgICAgaGlkZGVuOiBjb21wdXRlZCgoKSA9PiAhcHJvcHMuc2VsZWN0ZWQgfHwgIXByb3BzLnNlbGVjdGVkLnVpZCksXHJcbiAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzID0gX2RhdGEubGlzdC5maW5kSW5kZXgoYSA9PiBhID09PSBwcm9wcy5zZWxlY3RlZClcclxuICAgICAgICAgICAgaWYgKHMgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgX2RhdGEubGlzdC5zcGxpY2UocywgMSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZW1vdmUocHJvcHMuc2VsZWN0ZWQudWlkKVxyXG4gICAgICAgICAgICBwcm9wcy5zZWxlY3RlZCA9IG51bGxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2VsZWN0QnV0dG9uID0ge1xyXG4gICAgICAgIGxhYmVsOiBcIlNlbGVjdFwiLFxyXG4gICAgICAgIGNsYXNzOiBcImFkZGl0aW9uYWxcIixcclxuICAgICAgICBoaWRkZW46IGNvbXB1dGVkKCgpID0+ICFwcm9wcy5zZWxlY3RlZCB8fCAhcHJvcHMuc2VsZWN0ZWQudWlkIHx8ICFvblNlbGVjdCksXHJcbiAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBvblNlbGVjdChwcm9wcy5zZWxlY3RlZClcclxuICAgICAgICAgICAgbW9kYWwuY2xvc2UoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBidXR0b25zID0gcmVhY3RpdmUoW1xyXG4gICAgICAgIGNyZWF0ZUJ1dHRvbiwgc2F2ZUJ1dHRvbiwgc2VsZWN0QnV0dG9uLCByZW1vdmVCdXR0b24sIGNhbmNlbEJ1dHRvbiwgY2xvc2VCdXR0b25cclxuICAgIF0pXHJcblxyXG4gICAgbW9kYWwub3Blbih7XHJcbiAgICAgICAgaGVhZGVyOiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBvblNlbGVjdCA/IGBTZWxlY3QgYW4gYWN0aW9uYCA6ICdBY3Rpb24gTGlicmFyeScsXHJcbiAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG1vZGFsLmNsb3NlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICBjb21wb25lbnQ6IFwiSXRlbXNMaWJcIixcclxuICAgICAgICAgICAgcHJvcHMsXHJcbiAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IChhY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFjdGlvbi51aWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnNlbGVjdGVkID0gYWN0aW9uXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNsb3RzOiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBcIkFjdGlvbkl0ZW1cIixcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlZGl0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBcIkFjdGlvbkVkaXRcIixcclxuICAgICAgICAgICAgICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogcHJvcHMuc2VsZWN0ZWRcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoYW5nZTp0eXBlXCI6IChhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzcmMgPSBfZGF0YS5saWJyYXJ5LmZpbmQoZCA9PiBkLmNvbXBvbmVudCA9PT0gYSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnNlbGVjdGVkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnNyYy50ZW1wbGF0ZSwgdHlwZTogc3JjLmNvbXBvbmVudCwgZ3JvdXA6IHNyYy50eXBlLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogc3JjLmRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXQ6IChwcm9wLCB2YWwpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBwcm9wLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudCA9IHByb3BzLnNlbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBwcm9wZXJ0aWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudFtwXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50W3BdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50W3BdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtwcm9wZXJ0aWVzW3Byb3BlcnRpZXMubGVuZ3RoIC0gMV1dID0gdmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlKHByb3BzLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmb290ZXI6IHsgYnV0dG9ucyB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzYXZlKGFjdGlvbikge1xyXG4gICAgaWYgKCFhY3Rpb24udWlkKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgYXdhaXQgSURCLnVwc2VydEl0ZW1Qcm9wZXJ0aWVzKFwiYWN0aW9uc1wiLCBhY3Rpb24udWlkLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBpZDogYWN0aW9uLnVpZCxcclxuICAgICAgICAuLi5hY3Rpb25cclxuICAgIH0pKSlcclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDQo9C00LDQu9GP0LXRgiDRgdC+0LHRi9GC0LjQtSDQuNC3INCx0LjQsdC70LjQvtGC0LXQutC4XHJcbiAqIEBwYXJhbSB7Kn0gdWlkIFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHVpZCkge1xyXG4gICAgYXdhaXQgSURCLmRlbGV0ZUl0ZW0oXCJhY3Rpb25zXCIsIHVpZClcclxufVxyXG5cclxuLyoqXHJcbiAqINCj0LTQsNC70Y/QtdGCINGB0L7QsdGL0YLQuNC1INC40Lcg0YXRg9C60LAg0L3QsCDRhtC10LvQtdCy0L7QvCDQvtCx0YrQtdC60YLQtSBcclxuICogQHBhcmFtIHsqfSB0YXJnZXQgXHJcbiAqIEBwYXJhbSB7Kn0gYWN0aW9uVUlEIFxyXG4gKiBAcGFyYW0geyp9IGhvb2sgXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiByZW1vdmVGcm9tKHRhcmdldCwgeyBob29rLCB1aWQgfSkge1xyXG5cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZXhwb3J0RGF0YSgpIHtcclxuICAgIGNvbnN0IGFjdGlvbnMgPSBhd2FpdCBJREIuZ2V0QWxsSXRlbXMoXCJhY3Rpb25zXCIpXHJcbiAgICByZXR1cm4gYWN0aW9uc1xyXG59XHJcblxyXG5jb25zdCBfZGF0YSA9IHJlYWN0aXZlKHtcclxuICAgIGluaXQsIHJlZ2lzdGVyLCBzYXZlLCBzaG93TGliLCBleHBvcnREYXRhLFxyXG4gICAgcmVtb3ZlRnJvbSxcclxuXHJcbiAgICBob29rczogW1xyXG4gICAgICAgIFwiZW5hYmxlLm9uXCIsXHJcbiAgICAgICAgXCJzbGlkZS5pbi5iZWZvcmVcIiwgXCJzbGlkZS5pblwiLCBcInNsaWRlLmluLmFmdGVyXCIsXHJcbiAgICAgICAgXCJzbGlkZS5vdXQuYmVmb3JlXCIsIFwic2xpZGUub3V0XCIsIFwic2xpZGUub3V0LmFmdGVyXCIsXHJcbiAgICAgICAgXCJkaXNhYmxlLm9uXCIsXHJcbiAgICAgICAgXCJtb3VzZS5pblwiLCBcIm1vdXNlLmNsaWNrXCIsIFwibW91c2Uub3V0XCJcclxuICAgIF0sXHJcblxyXG4gICAgLyphZGRBY3Rpb24oYSkge1xyXG4gICAgICAgIF9kYXRhLmxpc3RbYS51aWRdID0gYVxyXG4gICAgfSwqL1xyXG4gICAgLyoqXHJcbiAgICAgKiDQodC/0LjRgdC+0Log0YHQvtC30LTQsNC90L3Ri9GFINC00LXQudGB0YLQstC40LkuXHJcbiAgICAgKiDQlNC10LnRgdGC0LLQuNC1INC80L7QttC10YIg0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGM0YHRjyDQvdCwINC90LXRgdC60L7Qu9GM0LrQuNGFINGN0LvQtdC80LXQvdGC0LDRhS4gXHJcbiAgICAgKi9cclxuICAgIGxpc3Q6IFtdLFxyXG4gICAgLyoqXHJcbiAgICAgKiDQkdC40LHQu9C40L7RgtC10LrQsCDQutC+0LzQv9C+0L3QtdC90YLQvtCyICjQtNC+0YHRgtGD0L/QvdGL0YUg0YLQuNC/0L7QsikgXHJcbiAgICAgKiDQvdCw0L/RgNC40LzQtdGAIFR3ZWVuUG9zaXRpb24uXHJcbiAgICAgKiDQodC+0LfQtNCw0L3QvdGL0LUg0Lgg0LjRgdC/0L7Qu9GM0LfRg9C10LzRi9C1INC00LXQudGB0YLQstC40Y8gKF9kYXRhLmxpc3QpINCy0YHQtdCz0LTQsCDQutCw0LrQvtCz0L4g0YLQviDRgtC40L/QsCwgXHJcbiAgICAgKiDQv9C+0LXRgNC00LXQu9GP0Y7RidC10LPQviDQvdCw0LHQvtGAINC00L7RgdGC0YPQv9C90YvRhSDRgdCy0L7QudGB0YLQsiBcclxuICAgICAqL1xyXG4gICAgbGlicmFyeTogW10sXHJcbiAgICAvKioqXHJcbiAgICAgKiDQk9GA0YPQv9C/0Ysg0LrQvtC80L/QvtC90LXQvdGC0L7Qsi4gXHJcbiAgICAgKiDQktGB0LUg0LrQvtC80L/QvtC90LXQvdGC0Ysg0L/RgNC40L3QsNC00LvQtdC20LDRgiDQutCw0LrQvtC5INGC0L4g0LPRgNGD0L/Qv9C1XHJcbiAgICAgKi9cclxuICAgIGdldCBncm91cHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9kYXRhLmxpYnJhcnkucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgaWYgKCFhY2MuaW5jbHVkZXMoaXRlbS50eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgYWNjLnB1c2goaXRlbS50eXBlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgfSwgW10pO1xyXG4gICAgfSxcclxuICAgIGdldCB2YWx1ZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoX2RhdGEubGlzdClcclxuICAgIH1cclxufSlcclxuXHJcbkFwcC5PbihcImluaXRcIiwgKCkgPT4ge1xyXG4gICAgQXBwLm1lbnUuaGllcmFyaHkubGlzdC5wdXNoKHtcclxuICAgICAgICBpY29uOiBcImhpc3RvcnlcIixcclxuICAgICAgICB0b29sdGlwOiBcIkFjdGlvbiBMaWJyYXJ5XCIsXHJcbiAgICAgICAgaGFuZGxlcjogc2hvd0xpYlxyXG4gICAgfSlcclxuXHJcbiAgICB3aW5kb3cudnVlLmNvbXBvbmVudChcIkFjdGlvbnNMaXN0XCIsIEFjdGlvbnNMaXN0KVxyXG5cclxuICAgIEFwcC5pbnNwZWN0b3IuYWRkVG9Nb2RlbHMoW1wiT2JqZWN0M0RcIl0sIFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxhYmVsOiBcIk1vZGVscyBhY3Rpb25zXCIsXHJcbiAgICAgICAgICAgIHJlYWRvbmx5OiB0cnVlLFxyXG4gICAgICAgICAgICBjb250ZW50OiB7XHJcbiAgICAgICAgICAgICAgICBwcm9wOiBcImFjdGlvbnNcIixcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogXCJBY3Rpb25zTGlzdFwiLFxyXG4gICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGxhYmVsOiBcIlN0YXRlcyBhY3Rpb25zXCIsXHJcbiAgICAgICAgICAgIHJlYWRvbmx5OiB0cnVlLFxyXG4gICAgICAgICAgICBjb250ZW50OiB7XHJcbiAgICAgICAgICAgICAgICBwcm9wOiBcImFjdGlvbnNcIixcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogXCJBY3Rpb25zTGlzdFwiLFxyXG4gICAgICAgICAgICAgICAgc3RhdGU6IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dXHJcbiAgICApXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBfZGF0YSIsImltcG9ydCB7IHJlYWN0aXZlLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IGVuZ2luZSBmcm9tIFwiLi9lbmdpbmUuanNcIlxyXG5pbXBvcnQgSURCIGZyb20gXCIuLi9pZGIuanNcIlxyXG5pbXBvcnQgQXBwTW9kIGZyb20gXCJAcmVuZW9zL2FwcFwiXHJcbmNvbnN0IEFwcCA9IEFwcE1vZC5kZWZhdWx0IHx8IEFwcE1vZFxyXG5pbXBvcnQgbW9kYWwgZnJvbSBcIi4vbW9kYWwuanNcIlxyXG5pbXBvcnQgQXNzZXRTZWxlY3RvciBmcm9tIFwiQC9jb21wb25lbnRzL2luc3BlY3Rvci9hc3NldHMvYXNzZXRzZWxlY3Rvci52dWVcIlxyXG5pbXBvcnQgQXNzZXRJbWFnZSBmcm9tIFwiQC9jb21wb25lbnRzL2luc3BlY3Rvci9hc3NldHMvYXNzZXRpbWcudnVlXCJcclxuaW1wb3J0IEFzc2V0RWRpdCBmcm9tIFwiQC9jb21wb25lbnRzL21vZGFscy9hc3NldHMvYXNzZXRlZGl0LnZ1ZVwiXHJcbmltcG9ydCBBc3NldEl0ZW0gZnJvbSBcIkAvY29tcG9uZW50cy9tb2RhbHMvYXNzZXRzL2Fzc2V0aXRlbS52dWVcIlxyXG5pbXBvcnQgQXNzZXRWaWV3IGZyb20gXCJAL2NvbXBvbmVudHMvbW9kYWxzL2Fzc2V0cy9hc3NldHZpZXcudnVlXCJcclxuXHJcbmNvbnN0IF9kZWZhdWx0ID0gYGh0dHBzOi8vczMuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb20vM2RidWlsZGVyLnJlbmVvcy5jb20vYmFzZS9hc3NldHMuanNvbmBcclxuXHJcbmNvbnN0IF9pbnNwZWN0b3IgPSB7XHJcbiAgICBhc3NldDogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGFiZWw6IFwiVVJMXCIsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgICAgIHByb3A6IFwidXJsXCIsXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdMYWJlbEVkaXQnLFxyXG4gICAgICAgICAgICAgICAgb251cGRhdGUoYXNzZXQsIHByb3AsIHZhbHVlLCBzbGlkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFzc2V0KVxyXG4gICAgICAgICAgICAgICAgICAgIF9tYW5hZ2VyLlVwZGF0ZShhc3NldCwgcHJvcCwgdmFsdWUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGFiZWw6IFwiQ2xvbmVcIixcclxuICAgICAgICAgICAgaGVhZDoge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnQm9vbEVkaXQnLFxyXG4gICAgICAgICAgICAgICAgcHJvcDogXCJjbG9uZVwiLFxyXG4gICAgICAgICAgICAgICAgYXN5bmMgb251cGRhdGUoYXNzZXQsIHByb3AsIHZhbHVlLCBzbGlkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IF9tYW5hZ2VyLlVwZGF0ZShhc3NldCwgcHJvcCwgdmFsdWUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgXSxcclxuICAgIG1vZGVsOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsYWJlbDogXCJTaGFkb3dcIixcclxuICAgICAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnU2hhZG93RWRpdCcsXHJcbiAgICAgICAgICAgICAgICBwcm9wOiBcInNoYWRvd1wiLFxyXG4gICAgICAgICAgICAgICAgb251cGRhdGU6IGFzeW5jIChhc3NldCwgcHJvcCwgdmFsdWUsIHNsaWRlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgX21hbmFnZXIuVXBkYXRlKGFzc2V0LCBwcm9wLCB2YWx1ZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsYWJlbDogXCJFbnZpcm9ubWVudCBtYXBcIixcclxuICAgICAgICAgICAgaW5zcGVjdG9yT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBcIkFzc2V0U2VsZWN0b3JcIixcclxuICAgICAgICAgICAgICAgIHByb3A6IFwiZW52TWFwXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImhkclwiLFxyXG4gICAgICAgICAgICAgICAgb251cGRhdGU6IGFzeW5jIChhc3NldCwgcHJvcCwgdmFsdWUsIHNsaWRlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgX21hbmFnZXIuVXBkYXRlKGFzc2V0LCBwcm9wLCB2YWx1ZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dLFxyXG4gICAgaW1hZ2U6IFt7XHJcbiAgICAgICAgbGFiZWw6IFwiSW1hZ2VcIixcclxuICAgICAgICBjb250ZW50OiB7XHJcbiAgICAgICAgICAgIGluc3BlY3Rvck9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgIHByb3A6IFwiaW1nXCIsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudDogJ0ltYWdlVmlldycsXHJcbiAgICAgICAgICAgIHByb3BzOiB7XHJcbiAgICAgICAgICAgICAgICBhY2NlcHRlZFR5cGVzOiBcImltYWdlLypcIiwgc2VsZWN0YWJsZTogZmFsc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXN5bmMgb251cGRhdGUoYXNzZXQsIGltYWdlLCBjbXApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGltYWdlKVxyXG4gICAgICAgICAgICAgICAgYXNzZXQuaW1nID0gaW1hZ2VcclxuICAgICAgICAgICAgICAgIC8vY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtyZXN1bHRdLCB7IHR5cGU6IGZpbGUudHlwZSB9KTtcclxuICAgICAgICAgICAgICAgIC8vQXBwLnN0b3JhZ2Uud3JpdGVGaWxlKCdpbWFnZS5wbmcnLCByZXN1bHQpXHJcbiAgICAgICAgICAgICAgICAvKmNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgICAgICBhLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4gICAgICAgICAgICAgICAgYS5kb3dubG9hZCA9IGZpbGUubmFtZTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XHJcbiAgICAgICAgICAgICAgICBhLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xyXG4gICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChhLmhyZWYpOyovXHJcblxyXG4gICAgICAgICAgICAgICAgLypjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGltYWdlKVxyXG4gICAgICAgICAgICAgICAgICAgIGFzc2V0LmltYWdlID0gaW1hZ2VcclxuICAgICAgICAgICAgICAgICAgICBBcHAuc3RvcmFnZS53cml0ZUZpbGUoJ2ltYWdlLnBuZycsIHZhbHVlKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKnRoaXMuJGVtaXQoJ2xvYWRlZCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VTcmM6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUVsZW1lbnQ6IGltYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogaW1hZ2Uud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaW1hZ2UuaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuICAgICAgICAgICAgICAgIC8vfTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XSxcclxuICAgIGhkcjogW11cclxufVxyXG5cclxuY29uc3QgX2NoZWtlcnMgPSB7XHJcbiAgICAvKipcclxuICAgICAqINCS0YvQt9GL0LLQsNC10YLRgdGPINC/0YDQuCDRgdC+0YXRgNCw0L3QtdC90LjQuCDRgNC10YHRg9GA0YHQsCwg0LTQvtC70LbQtdC9INCy0LXRgNC90YPRgtGMIHRydWUg0LXRgdC70Lgg0YDQtdGB0YPRgNGBINC80L7QttC90L4g0YHQvtGF0YDQsNC90Y/RgtGMLlxyXG4gICAgICogQHJldHVybnMgIGJvb2xlYW5cclxuICAgICAqL1xyXG4gICAgbW9kZWw6ICgpID0+IHtcclxuICAgICAgICAvKkFwcC50b2FzdHMuYWRkKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogXCLQndC1INCy0YHQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdGL0LUg0L/QvtC70Y8g0LfQsNC/0L7Qu9C90LXQvdGLXCJcclxuICAgICAgICB9KSovXHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxufVxyXG5jb25zdCBpY29ucyA9IHtcclxuICAgIG1vZGVsOiAnY29kZXBlbicsXHJcbiAgICAvL2dsdGY6ICdjb2RlcGVuJyxcclxuICAgIGltYWdlOiAnaW1hZ2UnLFxyXG4gICAgaGRyOiAnbG9vcDInXHJcbn1cclxubGV0IF9tYW5hZ2VyXHJcblxyXG5hc3luYyBmdW5jdGlvbiBpbml0KGFzc2V0c0RhdGEsIHByb2dyZXNzKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgSW5pdCBhc3NldHNgKVxyXG4gICAgX21hbmFnZXIgPSBlbmdpbmUuZ2V0TWFuYWdlcihcIkFzc2V0c01hbmFnZXJcIilcclxuICAgIGF3YWl0IF9tYW5hZ2VyLkluaXQoYXNzZXRzRGF0YSwgcHJvZ3Jlc3MpXHJcbiAgICBjb25zdCBhc3NldHMgPSBBcnJheS5mcm9tKF9tYW5hZ2VyLkFzc2V0cy52YWx1ZXMoKSlcclxuXHJcbiAgICBhc3NldHMuZm9yRWFjaChhID0+IHtcclxuICAgICAgICBhLm9uKFwidXBkYXRlXCIsICgpID0+IHtcclxuICAgICAgICAgICAgc2F2ZShhKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgX2RhdGEubGlzdC5wdXNoKC4uLmFzc2V0cylcclxuICAgIGNvbnNvbGUubG9nKF9kYXRhLmxpc3QpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluY2x1ZGVBc3NldHMoaW5jbHVkZSA9IFtdKSB7XHJcbiAgICBjb25zb2xlLmxvZyhpbmNsdWRlKVxyXG4gICAgcmV0dXJuIF9kYXRhLmxpc3RcclxuICAgICAgICAuZmlsdGVyKGEgPT4gaW5jbHVkZS5sZW5ndGggPT09IDAgfHwgaW5jbHVkZS5pbmNsdWRlcyhhLnR5cGUpKVxyXG4gICAgICAgIC5tYXAoYSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IC4uLmEuZGF0YSB9XHJcbiAgICAgICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgYW4gYXNzZXQgd2l0aCBhIHVuaXF1ZSBpZGVudGlmaWVyIGFuZCBzYXZlcyBpdCB0byB0aGUgZGF0YWJhc2UuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBhc3NldCAtIFRoZSBhc3NldCB0byBjcmVhdGUuXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlKGFzc2V0KSB7XHJcbiAgICBhc3NldC51aWQgPSBgYXNzZXRfJHtEYXRlLm5vdygpfWBcclxuICAgIGNvbnN0IHJlcyA9IF9tYW5hZ2VyLkFkZChhc3NldClcclxuICAgIGF3YWl0IHJlcy5sb2FkKClcclxuICAgIF9kYXRhLmxpc3QucHVzaChyZXMpXHJcbiAgICBjb25zb2xlLmxvZyhfZGF0YS5saXN0KVxyXG4gICAgYXdhaXQgSURCLmFkZEl0ZW0oXCJhc3NldHNcIiwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgaWQ6IHJlcy51aWQsXHJcbiAgICAgICAgLi4ucmVzLmRhdGFcclxuICAgIH0pKSlcclxuXHJcbiAgICBjb25zb2xlLmxvZyhyZXMpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDQktGL0LfRi9Cy0LDQtdGC0YHRjyDQuNC3IDpcclxuICog0LjQvdGB0L/QtdC60YLQvtGA0LAg0LIg0LrQsNGH0LXRgdGC0LLQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutCwINGB0L7RhdGA0LDQvdC10L3QuNGPXHJcbiAqIEBwYXJhbSB7Kn0gYXNzZXQgXHJcbiAqIEBwYXJhbSB7Kn0gcHJvcCBcclxuICogQHBhcmFtIHsqfSB2YWx1ZSBcclxuICogQHBhcmFtIHsqfSBjbXAgXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGUoYXNzZXQsIHByb3AsIHZhbHVlKSB7XHJcbiAgICBhd2FpdCBfbWFuYWdlci5VcGRhdGUoYXNzZXQsIHByb3AsIHZhbHVlKVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzYXZlKGFzc2V0KSB7XHJcbiAgICBjb25zb2xlLmxvZyhgU2F2ZSBhc3NldGApXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGlmICghYXNzZXQudWlkKSByZXR1cm47XHJcbiAgICAgICAgYXdhaXQgSURCLnVwZGF0ZUl0ZW0oXCJhc3NldHNcIiwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIGlkOiBhc3NldC51aWQsXHJcbiAgICAgICAgICAgIC4uLmFzc2V0LmRhdGFcclxuICAgICAgICB9KSkpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgYXNzZXQ6JywgZXJyb3IpO1xyXG4gICAgICAgIEFwcC50b2FzdHMuYWRkKHsgbWVzc2FnZTogJ0Vycm9yIHNhdmluZyBhc3NldCcgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZW1vdmUoYXNzZXQpIHtcclxuICAgIHN3aXRjaCAoYXNzZXQudHlwZSkge1xyXG4gICAgICAgIGNhc2UgXCJtb2RlbFwiOlxyXG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IGVuZ2luZS5nZXRGYWN0b3J5KCkuQ2hlY2tVc2VBc3NldChhc3NldC51aWQpXHJcbiAgICAgICAgICAgIGlmIChjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgQXBwLnRvYXN0cy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBDYW5ub3QgZGVsZXRlLCBhc3NldCBpcyB1c2VkIGluICR7Y291bnR9IG1vZGVsc2BcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgIGNhc2UgXCJoZHJcIjpcclxuICAgICAgICAgICAgY29uc3QgdXNlZCA9IF9kYXRhLmxpc3QuZmluZChhID0+IGEuZGF0YS5lbnZNYXAgPT09IGFzc2V0LnVpZClcclxuICAgICAgICAgICAgaWYgKHVzZWQpIHtcclxuICAgICAgICAgICAgICAgIEFwcC50b2FzdHMuYWRkKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNhbm5vdCBkZWxldGUsIGFzc2V0IGluIHVzZVwiXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICBkZWZhdWx0OlxyXG5cclxuICAgICAgICAgICAgYnJlYWtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpbmRleCA9IF9kYXRhLmxpc3QuZmluZEluZGV4KGEgPT4gYS51aWQgPT09IGFzc2V0LnVpZClcclxuICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgX2RhdGEubGlzdC5zcGxpY2UoaW5kZXgsIDEpXHJcbiAgICAgICAgX21hbmFnZXIuUmVtb3ZlKGFzc2V0LnVpZClcclxuICAgICAgICBhd2FpdCBJREIuZGVsZXRlSXRlbShcImFzc2V0c1wiLCBhc3NldC51aWQpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiDQn9C+0LrQsNC30YvQstCw0LXRgiDQvtC60L3QviDQstGL0LHQvtGA0LAg0YDQtdGB0YPRgNGB0LAsINC40YHQutC70Y7Rh9Cw0Y8g0YDQtdGB0YPRgNGB0Ysg0YPQutCw0LfQsNC90L3Ri9GFINGC0LjQv9C+0LJcclxuICogQHBhcmFtIHtBcnJheX0gaW5jbHVkZSBcclxuICogQHJldHVybnMge1Byb21pc2V9INCS0YvQsdGA0LDQvdC90YvQuSDRgNC10YHRg9GA0YEg0LjQu9C4IG51bGxcclxuICovXHJcbmZ1bmN0aW9uIHNlbGVjdEFzc2V0KGluY2x1ZGUsIHNob3dTZWxlY3QgPSB0cnVlKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICBjb25zdCBwcm9wcyA9IHJlYWN0aXZlKHtcclxuICAgICAgICAgICAgc2VsZWN0ZWQ6IG51bGwsXHJcbiAgICAgICAgICAgIGxpc3Q6IGluY2x1ZGVBc3NldHMoaW5jbHVkZSksXHJcbiAgICAgICAgICAgIGljb25zXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zdCBidXR0b25zID0gcmVhY3RpdmUoW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJTZWxlY3RcIixcclxuICAgICAgICAgICAgICAgIGNsYXNzOiBcInByaW1hcnlcIixcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogY29tcHV0ZWQoKCkgPT4gIXNob3dTZWxlY3QgfHwgIXByb3BzLnNlbGVjdGVkKSxcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbC5jbG9zZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwcm9wcy5zZWxlY3RlZClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUmVtb3ZlXCIsXHJcbiAgICAgICAgICAgICAgICBjbGFzczogXCJhZGRpdGlvbmFsXCIsXHJcbiAgICAgICAgICAgICAgICBoaWRkZW46IGNvbXB1dGVkKCgpID0+ICFwcm9wcy5zZWxlY3RlZD8udWlkKSxcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3ZlKHByb3BzLnNlbGVjdGVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5zZWxlY3RlZCA9IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMubGlzdCA9IGluY2x1ZGVBc3NldHMoaW5jbHVkZSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJTYXZlXCIsXHJcbiAgICAgICAgICAgICAgICBjbGFzczogXCJwcmltYXJ5XCIsXHJcbiAgICAgICAgICAgICAgICBoaWRkZW46IGNvbXB1dGVkKCgpID0+ICFwcm9wcy5zZWxlY3RlZCB8fCBwcm9wcy5zZWxlY3RlZC51aWQgfHwgcHJvcHMuYnVzeSksXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9jaGVrZXJzW3Byb3BzLnNlbGVjdGVkLnR5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrUmVzdWx0ID0gYXdhaXQgX2NoZWtlcnNbcHJvcHMuc2VsZWN0ZWQudHlwZV0ocHJvcHMuc2VsZWN0ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2tSZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIEFwcC50b2FzdHMuYWRkKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTdGFydCBsb2FkIGFzc2V0XCJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnNlbGVjdGVkID0gYXdhaXQgY3JlYXRlKHByb3BzLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFwcC50b2FzdHMuYWRkKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMuc2VsZWN0ZWQudWlkID0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMubGlzdCA9IGluY2x1ZGVBc3NldHMoaW5jbHVkZSlcclxuICAgICAgICAgICAgICAgICAgICBBcHAudG9hc3RzLmFkZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQXNzZXQgc2F2ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJDcmVhdGVcIixcclxuICAgICAgICAgICAgICAgIGNsYXNzOiBcInNlY29uZGFyeVwiLFxyXG4gICAgICAgICAgICAgICAgLy9oaWRkZW46IGNvbXB1dGVkKCgpID0+IHByb3BzLnNlbGVjdGVkICYmICFwcm9wcy5zZWxlY3RlZC51aWQpLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnNlbGVjdGVkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBfZGF0YS50eXBlc1swXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJDbG9zZVwiLFxyXG4gICAgICAgICAgICAgICAgY2xhc3M6IFwiYWRkaXRpb25hbFwiLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmNsb3NlKClcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0pXHJcblxyXG4gICAgICAgIG1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICBoZWFkZXI6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBzaG93U2VsZWN0ID8gYFNlbGVjdCBhc3NldGAgOiBgUHJvamVjdCBhc3NldHNgLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmNsb3NlKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBcIkl0ZW1zTGliXCIsXHJcbiAgICAgICAgICAgICAgICBwcm9wcyxcclxuICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiAoYXNzZXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHMuc2VsZWN0ZWQgPSBhc3NldFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzbG90czoge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBcIkFzc2V0RWRpdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHByb3BzLnNlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdDogKHByb3AsIHZhbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnNlbGVjdGVkW3Byb3BdID0gdmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgYXdhaXQgX21hbmFnZXIuVXBkYXRlKGFzc2V0LCBwcm9wLCB2YWx1ZSkgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wcy5zZWxlY3RlZC51aWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBwcm9wcy5zZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZm9vdGVyOiB7IGJ1dHRvbnMgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBlZGl0QXNzZXQoYXNzZXQpIHtcclxuICAgIGNvbnN0IHByb3BzID0gcmVhY3RpdmUoe1xyXG4gICAgICAgIGN1cnJlbnQ6IGFzc2V0XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IGJ1dHRvbnMgPSByZWFjdGl2ZShbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsYWJlbDogXCJTYXZlXCIsXHJcbiAgICAgICAgICAgIGNsYXNzOiBcInNlY29uZGFyeVwiLFxyXG4gICAgICAgICAgICBoYW5kbGVyOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFzc2V0LnVpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNyZWF0ZShhc3NldClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2F2ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGFzc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBtb2RhbC5jbG9zZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGFiZWw6IFwiQ2FuY2VsXCIsXHJcbiAgICAgICAgICAgIGNsYXNzOiBcInByaW1hcnlcIixcclxuICAgICAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbW9kYWwuY2xvc2UoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSlcclxuXHJcblxyXG4gICAgbW9kYWwub3Blbih7XHJcbiAgICAgICAgaGVhZGVyOiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBgU2VsZWN0IGFzc2V0YCxcclxuICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbW9kYWwuY2xvc2UoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250ZW50OiB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudDogXCJBc3NldEVkaXRcIixcclxuICAgICAgICAgICAgcHJvcHMsXHJcbiAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgZWRpdDogKHByb3AsIHZhbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc2V0W3Byb3BdID0gdmFsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBmb290ZXI6IHsgYnV0dG9ucyB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc2V0QXNzZXQoZWxlbWVudCwgYXNzZXQpIHtcclxuICAgIGlmICghZWxlbWVudC5hc3NldHMpIHtcclxuICAgICAgICBlbGVtZW50LmFzc2V0cyA9IFtdXHJcbiAgICB9XHJcbiAgICBlbGVtZW50LmFzc2V0cy5wdXNoKHtcclxuICAgICAgICB1aWQ6IGFzc2V0LnVpZFxyXG4gICAgfSlcclxuICAgIEFwcC5lbmdpbmUuZ2V0RmFjdG9yeSgpLkFkZEFzc2V0KGVsZW1lbnQudWlkLCBhc3NldClcclxuICAgIC8vc2F2ZShlbGVtZW50LmV4cG9ydERhdGEoKSlcclxufVxyXG5cclxuY29uc3QgX2RhdGEgPSByZWFjdGl2ZSh7XHJcbiAgICBpbml0LCBjcmVhdGUsIHVwZGF0ZSwgc2F2ZSwgc2VsZWN0QXNzZXQsIGVkaXRBc3NldCwgcmVtb3ZlLFxyXG4gICAgc2V0QXNzZXQsXHJcbiAgICB0eXBlczogW1xyXG4gICAgICAgIFwibW9kZWxcIiwgXCJoZHJcIiwgXCJpbWFnZVwiXHJcbiAgICBdLFxyXG4gICAgbGlzdDogW10sXHJcblxyXG4gICAgYXN5bmMgZXhwb3J0RGF0YSgpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgSURCLmdldEFsbEl0ZW1zKFwiYXNzZXRzXCIpXHJcbiAgICB9LFxyXG4gICAgZ2V0IGluc3BlY3RvcigpIHtcclxuICAgICAgICByZXR1cm4gX2luc3BlY3RvclxyXG4gICAgfSxcclxuICAgIGdldEluc3BlY3Rvcih0eXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIF9pbnNwZWN0b3JbdHlwZV0gfHwgW11cclxuICAgIH0sXHJcbiAgICBhc3luYyBnZXREZWZhdWx0KCkge1xyXG4gICAgICAgIGNvbnN0IGYgPSBhd2FpdCBmZXRjaChfZGVmYXVsdClcclxuICAgICAgICBjb25zdCBhc3NldHMgPSBhd2FpdCBmLmpzb24oKVxyXG4gICAgICAgIGF3YWl0IElEQi51cHNlcnRNYW55KFwiYXNzZXRzXCIsIGFzc2V0cywgJ3VpZCcpXHJcbiAgICAgICAgcmV0dXJuIGFzc2V0c1xyXG4gICAgfVxyXG59KVxyXG5cclxuQXBwLk9uKFwiaW5pdFwiLCAoKSA9PiB7XHJcbiAgICBBcHAubWVudS5oaWVyYXJoeS5saXN0LnB1c2goe1xyXG4gICAgICAgIGljb246IFwiY3ViZVwiLFxyXG4gICAgICAgIHRvb2x0aXA6IFwiQXNzZXRzIGxpYnJhcnlcIixcclxuICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHNlbGVjdEFzc2V0KFtdLCBmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgd2luZG93LnZ1ZS5jb21wb25lbnQoXCJBc3NldFZpZXdcIiwgQXNzZXRWaWV3KVxyXG4gICAgd2luZG93LnZ1ZS5jb21wb25lbnQoXCJBc3NldEl0ZW1cIiwgQXNzZXRJdGVtKVxyXG4gICAgd2luZG93LnZ1ZS5jb21wb25lbnQoXCJBc3NldFNlbGVjdG9yXCIsIEFzc2V0U2VsZWN0b3IpXHJcbiAgICB3aW5kb3cudnVlLmNvbXBvbmVudChcIkFzc2V0RWRpdFwiLCBBc3NldEVkaXQpXHJcbiAgICB3aW5kb3cudnVlLmNvbXBvbmVudChcIkFzc2V0SW1hZ2VcIiwgQXNzZXRJbWFnZSlcclxuICAgIE9iamVjdC5rZXlzKF9pbnNwZWN0b3IpLmZvckVhY2goayA9PiB7XHJcbiAgICAgICAgQXBwLmluc3BlY3Rvci5hZGRUb01vZGVscyhba10sIF9pbnNwZWN0b3Jba10pXHJcbiAgICB9KVxyXG59KVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IF9kYXRhIiwiaW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tICd2dWUnXHJcbmltcG9ydCBBcHBNb2QgZnJvbSBcIkByZW5lb3MvYXBwXCJcclxuY29uc3QgQXBwID0gQXBwTW9kLmRlZmF1bHQgfHwgQXBwTW9kXHJcbmltcG9ydCBBY3Rpb25zIGZyb20gXCIuL2FjdGlvbnMuanNcIlxyXG5pbXBvcnQgQXNzZXRzIGZyb20gXCIuL2Fzc2V0cy5qc1wiXHJcbmltcG9ydCBJREIgZnJvbSBcIkAvaWRiLmpzXCJcclxuLy9pbXBvcnQgZ3FsYyBmcm9tIFwiQHJlbmVvcy9ncWxjXCJcclxuaW1wb3J0IE1vZGFsUGFuZWwgZnJvbSBcIkAvY29tcG9uZW50cy9tb2RhbHMvaW5mb3BhbmVsL2luZGV4LnZ1ZVwiXHJcblxyXG5sZXQgZGJcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnYXBwIGluaXQnKVxyXG4gICAgZGIgPSBuZXcgSURCKCdzbGlkZXInLCBbXCJkYXRhXCIsIFwidGVtcGxhdGVzXCJdKVxyXG4gICAgYXdhaXQgZGIub3BlbkRhdGFiYXNlKCdzbGlkZXInKVxyXG59XHJcblxyXG5mdW5jdGlvbiBHZXREQigpIHtcclxuICAgIHJldHVybiBkYlxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzYXZlKCkge1xyXG4gICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICB1aWQ6IFwiY3VycnByb2plY3RcIixcclxuICAgICAgICBpZDogXCJjdXJycHJvamVjdFwiLFxyXG4gICAgICAgIGFjdGlvbnM6IEFjdGlvbnMuZXhwb3J0RGF0YSgpLFxyXG4gICAgICAgIGFzc2V0czogQXNzZXRzLmV4cG9ydERhdGEoKSxcclxuICAgICAgICBlbGVtZW50czogRWxlbWVudHMuZXhwb3J0RGF0YSgpLFxyXG4gICAgfVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgSURCLnVwZGF0ZUl0ZW0oXCJwcm9qZWN0c1wiLCBkYXRhKVxyXG4gICAgcmV0dXJuIGRhdGEudWlkXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHNob3dUdXRvcmlhbCgpIHtcclxuICAgIC8vTW9kYWxQYW5lbFxyXG4gICAgY29uc3QgcHJvcHMgPSByZWFjdGl2ZSh7XHJcbiAgICAgICAgaXRlbXM6IFtdLFxyXG4gICAgfSlcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBlcnJvciwgbWFudWFsIH0gPSBhd2FpdCBncWxjLkdldCh7IFwibWFudWFsXCI6IFtdIH0pXHJcbiAgICAgICAgcHJvcHMuaXRlbXMucHVzaCguLi5tYW51YWwpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG5cclxuICAgIH1cclxuICAgIGlmICghd2luZG93LnZ1ZS5fY29udGV4dC5jb21wb25lbnRzWydNb2RhbFBhbmVsJ10pIHtcclxuICAgICAgICB3aW5kb3cudnVlLmNvbXBvbmVudChcIk1vZGFsUGFuZWxcIiwgTW9kYWxQYW5lbClcclxuICAgIH1cclxuICAgIEFwcC5tb2RhbC5vcGVuKHtcclxuICAgICAgICBoZWFkZXI6IHtcclxuICAgICAgICAgICAgdmFsdWU6ICcnLFxyXG4gICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBBcHAubW9kYWwuY2xvc2UoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250ZW50OiB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudDogXCJNb2RhbFBhbmVsXCIsXHJcbiAgICAgICAgICAgIHByb3BzLFxyXG4gICAgICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgIGFzeW5jIGhpZGUoaGlkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGF0YS51c2VyLnJlZ2lzdGVyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGdxbGMuU2V0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWw6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFyZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YWVuKGVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJvcHRpb25zLm1hbnVhbFwiLCAhaGlkZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogYXN5bmMgKHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0KVxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnNlbGVjdGVkID0gdFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG9wZW46IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5saXN0ID0gYXdhaXQgcHJldmlldygpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZvb3RlcjogeyBidXR0b25zOiBbXSB9XHJcbiAgICB9KVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzZXRQYXNzd29yZChwYXNzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZXJyb3IsIG1lIH0gPSBhd2FpdCBncWxjLlNldCh7XHJcbiAgICAgICAgICAgIG1lOiBbe1xyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgJGFyZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBhc3NcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgIH0pXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIEFwcC50b2FzdHMuYWRkKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJFcnJvciBvbiBjaGFuZ2UgcGFzc3dvcmRcIlxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNhdmVEYXRhKGNvbGwsIGtleSwgdmFsdWVzKSB7XHJcbiAgICByZXR1cm4gZGIudXBzZXJ0SXRlbVByb3BlcnRpZXMoY29sbCwga2V5LCB2YWx1ZXMpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYWREYXRhKGNvbGwsIGtleSkge1xyXG4gICAgcmV0dXJuIGRiLmdldEl0ZW0oY29sbCwga2V5KVxyXG59XHJcblxyXG5jb25zdCBfZGF0YSA9IHJlYWN0aXZlKHtcclxuICAgIGluaXQsIHNhdmUsIHNhdmVEYXRhLCByZWFkRGF0YSwgR2V0REIsXHJcbiAgICBkcmFnZ2VkTm9kZTogbnVsbCxcclxuICAgIHJlYWR5OiBmYWxzZSxcclxuICAgIGNhbWVyYXM6IFtdLFxyXG4gICAgZ2V0IHR5cGVzKCkge1xyXG4gICAgICAgIHJldHVybiBBcHAuZW5naW5lLmdldEZhY3RvcnkoKS5HZXRUeXBlcygpXHJcbiAgICB9LFxyXG4gICAgdXNlcjoge1xyXG4gICAgICAgIHJlZ2lzdGVyZWQ6IGZhbHNlLFxyXG4gICAgICAgIG5hbWU6IFwiR3Vlc3RcIixcclxuICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgIG1hbnVhbDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJvcHRpb25zLm1hbnVhbFwiKSAhPT0gXCJmYWxzZVwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcbiAgICBzZXRQYXNzd29yZCxcclxuICAgIGFzeW5jIGxvZ291dCgpIHtcclxuICAgICAgICAvL9C90LDRhdC+0LTQuNC8INC4INGD0LTQsNC70Y/QtdC8INCy0YHQtSDQv9GA0L7QtdC60YLRiyDQsiBpbmRleGVkREIg0L/RgNC40L3QsNC00LvQtdC20LDRidC40LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GOXHJcbiAgICAgICAgLy8g0L7RgtC/0YDQsNCy0LvRj9C10Lwg0L3QsCDRgdC10YDQstC10YAgbG9nb3V0IC0g0L7QsdGA0LDRgtC90L4g0L/QvtC70YPRh9Cw0LXQvCDQvtGH0LjRgdGC0LrRgyBjb29raWVcclxuICAgICAgICBjb25zdCByZXNwID0gYXdhaXQgZmV0Y2goJy9hdXRoL2xvZ291dCcpXHJcbiAgICAgICAgY29uc3QgaiA9IGF3YWl0IHJlc3AuanNvbigpXHJcbiAgICAgICAgY29uc29sZS5sb2coailcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAvLyDQv9C10YDQtdC30LDQs9GA0YPQttCw0LXQvNGB0Y8g0LIgZWRpdG9yXHJcbiAgICB9LFxyXG4gICAgLy9hc3luYyBpbml0KCkge1xyXG4gICAgLyp0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZXJyb3IsIG1lIH0gPSBhd2FpdCBncWxjLkdldCh7XHJcbiAgICAgICAgICAgIG1lOiBbXCJzbGlkZXNcIiwgXCJuYW1lXCIsIFwib3B0aW9uc1wiLCBcImVtYWlsXCJdXHJcbiAgICAgICAgfSlcclxuICAgICAgICBfZGF0YS51c2VyLnJlZ2lzdGVyZWQgPSB0eXBlb2YgbWUuZW1haWwgPT09IFwic3RyaW5nXCJcclxuICAgICAgICBfZGF0YS51c2VyLm5hbWUgPSBtZS5uYW1lXHJcbiAgICAgICAgaWYgKF9kYXRhLnVzZXIucmVnaXN0ZXJlZCkge1xyXG4gICAgICAgICAgICBfZGF0YS51c2VyLm9wdGlvbnMgPSBtZS5vcHRpb25zXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBBcHAudG9hc3RzLmFkZCh7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiXCJcclxuICAgICAgICB9KVxyXG4gICAgfSovXHJcbiAgICAvL2lmIChfZGF0YS51c2VyLm9wdGlvbnMubWFudWFsKVxyXG4gICAgLy8gICBzaG93VHV0b3JpYWwoKVxyXG4gICAgLy99XHJcbn0pXHJcblxyXG5BcHAuT24oXCJpbml0XCIsICgpID0+IHtcclxuICAgIEFwcC5tZW51LmFkZE1lbnUoJ2FwcCcsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwYXRoOiAnYXBwLmxpc3QuaGVscCcsXHJcbiAgICAgICAgICAgIGljb246ICdxdWVzdGlvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdIZWxwJyxcclxuICAgICAgICAgICAgbGluazogJyMnLFxyXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6ICdhcHAubGlzdC5oZWxwLmNoYW5uZWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdidWxsaG9ybicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0NoYW5uZWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oJ2h0dHBzOi8vdC5tZS93ZWJzbGlkZXInLCAnX2JsYW5rJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6ICdhcHAubGlzdC5oZWxwLmNoYXQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdidWJibGVzJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQ2hhdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogXCJEaXNjdXNzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbignaHR0cHM6Ly90Lm1lL2NoYXRzbGlkZXInLCAnX2JsYW5rJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9XHJcbiAgICApXHJcbn0pXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgX2RhdGEiLCJpbXBvcnQgeyByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IEVkaXRvciBmcm9tIFwiQC9lbmdpbmUvZWRpdG9yLmpzXCJcclxuaW1wb3J0IFByb2plY3QgZnJvbSBcIi4vcHJvamVjdC5qc1wiXHJcbmltcG9ydCBTbGlkZXMgZnJvbSBcIi4vc2xpZGVzLmpzXCJcclxuXHJcbmNvbnN0IF9hbGxNb2RlbHMgPSBbXVxyXG5jb25zdCBfYWxsQXNzZXRzID0gW11cclxuXHJcbmNvbnN0IF9hc3NldHNCbG9ja3MgPSB7fVxyXG5cclxuY29uc3QgX3R5cGVzID0ge1xyXG4gICAgT2JqZWN0M0Q6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxhYmVsOiBcIlRyYW5zZm9ybVwiLFxyXG4gICAgICAgICAgICByZWFkb25seTogdHJ1ZSxcclxuICAgICAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnVHJhbnNmb3JtRWRpdCcsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxhYmVsOiBcIlZpc2liaWxpdHlcIixcclxuICAgICAgICAgICAgZGF0YToge30sXHJcbiAgICAgICAgICAgIGhlYWQ6IHtcclxuICAgICAgICAgICAgICAgIHByb3A6IFwidmlzaWJsZVwiLFxyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBcIkJvb2xFZGl0XCIsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSxcclxuICAgIE1lc2g6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxhYmVsOiBcIlNoYWRvd1wiLFxyXG4gICAgICAgICAgICBjb250ZW50OiB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdTaGFkb3dFZGl0JyxcclxuICAgICAgICAgICAgICAgIHByb3A6IFwic2hhZG93XCIsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBvbnVwZGF0ZTogYXN5bmMgKHNlbGVjdGVkLCBwcm9wLCB2YWx1ZSwgc2xpZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZC5jYXN0U2hhZG93ID0gdmFsdWUuY2FzdCB8fCBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLnJlY2VpdmVTaGFkb3cgPSB2YWx1ZS5yZWNlaXZlIHx8IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdLFxyXG4gICAgRGlyZWN0aW9uYWxMaWdodDogW3tcclxuICAgICAgICBsYWJlbDogXCJDb2xvclwiLFxyXG4gICAgICAgIGhlYWQ6IHtcclxuICAgICAgICAgICAgY29tcG9uZW50OiBcIkVkaXRDb2xvclwiLFxyXG4gICAgICAgICAgICBwcm9wOiBcImNvbG9yXCIsXHJcbiAgICAgICAgICAgIHN0YXRlOiB0cnVlLFxyXG4gICAgICAgICAgICBvbnVwZGF0ZShzZWwsIHByb3AsIHZhbHVlLCBzbGlkZVVJRCkge1xyXG4gICAgICAgICAgICAgICAgLypzZWxbcHJvcF0uY29weSh2YWx1ZSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gc2VsLnN0YXRlc1tTbGlkZXMuYWN0aXZlZC51aWRdXHJcbiAgICAgICAgICAgICAgICBpZighc3RhdGUucHJvcGVydGllcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUucHJvcGVydGllcz17fVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3RhdGUucHJvcGVydGllc1twcm9wXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJDb2xvclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYXJnc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiI1wiK3ZhbHVlLmdldEhleFN0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgUHJvamVjdC5zYXZlKHNlbCkqL1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgIH0sIHtcclxuICAgICAgICBsYWJlbDogXCJJbnRlbnNpdHlcIixcclxuICAgICAgICBoZWFkOiB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudDogXCJGbG9hdFwiLFxyXG4gICAgICAgICAgICBwcm9wOiBcImludGVuc2l0eVwiLFxyXG4gICAgICAgICAgICBzdGVwOiAwLjEsIG1pbjogMC4wXHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGxhYmVsOiBcIlNoYWRvd1wiLFxyXG4gICAgICAgIGRhdGE6IHt9LFxyXG4gICAgICAgIGhlYWQ6IHtcclxuICAgICAgICAgICAgcHJvcDogXCJjYXN0U2hhZG93XCIsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudDogXCJCb29sRWRpdFwiXHJcbiAgICAgICAgfVxyXG4gICAgfV0sXHJcbiAgICBBbWJpZW50TGlnaHQ6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxhYmVsOiBcIkNvbG9yXCIsXHJcbiAgICAgICAgICAgIGhlYWQ6IHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogXCJFZGl0Q29sb3JcIixcclxuICAgICAgICAgICAgICAgIHByb3A6IFwiY29sb3JcIixcclxuICAgICAgICAgICAgICAgIHN0YXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgb251cGRhdGUoc2VsLCBwcm9wLCB2YWx1ZSwgY21wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsW3Byb3BdLmNvcHkodmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBzZWwuc3RhdGVzW1NsaWRlcy5hY3RpdmVkLnVpZF1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLnByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucHJvcGVydGllcyA9IHt9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnByb3BlcnRpZXNbcHJvcF0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkNvbG9yXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJnc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiNcIiArIHZhbHVlLmdldEhleFN0cmluZygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgUHJvamVjdC5zYXZlKHNlbClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGFiZWw6IFwiSW50ZW5zaXR5XCIsXHJcbiAgICAgICAgICAgIGhlYWQ6IHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogXCJGbG9hdFwiLFxyXG4gICAgICAgICAgICAgICAgcHJvcDogXCJpbnRlbnNpdHlcIixcclxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMSwgbWluOiAwLjAsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV0sXHJcbiAgICBNZXNoOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsYWJlbDogXCJTaGFkb3dcIixcclxuICAgICAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnU2hhZG93RWRpdCcsXHJcbiAgICAgICAgICAgICAgICBwcm9wOiBcInNoYWRvd1wiLFxyXG4gICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgb251cGRhdGU6IGFzeW5jIChzZWxlY3RlZCwgcHJvcCwgdmFsdWUsIHNsaWRlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQuY2FzdFNoYWRvdyA9IHZhbHVlLmNhc3QgfHwgZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZC5yZWNlaXZlU2hhZG93ID0gdmFsdWUucmVjZWl2ZSB8fCBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSxcclxuICAgIGxhYmVsMmQ6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxhYmVsOiBcItCg0LDQt9C80LXRgNGLXCIsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ0RpbWVuc2lvbnNFZGl0JyxcclxuICAgICAgICAgICAgICAgIG9udXBkYXRlKHNlbCwgcHJvcCwgdmFsdWUsIHNsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsW3Byb3BdID0gdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICBQcm9qZWN0LnNhdmUoc2VsKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN0YXRlOiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGFiZWw6IFwiVGV4dFwiLFxyXG4gICAgICAgICAgICBjb250ZW50OiB7XHJcbiAgICAgICAgICAgICAgICBwcm9wOiBcInRleHRcIixcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ1RleHRFZGl0JyxcclxuICAgICAgICAgICAgICAgIHN0YXRlOiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGFiZWw6IFwi0KbQstC10YJcIixcclxuICAgICAgICAgICAgaGVhZDoge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBcIlRleHRDb2xvckVkaXRcIixcclxuICAgICAgICAgICAgICAgIHByb3A6IFwiY29sb3JcIixcclxuICAgICAgICAgICAgICAgIHN0YXRlOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxhYmVsOiBcItCg0LDQt9C80LXRgCDRiNGA0LjRhNGC0LBcIixcclxuICAgICAgICAgICAgaGVhZDoge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBcIkZvbnRTaXplXCIsXHJcbiAgICAgICAgICAgICAgICBwcm9wOiBcInNpemVcIixcclxuICAgICAgICAgICAgICAgIHN0YXRlOiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdLFxyXG4gICAgdmlkZW9wbGFuZTogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGFiZWw6IFwiVVJMXCIsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ0xhYmVsRWRpdCcsXHJcbiAgICAgICAgICAgICAgICBwcm9wOiBcInVybFwiLFxyXG4gICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgb251cGRhdGUoc2VsZWN0ZWQsIHByb3AsIHZhbCwgc2xpZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkLnByb3BlcnRpZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLnByb3BlcnRpZXMgPSB7fVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLnByb3BlcnRpZXMudXJsID0gdmFsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhlYWQ6IHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ0xhYmVsJyxcclxuICAgICAgICAgICAgICAgIHByb3A6IFwidXJsXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgQ2FtZXJhOiBbe1xyXG4gICAgICAgIGxhYmVsOiBcIkZhclwiLFxyXG4gICAgICAgIGhlYWQ6IHtcclxuICAgICAgICAgICAgcHJvcDogXCJmYXJcIixcclxuICAgICAgICAgICAgY29tcG9uZW50OiBcIkZsb2F0XCIsXHJcbiAgICAgICAgICAgIG9udXBkYXRlKHNlbCwgcHJvcCwgdmFsdWUsIGNtcCkge1xyXG4gICAgICAgICAgICAgICAgc2VsW3Byb3BdID0gc2VsLnN0YXRlc1tTbGlkZXMuYWN0aXZlZC51aWRdW3Byb3BdID0gdmFsdWVcclxuICAgICAgICAgICAgICAgIHNlbC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KClcclxuICAgICAgICAgICAgICAgIEVkaXRvci5DYW1lcmFIZWxwZXIudXBkYXRlKClcclxuICAgICAgICAgICAgICAgIFByb2plY3Quc2F2ZShzZWwpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBsYWJlbDogXCJOZWFyXCIsXHJcbiAgICAgICAgaGVhZDoge1xyXG4gICAgICAgICAgICBwcm9wOiBcIm5lYXJcIixcclxuICAgICAgICAgICAgY29tcG9uZW50OiBcIkZsb2F0XCIsXHJcbiAgICAgICAgICAgIHN0YXRlOiB0cnVlLFxyXG4gICAgICAgICAgICBvbnVwZGF0ZShzZWwsIHByb3AsIHZhbHVlLCBjbXAsIHNhdmUpIHtcclxuICAgICAgICAgICAgICAgIHNlbFtwcm9wXSA9IHNlbC5zdGF0ZXNbU2xpZGVzLmFjdGl2ZWQudWlkXVtwcm9wXSA9IHZhbHVlXHJcbiAgICAgICAgICAgICAgICBzZWwudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpXHJcbiAgICAgICAgICAgICAgICBFZGl0b3IuQ2FtZXJhSGVscGVyLnVwZGF0ZSgpXHJcbiAgICAgICAgICAgICAgICBQcm9qZWN0LnNhdmUoc2VsKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1dLFxyXG4gICAgUGVyc3BlY3RpdmVDYW1lcmE6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxhYmVsOiBcIkZPVlwiLFxyXG4gICAgICAgICAgICBoZWFkOiB7XHJcbiAgICAgICAgICAgICAgICBwcm9wOiBcImZvdlwiLFxyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBcIkZsb2F0XCIsXHJcbiAgICAgICAgICAgICAgICBvbnVwZGF0ZShzZWwsIHByb3AsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsW3Byb3BdID0gc2VsLnN0YXRlc1tTbGlkZXMuYWN0aXZlZC51aWRdW3Byb3BdID0gdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICBzZWwudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpXHJcbiAgICAgICAgICAgICAgICAgICAgRWRpdG9yLkNhbWVyYUhlbHBlci51cGRhdGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIFByb2plY3Quc2F2ZShzZWwpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgXSxcclxuICAgIE9ydGhvZ3JhcGhpY0NhbWVyYTogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGFiZWw6IFwiTGVmdFwiLFxyXG4gICAgICAgICAgICBoZWFkOiB7XHJcbiAgICAgICAgICAgICAgICBwcm9wOiBcImxlZnRcIixcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogXCJGbG9hdFwiLFxyXG4gICAgICAgICAgICAgICAgb251cGRhdGUoc2VsLCBwcm9wLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbFtwcm9wXSA9IHNlbC5zdGF0ZXNbU2xpZGVzLmFjdGl2ZWQudWlkXVtwcm9wXSA9IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKVxyXG4gICAgICAgICAgICAgICAgICAgIEVkaXRvci5DYW1lcmFIZWxwZXIudXBkYXRlKClcclxuICAgICAgICAgICAgICAgICAgICBQcm9qZWN0LnNhdmUoc2VsKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsYWJlbDogXCJUb3BcIixcclxuICAgICAgICAgICAgaGVhZDoge1xyXG4gICAgICAgICAgICAgICAgcHJvcDogXCJ0b3BcIixcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogXCJGbG9hdFwiLFxyXG4gICAgICAgICAgICAgICAgb251cGRhdGUoc2VsLCBwcm9wLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbFtwcm9wXSA9IHNlbC5zdGF0ZXNbU2xpZGVzLmFjdGl2ZWQudWlkXVtwcm9wXSA9IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKVxyXG4gICAgICAgICAgICAgICAgICAgIEVkaXRvci5DYW1lcmFIZWxwZXIudXBkYXRlKClcclxuICAgICAgICAgICAgICAgICAgICBQcm9qZWN0LnNhdmUoc2VsKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsYWJlbDogXCJSaWdodFwiLFxyXG4gICAgICAgICAgICBoZWFkOiB7XHJcbiAgICAgICAgICAgICAgICBwcm9wOiBcInJpZ2h0XCIsXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IFwiRmxvYXRcIixcclxuICAgICAgICAgICAgICAgIG9udXBkYXRlKHNlbCwgcHJvcCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxbcHJvcF0gPSBzZWwuc3RhdGVzW1NsaWRlcy5hY3RpdmVkLnVpZF1bcHJvcF0gPSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KClcclxuICAgICAgICAgICAgICAgICAgICBFZGl0b3IuQ2FtZXJhSGVscGVyLnVwZGF0ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgUHJvamVjdC5zYXZlKHNlbClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGFiZWw6IFwiQm90dG9tXCIsXHJcbiAgICAgICAgICAgIGhlYWQ6IHtcclxuICAgICAgICAgICAgICAgIHByb3A6IFwiYm90dG9tXCIsXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IFwiRmxvYXRcIixcclxuICAgICAgICAgICAgICAgIG9udXBkYXRlKHNlbCwgcHJvcCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxbcHJvcF0gPSBzZWwuc3RhdGVzW1NsaWRlcy5hY3RpdmVkLnVpZF1bcHJvcF0gPSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KClcclxuICAgICAgICAgICAgICAgICAgICBFZGl0b3IuQ2FtZXJhSGVscGVyLnVwZGF0ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgUHJvamVjdC5zYXZlKHNlbClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgXVxyXG59XHJcbmNvbnN0IF9oYW5kbGVycyA9IHt9XHJcblxyXG5jb25zdCBfZGF0YSA9IHJlYWN0aXZlKHtcclxuICAgIHJlYWR5OiBmYWxzZSxcclxuICAgIGNhbWVyYXM6IFtdLFxyXG4gICAgLypnZXRCbG9ja3ModGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKHRhcmdldC5pc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC50eXBlIGluIF9tb2RlbHNCbG9jaylcclxuICAgICAgICAgICAgICAgIHJldHVybiBbLi4uX21vZGVsc0Jsb2NrW3RhcmdldC50eXBlXSwgLi4uX2FsbE1vZGVsc11cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBbLi4uX2FsbE1vZGVsc11cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRhcmdldC5pc0Fzc2V0KSB7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQudHlwZSBpbiBfYXNzZXRzQmxvY2tzKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5fYXNzZXRzQmxvY2tzW3RhcmdldC50eXBlXSwgLi4uX2FsbEFzc2V0c11cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBbLi4uX2FsbEFzc2V0c11cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtdXHJcbiAgICB9LCovXHJcbiAgICBibG9ja3NGb3IodHlwZXMgPSBbXCJPYmplY3QzRFwiXSkge1xyXG4gICAgICAgIHJldHVybiB0eXBlcy5mbGF0TWFwKHRwID0+IF90eXBlc1t0cF0gfHwgW10pXHJcbiAgICB9LFxyXG4gICAgaGFuZGxlcnM6IF9oYW5kbGVycyxcclxuICAgIHNldEhhbmRsZXIodHlwZSwgbWV0aG9kKSB7XHJcbiAgICAgICAgX2hhbmRsZXJzW3R5cGVdID0gbWV0aG9kXHJcbiAgICB9LFxyXG4gICAgZ2V0SGFuZGxlcnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9oYW5kbGVyc1xyXG4gICAgfSxcclxuICAgIGFkZEJsb2NrcyhibG9ja3MsIGNoZWNrZXIpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhfYmxvY2tzKS5mb3JFYWNoKGsgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2hlY2tlcihrKSkge1xyXG4gICAgICAgICAgICAgICAgX2Jsb2Nrc1trXS5wdXNoKC4uLmJsb2NrcylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgYWRkVG9Bc3NldHModHlwZXMsIGJsb2Nrcykge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdCA9IHR5cGVzW2ldXHJcbiAgICAgICAgICAgIGlmICh0ID09PSBcIipcIikge1xyXG4gICAgICAgICAgICAgICAgX2FsbEFzc2V0cy5wdXNoKC4uLmJsb2NrcylcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFfYXNzZXRzQmxvY2tzW3RdKSB7XHJcbiAgICAgICAgICAgICAgICBfYXNzZXRzQmxvY2tzW3RdID0gW11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfYXNzZXRzQmxvY2tzW3RdLnB1c2goLi4uYmxvY2tzKVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhZGRUb01vZGVscyh0eXBlcywgYmxvY2tzKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB0ID0gdHlwZXNbaV1cclxuICAgICAgICAgICAgaWYgKHQgPT09IFwiKlwiKSB7XHJcbiAgICAgICAgICAgICAgICBfYWxsTW9kZWxzLnB1c2goLi4uYmxvY2tzKVxyXG4gICAgICAgICAgICAgICAgY29udGludWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIV90eXBlc1t0XSkge1xyXG4gICAgICAgICAgICAgICAgX3R5cGVzW3RdID0gW11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdHlwZXNbdF0ucHVzaCguLi5ibG9ja3MpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgX2RhdGEiLCJpbXBvcnQgeyByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IEFwcE1vZCBmcm9tIFwiQHJlbmVvcy9hcHBcIlxyXG5jb25zdCBBcHAgPSBBcHBNb2QuZGVmYXVsdCB8fCBBcHBNb2RcclxuaW1wb3J0IENvbnRyb2wgZnJvbSAnQC9lbmdpbmUvY29udHJvbHMuanMnO1xyXG5cclxuZnVuY3Rpb24gc2V0TW9kZShtb2RlKSB7XHJcbiAgICBDb250cm9sLlRyYW5zZm9ybWVyLnNldE1vZGUobW9kZSlcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0U3BhY2UoKSB7XHJcbiAgICBDb250cm9sLlRyYW5zZm9ybWVyLnNldFNwYWNlKENvbnRyb2wuVHJhbnNmb3JtZXIuc3BhY2UgPT09ICdsb2NhbCcgPyAnd29ybGQnIDogJ2xvY2FsJylcclxufVxyXG5cclxuZnVuY3Rpb24gbWVyZ2VUcmVlcyh0YXJnZXQsIHNvdXJjZSkge1xyXG4gICAgdGFyZ2V0LmNoaWxkcmVuID8/PSBbXTtcclxuXHJcbiAgICAoc291cmNlLmNoaWxkcmVuIHx8IFtdKS5mb3JFYWNoKHNOb2RlID0+IHtcclxuICAgICAgICBsZXQgdE5vZGUgPSB0YXJnZXQuY2hpbGRyZW4uZmluZChuID0+IG4ucGF0aCA9PT0gc05vZGUucGF0aCk7XHJcbiAgICAgICAgaWYgKCF0Tm9kZSkge1xyXG4gICAgICAgICAgICB0YXJnZXQuY2hpbGRyZW4ucHVzaChzTm9kZSk7IC8vINC00L7QsdCw0LLQu9GP0LXQvCDQutCw0Log0LXRgdGC0YwsINCx0LXQtyDQutC70L7QvdC40YDQvtCy0LDQvdC40Y9cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtZXJnZVRyZWVzKHROb2RlLCBzTm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBhZGRNZW51KHBhcnQsIG1lbnUpIHtcclxuICAgIGNvbnN0IHBhcmVudE5vZGUgPSBfZGF0YVtwYXJ0XS5saXN0LmZpbmQocCA9PiBwLnBhdGggPT09IG1lbnUucGF0aClcclxuXHJcbiAgICBpZiAocGFyZW50Tm9kZSkge1xyXG4gICAgICAgIG1lcmdlVHJlZXMocGFyZW50Tm9kZSwgbWVudSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIF9kYXRhW3BhcnRdLmxpc3QucHVzaChtZW51KTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgX2RhdGEgPSByZWFjdGl2ZSh7XHJcbiAgICBhZGRNZW51LFxyXG4gICAgYXBwOiB7XHJcbiAgICAgICAgbGlzdDogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiAnYXBwLmxpc3QucHJvamVjdCcsXHJcbiAgICAgICAgICAgICAgICBpY29uOiAnJyxcclxuICAgICAgICAgICAgICAgIHRleHQ6ICdQcm9qZWN0JyxcclxuICAgICAgICAgICAgICAgIGxpbms6ICcjJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGF0aDogJ2FwcC5saXN0LmxpYnJhcmllcycsXHJcbiAgICAgICAgICAgICAgICBpY29uOiAnJyxcclxuICAgICAgICAgICAgICAgIHRleHQ6ICdMaWJyYXJpZXMnLFxyXG4gICAgICAgICAgICAgICAgbGluazogJyMnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiAnYXBwLmxpc3QuaGVscCcsXHJcbiAgICAgICAgICAgICAgICBpY29uOiAncXVlc3Rpb24nLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogJ0hlbHAnLFxyXG4gICAgICAgICAgICAgICAgbGluazogJyMnLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgfSxcclxuICAgIHRvcDoge1xyXG4gICAgICAgIGxpc3Q6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWNvbjogXCJzcGhlcmVcIiwgaGludDogXCJMb2NhbC9nbG9iYWwgc3BhY2VcIixcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IHNldFNwYWNlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGljb246IFwibW92ZVwiLCBoaW50OiBcIk1vdmluZ1wiLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlcjogc2V0TW9kZS5iaW5kKG51bGwsICd0cmFuc2xhdGUnKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpY29uOiBcImxvb3AyXCIsIGhpbnQ6IFwiUm90YXRpb25cIixcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IHNldE1vZGUuYmluZChudWxsLCAncm90YXRlJylcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWNvbjogXCJlbmxhcmdlMlwiLCBoaW50OiBcIlNjYWxlXCIsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBzZXRNb2RlLmJpbmQobnVsbCwgJ3NjYWxlJylcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWNvbjogXCJ0YXJnZXRcIiwgaGludDogXCJab29tIGluIG9uIHNlbGVjdGVkXCIsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBDb250cm9sLkZvY3VzVG9TZWxlY3RcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWNvbjogXCJjcm9zc1wiLCBoaW50OiBcIkRlc2VsZWN0XCIsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgQXBwLnNlbGVjdGlvbi5zZWxlY3QobnVsbClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICBzaXplOiBcIjEuNWVtXCJcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGllcmFyaHk6IHtcclxuICAgICAgICBsaXN0OiBbe1xyXG4gICAgICAgICAgICBpY29uOiBcInBsYXkzXCIsXHJcbiAgICAgICAgICAgIHRvb2x0aXA6IFwiUnVuXCIsXHJcbiAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIEFwcC5wcm9qZWN0LnBsYXkoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV0sXHJcbiAgICAgICAgb3B0aW9uczoge31cclxuICAgIH0sXHJcbiAgICB0b29sczoge1xyXG4gICAgICAgIGxpc3Q6IFsvKntcclxuICAgICAgICAgICAgaWNvbjogXCJjb2dcIixcclxuICAgICAgICAgICAgdG9vbHRpcDogXCLQndCw0YHRgtGA0L7QudC60Lgg0YDQtdC00LDQutGC0L7RgNCwXCIsXHJcbiAgICAgICAgICAgIGhhbmRsZXI6ICgpPT57XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0qL11cclxuICAgIH1cclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IF9kYXRhIiwiaW1wb3J0IHsgcmVhY3RpdmUsIHdhdGNoIH0gZnJvbSAndnVlJ1xyXG5pbXBvcnQgSURCIGZyb20gXCJAL2lkYi5qc1wiXHJcbmltcG9ydCBBcHBNb2QgZnJvbSBcIkByZW5lb3MvYXBwXCJcclxuY29uc3QgQXBwID0gQXBwTW9kLmRlZmF1bHQgfHwgQXBwTW9kXHJcblxyXG5pbXBvcnQgbW9kYWwgZnJvbSBcIi4vbW9kYWwuanNcIlxyXG5cclxuY29uc3QgX2V4YW1wbGVzID0gW1xyXG4gICAgLy8oKSA9PiBpbXBvcnQoXCIuLi8uLi92aWRlb3Jvb20uanNvblwiKVxyXG5dXHJcblxyXG5sZXQgX3Byb2plY3RJZCA9IFwiXCJcclxuLy9jb25zdCBfZXhhbXBsZXMgPSBbXCJodHRwczovL3MzLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tLzNkYnVpbGRlci5yZW5lb3MuY29tL2RlbW8uanNvblwiXVxyXG5cclxuLyoqXHJcbiAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINCR0JRcclxuICogQHBhcmFtIHsqfSBrZXkgXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBpbml0KGtleSkge1xyXG4gICAgY29uc29sZS5sb2coa2V5KVxyXG4gICAgX3Byb2plY3RJZCA9IGtleVxyXG4gICAgLy9hd2FpdCBJREIuSW5pdChrZXksIFtcInByb2plY3RcIiwgXCJhc3NldHNcIiwgXCJtb2RlbHNcIiwgXCJzbGlkZXNcIiwgXCJhY3Rpb25zXCIsIFwibW9kdWxlc1wiXSwgXCJ1aWRcIilcclxuICAgIC8vYXdhaXQgZ2V0TGlzdCgpXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHBsYXkodGFyZ2V0ID0gJ2RhdGEnKSB7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgSURCLmV4cG9ydFRvSnNvbihfcHJvamVjdElkKVxyXG4gICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgIGRhdGEucHJvamVjdCA9IHtcclxuICAgICAgICB1aToge1xyXG4gICAgICAgICAgICBzbGlkZXM6IHRydWUsXHJcbiAgICAgICAgICAgIGZ1bGxzY3JlZW46IHRydWVcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgbGluayA9IGAuLi9wbGF5ZXI/dGFyZ2V0PSR7dGFyZ2V0fWBcclxuICAgIGlmICh0YXJnZXQgPT09ICdzcmMnKVxyXG4gICAgICAgIGxpbmsgKz0gYCZzcmM9JHtfcHJvamVjdElkfWBcclxuICAgIGNvbnN0IHBsYXllcldpbmRvdyA9IHdpbmRvdy5vcGVuKGxpbmssICdQbGF5ZXInKTtcclxuXHJcbiAgICBpZiAoIXBsYXllcldpbmRvdykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0L7RgtC60YDRi9GC0Ywg0L7QutC90L4uINCS0L7Qt9C80L7QttC90L4sINCx0YDQsNGD0LfQtdGAINC30LDQsdC70L7QutC40YDQvtCy0LDQuyBwb3AtdXAuJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0YXJnZXQgPT09ICdkYXRhJykge1xyXG4gICAgICAgIC8vINCk0YPQvdC60YbQuNGPINC00LvRjyDQv9C+0LLRgtC+0YDQvdGL0YUg0L/QvtC/0YvRgtC+0Log0L7RgtC/0YDQsNCy0LrQuFxyXG4gICAgICAgIGNvbnN0IHNlbmREYXRhID0gYXN5bmMgKGF0dGVtcHQgPSAwKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvLyDQn9GA0L7QstC10YDRj9C10LwsINC90LUg0LfQsNC60YDRi9GC0L4g0LvQuCDQvtC60L3QvlxyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllcldpbmRvdy5jbG9zZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfQntC60L3QviDQv9C70LXQtdGA0LAg0LHRi9C70L4g0LfQsNC60YDRi9GC0L4nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g0J/Ri9GC0LDQtdC80YHRjyDQvtGC0L/RgNCw0LLQuNGC0Ywg0LTQsNC90L3Ri9C1XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJXaW5kb3cucG9zdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdJTklUX0RBVEEnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IGRhdGFcclxuICAgICAgICAgICAgICAgIH0sIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pOyAvLyDQmNGB0L/QvtC70YzQt9GD0LXQvCDQutC+0L3QutGA0LXRgtC90YvQuSBvcmlnaW4g0LLQvNC10YHRgtC+ICcqJ1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQlNCw0L3QvdGL0LUg0L7RgtC/0YDQsNCy0LvQtdC90YsnKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L7RgtC/0YDQsNCy0LrQtSDQtNCw0L3QvdGL0YU6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGF0dGVtcHQgPCA1KSB7IC8vINCc0LDQutGB0LjQvNGD0LwgNSDQv9C+0L/Ri9GC0L7QulxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2VuZERhdGEoYXR0ZW1wdCArIDEpLCA1MDAgKiAoYXR0ZW1wdCArIDEpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vINCf0LXRgNCy0LDRjyDQv9C+0L/Ri9GC0LrQsCDQvtGC0L/RgNCw0LLQutC4INGBINC90LXQsdC+0LvRjNGI0L7QuSDQt9Cw0LTQtdGA0LbQutC+0LlcclxuICAgICAgICBzZXRUaW1lb3V0KHNlbmREYXRhLCAxMDAwKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDQl9Cw0L/RgNC+0YEg0L3QsNC40LzQtdC90L7QstCw0L3QuNGPINC90L7QstC+0LPQviDQv9GA0L7QtdC60YLQsFxyXG4gKiDQodC+0YXRgNCw0L3QtdC90LjQtSDRgdGC0YDRg9C60YLRg9GA0Ysg0L/RgNC+0LXQutGC0LAg0LIgSURCXHJcbiAqINCf0LXRgNC10LfQsNCz0YDRg9C30LrQsCDRgdGC0YDQsNC90LjRhtGLINGBINGD0LrQsNC30LDQvdC40LXQvCBpZCDQv9GA0L7QtdC60YLQsFxyXG4gKiBcclxuICogQHBhcmFtIHsqfSBlbGVtZW50IFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlKCkge1xyXG4gICAgY29uc3QgdWlkID0gYXdhaXQgY3JlYXRlUHJvamVjdCgpXHJcbiAgICBpZiAodWlkKSB7XHJcbiAgICAgICAgZ290byh1aWQpXHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlUHJvamVjdChqc29uRGF0YSA9IHt9KSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0gcmVhY3RpdmUoe1xyXG4gICAgICAgICAgICB0aXRsZTogXCJDcmVhdGluZyBhIHByb2plY3RcIixcclxuICAgICAgICAgICAgdGV4dDogXCJQbGVhc2UgZW50ZXIgdGhlIHByb2plY3QgbmFtZSAqXCIsXHJcbiAgICAgICAgICAgIGFuc3dlcjogXCJcIixcclxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiXCJcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IGJ0biA9IHJlYWN0aXZlKHtcclxuICAgICAgICAgICAgbGFiZWw6IFwiQ3JlYXRlXCIsXHJcbiAgICAgICAgICAgIGNsYXNzOiBcInByaW1hcnlcIixcclxuICAgICAgICAgICAgZGlzYWJsZWQ6IG9wdGlvbnMuYW5zd2VyLmxlbmd0aCA8IDEsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiBhc3luYyAocikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdWlkID0gYHByb2plY3Qke0RhdGUubm93KCl9YFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgSURCLkNyZWF0ZSh1aWQsIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0OiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpZDogJ2luZm8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHVpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdDogRGF0ZS5ub3coKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICBhc3NldHM6IGpzb25EYXRhLmFzc2V0cyB8fCBbXSxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBqc29uRGF0YS5hY3Rpb25zIHx8IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsczoganNvbkRhdGEubW9kZWxzIHx8IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlczoganNvbkRhdGEuc2xpZGVzIHx8IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZXM6IGpzb25EYXRhLm1vZHVsZXMgfHwgW11cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHVpZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbW9kYWwucXVlcnlUZXh0KG9wdGlvbnMsIFtidG5dLCAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuYW5zd2VyID0gcmVzdWx0XHJcbiAgICAgICAgICAgIGJ0bi5kaXNhYmxlZCA9IG9wdGlvbnMuYW5zd2VyLmxlbmd0aCA8IDFcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbG9hZEV4YW1wbGUobnVtKSB7XHJcbiAgICBjb25zdCBtb2QgPSBhd2FpdCBfZXhhbXBsZXNbbnVtXSgpXHJcbiAgICBjb25zdCBleGFtcGxlID0gbW9kLmRlZmF1bHRcclxuICAgIC8vY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKHNyYylcclxuICAgIC8vY29uc3QgcHJvamVjdCA9IGF3YWl0IHJlc3AuanNvbigpXHJcbiAgICBjb25zdCBuYW1lID0gYHByb2plY3Qke251bX1gXHJcbiAgICBhd2FpdCBJREIuSW5pdChuYW1lLCBbXCJwcm9qZWN0XCIsIFwiYXNzZXRzXCIsIFwibW9kZWxzXCIsIFwic2xpZGVzXCIsIFwiYWN0aW9uc1wiLCBcIm1vZHVsZXNcIl0sIFwidWlkXCIpXHJcbiAgICBhd2FpdCBJREIuYWRkSXRlbXMoXCJhY3Rpb25zXCIsIGV4YW1wbGUuYWN0aW9ucylcclxuICAgIGF3YWl0IElEQi5hZGRJdGVtcyhcImFzc2V0c1wiLCBleGFtcGxlLmFzc2V0cylcclxuICAgIGF3YWl0IElEQi5hZGRJdGVtcyhcIm1vZGVsc1wiLCBleGFtcGxlLm1vZGVscylcclxuICAgIGF3YWl0IElEQi5hZGRJdGVtcyhcIm1vZHVsZXNcIiwgZXhhbXBsZS5tb2R1bGVzKVxyXG4gICAgYXdhaXQgSURCLmFkZEl0ZW1zKFwicHJvamVjdFwiLCBleGFtcGxlLnByb2plY3QpXHJcbiAgICBhd2FpdCBJREIuYWRkSXRlbXMoXCJzbGlkZXNcIiwgZXhhbXBsZS5zbGlkZXMpXHJcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdwcm9qZWN0JywgbmFtZSk7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybC50b1N0cmluZygpO1xyXG59XHJcblxyXG5cclxuYXN5bmMgZnVuY3Rpb24gb3BlbigpIHtcclxuICAgIGNvbnN0IGxzID0gYXdhaXQgZ2V0TGlzdCgpXHJcbiAgICBjb25zdCBwcm9wcyA9IHJlYWN0aXZlKHtcclxuICAgICAgICBsaXN0OiBscy5maWx0ZXIocCA9PiBwLnVpZCAhPT0gQXBwLnByb2plY3QudWlkKVxyXG4gICAgfSlcclxuICAgIG1vZGFsLm9wZW4oe1xyXG4gICAgICAgIGhlYWRlcjoge1xyXG4gICAgICAgICAgICB2YWx1ZTogYE9wZW4gcHJvamVjdGAsXHJcbiAgICAgICAgICAgIGhhbmRsZXI6IG1vZGFsLmNsb3NlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb250ZW50OiB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudDogXCJJdGVtc0xpYlwiLFxyXG4gICAgICAgICAgICBwcm9wcyxcclxuICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBnb3RvKGl0ZW0uaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwuY2xvc2UoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzbG90czoge1xyXG4gICAgICAgICAgICAgICAgaXRlbToge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogXCJQcm9qZWN0SXRlbVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGZvb3Rlcjoge1xyXG4gICAgICAgICAgICBidXR0b25zOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2xvc2VcIixcclxuICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJwcmltYXJ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogbW9kYWwuY2xvc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDQn9C10YDQtdC30LDQs9GA0YPQt9C60LAg0YEg0YPQutCw0LfQsNC90LjQtdC8INCy0YvQsdGA0LDQvdC90L7Qs9C+INC/0YDQvtC10LrRgtCwXHJcbiAqIEBwYXJhbSB7Kn0gcHJvamVjdElkIFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZ290byhwcm9qZWN0SWQpIHtcclxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3NyYycsICdkYicpO1xyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2RiJywgcHJvamVjdElkKTtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsLnRvU3RyaW5nKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDQl9Cw0L/RgNC+0YEg0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRj1xyXG4gKiDQo9C00LDQu9GP0LXQvCDQt9Cw0L/QuNGB0Ywg0LIg0JHQlFxyXG4gKiDQn9C10YDQtdC30LDQs9GA0YPQt9C60LAg0YHRgtGA0LDQvdC40YbRiyDQsdC10Lcg0YPQutCw0LfQsNC90LjRjyDQv9GA0L7QtdC60YLQsFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKHByb2plY3RJZCkge1xyXG4gICAgY29uc29sZS5sb2cocHJvamVjdElkKVxyXG4gICAgY29uc3QgdWlkID0gcHJvamVjdElkIHx8IF9wcm9qZWN0SWRcclxuICAgIGNvbnNvbGUubG9nKHVpZClcclxuICAgIGF3YWl0IElEQi5EZWxldGVEYXRhYmFzZSh1aWQpXHJcbiAgICBjb25zb2xlLmxvZygnUmVtb3ZlZCcpXHJcbiAgICBjb25zdCBpbmRleCA9IF9kYXRhLmxpc3QuZmluZEluZGV4KHAgPT4gcC51aWQgPT09IHVpZClcclxuICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgX2RhdGEubGlzdC5zcGxpY2UoaW5kZXgsIDEpXHJcbiAgICB9XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IG5ldyBVUkwoYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0ke3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZX1gKS50b1N0cmluZygpO1xyXG59XHJcblxyXG4vKipcclxuICog0J/QvtC70YPRh9C10L3QuNC1INGB0L/QuNGB0LrQsCDQv9GA0L7QtdC60YLQvtCyXHJcbiAqIEByZXR1cm5zIEFycmF5XHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBnZXRMaXN0KCkge1xyXG4gICAgY29uc3QgbGlzdCA9IGF3YWl0IElEQi5HZXRGcm9tQWxsKCdwcm9qZWN0JywgJ2luZm8nKVxyXG4gICAgX2RhdGEubGlzdC5sZW5ndGggPSAwXHJcbiAgICBfZGF0YS5saXN0LnB1c2goLi4ubGlzdC5maWx0ZXIocCA9PiBwICE9PSB1bmRlZmluZWQpLm1hcChwID0+IHtcclxuICAgICAgICBwLnVpZCA9IHAuaWRcclxuICAgICAgICByZXR1cm4gcFxyXG4gICAgfSkpXHJcbiAgICByZXR1cm4gX2RhdGEubGlzdFxyXG59XHJcblxyXG4vKmFzeW5jIGZ1bmN0aW9uIGV4cG9ydFRvSnNvbigpIHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBJREIuZXhwb3J0VG9Kc29uKF9wcm9qZWN0SWQpXHJcbiAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShkYXRhKV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pXHJcbiAgICBjb25zdCBmaWxlbmFtZSA9IGBwcm9qZWN0Lmpzb25gO1xyXG4gICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xyXG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmaWxlbmFtZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBhID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICBhLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICBhLmRvd25sb2FkID0gZmlsZW5hbWU7XHJcbiAgICAgICAgYS5zdHlsZSA9ICdkaXNwbGF5OiBub25lJztcclxuICAgICAgICBhLmNsaWNrKCk7XHJcbiAgICB9XHJcbn0qL1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gaW1wb3J0UHJvamVjdCgpIHtcclxuICAgIC8qKlxyXG4gKiDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0L7RgtC60YDRi9GC0LjRjyDQtNC40LDQu9C+0LPQsCDQstGL0LHQvtGA0LAg0YTQsNC50LvQsFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYWNjZXB0IC0g0KLQuNC/0Ysg0YTQsNC50LvQvtCyINC00LvRjyDQstGL0LHQvtGA0LAgKNC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOIC5qc29uKVxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxGaWxlPn0gUHJvbWlzZSDRgSDQstGL0LHRgNCw0L3QvdGL0Lwg0YTQsNC50LvQvtC8XHJcbiAqL1xyXG4gICAgZnVuY3Rpb24gb3BlbkZpbGVEaWFsb2coYWNjZXB0ID0gJy5qc29uJykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAvLyDQodC+0LfQtNCw0LXQvCDQvdC10LLQuNC00LjQvNGL0LkgaW5wdXQg0Y3Qu9C10LzQtdC90YJcclxuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgICAgICBpbnB1dC50eXBlID0gJ2ZpbGUnO1xyXG4gICAgICAgICAgICBpbnB1dC5hY2NlcHQgPSBhY2NlcHQ7XHJcbiAgICAgICAgICAgIGlucHV0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgICAgICAgICAvLyDQntCx0YDQsNCx0LDRgtGL0LLQsNC10Lwg0LLRi9Cx0L7RgCDRhNCw0LnQu9CwXHJcbiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaW5wdXQuZmlsZXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpbnB1dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g0JTQvtCx0LDQstC70Y/QtdC8IGlucHV0INCyIERPTSDQuCDRgtGA0LjQs9Cz0LXRgNC40Lwg0LrQu9C40LpcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICAgICAgICAgIGlucHV0LmNsaWNrKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0YfRgtC10L3QuNGPINC4INC/0LDRgNGB0LjQvdCz0LAgSlNPTiDRhNCw0LnQu9CwXHJcbiAgICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgLSDQntCx0YrQtdC60YIg0YTQsNC50LvQsFxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn0gUHJvbWlzZSDRgSDRgNCw0YHQv9Cw0YDRgdC10L3QvdGL0LzQuCDQtNCw0L3QvdGL0LzQuCBKU09OXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHBhcnNlSnNvbkZpbGUoZmlsZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZmlsZS5uYW1lLmVuZHNXaXRoKCcuanNvbicpKSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCfQktGL0LHQtdGA0LjRgtC1INGE0LDQudC7INGBINGA0LDRgdGI0LjRgNC10L3QuNC10LwgLmpzb24nKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblxyXG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb25EYXRhID0gSlNPTi5wYXJzZShldmVudC50YXJnZXQucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGpzb25EYXRhKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcign0J7RiNC40LHQutCwINC/0LDRgNGB0LjQvdCz0LAgSlNPTjogJyArIGVycm9yLm1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcign0J7RiNC40LHQutCwINGH0YLQtdC90LjRjyDRhNCw0LnQu9CwJykpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBmaWxlID0gYXdhaXQgb3BlbkZpbGVEaWFsb2coKTtcclxuICAgICAgICBjb25zdCBqc29uRGF0YSA9IGF3YWl0IHBhcnNlSnNvbkZpbGUoZmlsZSk7XHJcbiAgICAgICAgbGV0IG1lcmdlZCA9IGZhbHNlXHJcbiAgICAgICAgY29uc3QgaW1wb3J0TGlzdCA9IHJlYWN0aXZlKHtcclxuICAgICAgICAgICAgYWN0aW9uczoge30sXHJcbiAgICAgICAgICAgIGFzc2V0czoge30sXHJcbiAgICAgICAgICAgIGVsZW1lbnRzOiB7fSxcclxuICAgICAgICAgICAgc2xpZGVzOiB7fSxcclxuICAgICAgICAgICAgbW9kdWxlczoge31cclxuICAgICAgICB9KVxyXG4gICAgICAgIG1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICBoZWFkZXI6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBg0JjQvNC/0L7RgNGCYCxcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbC5jbG9zZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogXCJJbXBvcnRlclwiLFxyXG4gICAgICAgICAgICAgICAgcHJvcHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0OiBqc29uRGF0YVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6ICh2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlZCA9IHYubWVyZ2VcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZWxpc3Q6IChsaXN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGxpc3QpLmZvckVhY2goayA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRMaXN0W2tdID0gbGlzdFtrXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZm9vdGVyOiB7XHJcbiAgICAgICAgICAgICAgICBidXR0b25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCLQmNC80L/QvtGA0YJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwic2Vjb25kYXJ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gYHByb2plY3Qke0RhdGUubm93KCl9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgSURCLkluaXQocHJvamVjdE5hbWUsIFtcInByb2plY3RcIiwgXCJhc3NldHNcIiwgXCJlbGVtZW50c1wiLCBcInNsaWRlc1wiLCBcImFjdGlvbnNcIiwgXCJtb2R1bGVzXCJdLCBcInVpZFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgSURCLmFkZEl0ZW1zKFwiYWN0aW9uc1wiLCBqc29uRGF0YS5hY3Rpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgSURCLmFkZEl0ZW1zKFwiYXNzZXRzXCIsIGpzb25EYXRhLmFzc2V0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IElEQi5hZGRJdGVtcyhcImVsZW1lbnRzXCIsIGpzb25EYXRhLmVsZW1lbnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgSURCLmFkZEl0ZW1zKFwic2xpZGVzXCIsIGpzb25EYXRhLnNsaWRlcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IElEQi5hZGRJdGVtcyhcIm1vZHVsZXNcIiwganNvbkRhdGEubW9kdWxlcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IElEQi5hZGRJdGVtcyhcInByb2plY3RcIiwganNvbkRhdGEucHJvamVjdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3Byb2plY3QnLCBwcm9qZWN0TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwuY2xvc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcItCe0YLQvNC10L3QsFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJwcmltYXJ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLmNsb3NlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8qY29uc3Qga2V5ID0gYHByb2plY3Qke0RhdGUubm93KCl9YFxyXG5cclxuICAgICAgICBhd2FpdCBJREIuSW5pdChrZXksIFtcInByb2plY3RzXCIsIFwiYXNzZXRzXCIsIFwiZWxlbWVudHNcIiwgXCJzbGlkZXNcIiwgXCJhY3Rpb25zXCIsIFwibW9kdWxlc1wiXSwgXCJ1aWRcIilcclxuXHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTxqc29uRGF0YS5hc3NldHMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGNvbnN0IHYgPSBqc29uRGF0YS5hc3NldHNbaV1cclxuICAgICAgICAgICAgYXdhaXQgSURCLmFkZEl0ZW0oXCJhc3NldHNcIix7XHJcbiAgICAgICAgICAgICAgICBpZDp2LnVpZCwuLi52XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvcihsZXQgaT0wO2k8anNvbkRhdGEuZWxlbWVudHMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGNvbnN0IHYgPSBqc29uRGF0YS5lbGVtZW50c1tpXVxyXG4gICAgICAgICAgICBhd2FpdCBJREIuYWRkSXRlbShcImVsZW1lbnRzXCIse1xyXG4gICAgICAgICAgICAgICAgaWQ6di51aWQsLi4udlxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IobGV0IGk9MDtpPGpzb25EYXRhLnNsaWRlcy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgY29uc3QgdiA9IGpzb25EYXRhLnNsaWRlc1tpXVxyXG4gICAgICAgICAgICBhd2FpdCBJREIuYWRkSXRlbShcInNsaWRlc1wiLHtcclxuICAgICAgICAgICAgICAgIGlkOnYudWlkLC4uLnZcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9Ki9cclxuICAgICAgICByZXR1cm4ganNvbkRhdGE7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ9Ce0YjQuNCx0LrQsDonLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWQoKSB7XHJcblxyXG59XHJcblxyXG5jb25zdCBfZGF0YSA9IHJlYWN0aXZlKHtcclxuICAgIGluaXQsIGNyZWF0ZSwgY3JlYXRlUHJvamVjdCwgb3BlbiwgZ290bywgcmVtb3ZlLCBnZXRMaXN0LFxyXG4gICAgbG9hZEV4YW1wbGUsIHBsYXksIGltcG9ydFByb2plY3QsIGxvYWQsXHJcbiAgICBwbGF5ZXI6IG51bGwsXHJcbiAgICBsaXN0OiBbXVxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgX2RhdGEiLCJpbXBvcnQgeyByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSdcclxuXHJcbmltcG9ydCBDb250cm9sIGZyb20gXCIuLi9lbmdpbmUvY29udHJvbHMuanNcIlxyXG5cclxuY29uc3QgX2RhdGEgPSByZWFjdGl2ZSh7XHJcbiAgICB1aWQ6IFwiXCIsXHJcbiAgICBzZWxlY3RlZDogbnVsbCxcclxuICAgIHNsaWRlOiB7fSxcclxuICAgIHNlbGVjdChlbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQ/LmdldFR5cGVzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsZW1lbnQpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsZW1lbnQuZ2V0VHlwZXMoKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgX2RhdGEuc2VsZWN0ZWQgPSBlbGVtZW50XHJcbiAgICAgICAgaWYgKCFfZGF0YS5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBDb250cm9sLlNlbGVjdChudWxsKVxyXG4gICAgICAgICAgICBfZGF0YS51aWQgPSBudWxsXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBfZGF0YS51aWQgPSBfZGF0YS5zZWxlY3RlZC51aWRcclxuICAgICAgICBpZiAoZWxlbWVudC5pc09iamVjdDNEKSB7XHJcbiAgICAgICAgICAgIENvbnRyb2wuU2VsZWN0KF9kYXRhLnNlbGVjdGVkKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSlcclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgX2RhdGEiLCJpbXBvcnQgeyByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IEFwcE1vZCBmcm9tIFwiQHJlbmVvcy9hcHBcIlxyXG5jb25zdCBBcHAgPSBBcHBNb2QuZGVmYXVsdCB8fCBBcHBNb2RcclxuaW1wb3J0IElEQiBmcm9tIFwiLi4vaWRiLmpzXCJcclxuXHJcbmNsYXNzIFBlcnNpc3RlbnRGb2xkZXJBY2Nlc3Mge1xyXG4gICAgI2RpckhhbmRsZSA9IG51bGw7XHJcblxyXG4gICAgZ2V0IGhhbmRsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jZGlySGFuZGxlXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcmVxdWVzdEFjY2VzcygpIHtcclxuICAgICAgICB0aGlzLiNkaXJIYW5kbGUgPSBhd2FpdCB3aW5kb3cuc2hvd0RpcmVjdG9yeVBpY2tlcih7XHJcbiAgICAgICAgICAgIG1vZGU6IFwicmVhZHdyaXRlXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYXdhaXQgSURCLnVwc2VydEl0ZW1Qcm9wZXJ0aWVzKCdwcm9qZWN0JywgJ3N0b3JhZ2UnLCB7XHJcbiAgICAgICAgICAgIGhhbmRsZTogdGhpcy4jZGlySGFuZGxlXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlSGFuZGxlKGhhbmRsZSkge1xyXG4gICAgICAgIHRoaXMuI2RpckhhbmRsZSA9IGhhbmRsZVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHdyaXRlRmlsZShuYW1lLCBjb250ZW50cykge1xyXG4gICAgICAgIHRoaXMuI2Fzc2VydEhhbmRsZSgpO1xyXG4gICAgICAgIGNvbnN0IGZpbGVIYW5kbGUgPSBhd2FpdCB0aGlzLiNkaXJIYW5kbGUuZ2V0RmlsZUhhbmRsZShuYW1lLCB7IGNyZWF0ZTogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCB3cml0YWJsZSA9IGF3YWl0IGZpbGVIYW5kbGUuY3JlYXRlV3JpdGFibGUoKTtcclxuICAgICAgICBhd2FpdCB3cml0YWJsZS53cml0ZShjb250ZW50cyk7XHJcbiAgICAgICAgYXdhaXQgd3JpdGFibGUuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyByZWFkRmlsZShuYW1lKSB7XHJcbiAgICAgICAgdGhpcy4jYXNzZXJ0SGFuZGxlKCk7XHJcbiAgICAgICAgY29uc3QgZmlsZUhhbmRsZSA9IGF3YWl0IHRoaXMuI2RpckhhbmRsZS5nZXRGaWxlSGFuZGxlKG5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGZpbGUgPSBhd2FpdCBmaWxlSGFuZGxlLmdldEZpbGUoKTtcclxuICAgICAgICByZXR1cm4gYXdhaXQgZmlsZS50ZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgbGlzdEZpbGVzKCkge1xyXG4gICAgICAgIHRoaXMuI2Fzc2VydEhhbmRsZSgpO1xyXG4gICAgICAgIGNvbnN0IGZpbGVzID0gW107XHJcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBbbmFtZSwgaGFuZGxlXSBvZiB0aGlzLiNkaXJIYW5kbGUuZW50cmllcygpKSB7XHJcbiAgICAgICAgICAgIGlmIChoYW5kbGUua2luZCA9PT0gJ2ZpbGUnKSBmaWxlcy5wdXNoKG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmlsZXM7XHJcbiAgICB9XHJcblxyXG4gICAgI2Fzc2VydEhhbmRsZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuI2RpckhhbmRsZSkgdGhyb3cgbmV3IEVycm9yKCdGb2xkZXIgYWNjZXNzIG5vdCBncmFudGVkJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IF9mbGllQWNjZXNzID0gbmV3IFBlcnNpc3RlbnRGb2xkZXJBY2Nlc3MoKVxyXG5sZXQgX3Jlc29sdmVcclxuY29uc3QgX2RhdGEgPSByZWFjdGl2ZSh7XHJcbiAgICBnZXRIYW5kbGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9mbGllQWNjZXNzLmhhbmRsZVxyXG4gICAgfSxcclxuICAgIGluaXQ6IGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBwcm9qZWN0RGF0YSA9IGF3YWl0IElEQi5nZXRJdGVtKCdwcm9qZWN0JywgJ3N0b3JhZ2UnKVxyXG4gICAgICAgIGlmICghcHJvamVjdERhdGEpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHJlYWN0aXZlKHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBcItCj0LrQsNC20LjRgtC1INC/0LDQv9C60YMg0LTQu9GPINGF0YDQsNC90LXQvdC40Y8g0LzQvtC00LXQu9C10LlcIixcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBhbnN3ZXI6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCJcIlxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBjb25zdCBidG4gPSByZWFjdGl2ZSh7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCLQntCaXCIsXHJcbiAgICAgICAgICAgICAgICBjbGFzczogXCJwcmltYXJ5XCIsXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogYXN5bmMgKHIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBfZmxpZUFjY2Vzcy5yZXF1ZXN0QWNjZXNzKClcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3Jlc29sdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc29sdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgQXBwLm1vZGFsLmNvbmZpcm1SZXEob3B0aW9ucywgW2J0bl0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgX2ZsaWVBY2Nlc3MudXBkYXRlSGFuZGxlKHByb2plY3REYXRhLmhhbmRsZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuICAgIHJlcXVlc3RBY2Nlc3M6IF9mbGllQWNjZXNzLnJlcXVlc3RBY2Nlc3MuYmluZChfZmxpZUFjY2VzcyksXHJcbiAgICB3cml0ZUZpbGU6IF9mbGllQWNjZXNzLndyaXRlRmlsZS5iaW5kKF9mbGllQWNjZXNzKSxcclxuICAgIHJlYWRGaWxlOiBfZmxpZUFjY2Vzcy5yZWFkRmlsZS5iaW5kKF9mbGllQWNjZXNzKSxcclxuICAgIGxpc3RGaWxlczogX2ZsaWVBY2Nlc3MubGlzdEZpbGVzLmJpbmQoX2ZsaWVBY2Nlc3MpLFxyXG4gICAgYWNjZXNzOiAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBfcmVzb2x2ZSA9IHJlc29sdmVcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgX2RhdGEiLCJpbXBvcnQgeyByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IEFwcE1vZCBmcm9tIFwiQHJlbmVvcy9hcHBcIlxyXG5jb25zdCBBcHAgPSBBcHBNb2QuZGVmYXVsdCB8fCBBcHBNb2RcclxuLy9pbXBvcnQgZ3FsYyBmcm9tIFwiQHJlbmVvcy9ncWxjXCJcclxuaW1wb3J0IElEQiBmcm9tIFwiQC9pZGIuanNcIlxyXG5cclxuaW1wb3J0IFRlbXBsYXRlQ2FyZCBmcm9tIFwiQC9jb21wb25lbnRzL3RlbXBsYXRlcy90ZW1wbGF0ZS52dWVcIlxyXG5pbXBvcnQgVGVtcGxhdGVJbmZvIGZyb20gXCJAL2NvbXBvbmVudHMvdGVtcGxhdGVzL3RlbXBsYXRldmlldy52dWVcIlxyXG5cclxuXHJcblxyXG5jb25zdCBfdGVtcGxhdGVzID0gW11cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHByZXZpZXcodGhlbWUsIHNvcnQsIHNraXAgPSAwLCBsaW1pdCA9IDEwMCkge1xyXG4gICAgLyp0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZXJyb3IsIHRlbXBsYXRlcyB9ID0gYXdhaXQgZ3FsYy5HZXQoe1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZXM6IFt7XHJcbiAgICAgICAgICAgICAgICAkYXJnczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lLCBzb3J0LCBza2lwLCBsaW1pdFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBcInVpZFwiLCBcInRpdGxlXCIsIFwiaW1hZ2VcIiwgXCJwcmljZVwiLCBcImltYWdlc1wiLCB7XHJcbiAgICAgICAgICAgICAgICBhdXRvcjogW1wibmFtZVwiXVxyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZXNcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgQXBwLnRvYXN0cy5hZGQoe1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXHJcbiAgICAgICAgfSlcclxuICAgIH0qL1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBpbml0KCkge1xyXG5cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVsb2FkKCkge1xyXG4gICAgY29uc3QgW3JlbW90ZSwgbG9jYWxdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIGZldGNoKCdodHRwczovL3MzLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tLzNkYnVpbGRlci5yZW5lb3MuY29tL3RlbXBsYXRlcy9pbmRleC5qc29uJywge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZSwgbm8tc3RvcmUsIG11c3QtcmV2YWxpZGF0ZScsXHJcbiAgICAgICAgICAgICAgICAnUHJhZ21hJzogJ25vLWNhY2hlJyxcclxuICAgICAgICAgICAgICAgICdFeHBpcmVzJzogJzAnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhY2hlOiAnbm8tc3RvcmUnXHJcbiAgICAgICAgfSkudGhlbihyZXNwID0+IHJlc3AuanNvbigpKSxcclxuICAgICAgICBBcHAuYXBwLkdldERCKCkuZ2V0QWxsSXRlbXMoJ3RlbXBsYXRlcycpXHJcbiAgICBdKVxyXG4gICAgX3RlbXBsYXRlcy5sZW5ndGggPSAwXHJcbiAgICBfdGVtcGxhdGVzLnB1c2goLi4ucmVtb3RlLCAuLi5sb2NhbClcclxufVxyXG5cclxuLy9cclxuYXN5bmMgZnVuY3Rpb24gbG9hZChpZCkge1xyXG4gICAgLyp0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZXJyb3IsIHRlbXBsYXRlIH0gPSBhd2FpdCBncWxjLkdldCh7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiBbe1xyXG4gICAgICAgICAgICAgICAgJGFyZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBcInRpdGxlXCIsIFwiYXV0b3JcIiwgXCJpbWFnZVwiLCBcImFzc2V0c1wiLCBcImFjdGlvbnNcIiwgXCJtb2RlbHNcIiwgXCJtb2R1bGVzXCIsIFwicHJvamVjdFwiLCBcInNsaWRlc1wiXVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBBcHAudG9hc3RzLmFkZCh7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiXCJcclxuICAgICAgICB9KVxyXG4gICAgfSovXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHNhdmUodmFsdWVzKSB7XHJcbiAgICAvKnRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBlcnJvciwgdGVtcGxhdGUgfSA9IGF3YWl0IGdxbGMuU2V0KHtcclxuICAgICAgICAgICAgdGVtcGxhdGU6IFt7XHJcbiAgICAgICAgICAgICAgICBzYXZlOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICRhcmdzOiB2YWx1ZXNcclxuICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIEFwcC50b2FzdHMuYWRkKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJcIlxyXG4gICAgICAgIH0pXHJcbiAgICB9Ki9cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gc2hvd0xpYigpIHtcclxuICAgIGF3YWl0IHJlbG9hZCgpXHJcbiAgICBjb25zdCBwcm9wcyA9IHJlYWN0aXZlKHtcclxuICAgICAgICBzZWxlY3RlZDogbnVsbCxcclxuICAgICAgICBsaXN0OiBfdGVtcGxhdGVzXHJcbiAgICB9KVxyXG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSB7XHJcbiAgICAgICAgbGFiZWw6IFwiQ2xvc2VcIixcclxuICAgICAgICBjbGFzczogXCJzZWNvbmRhcnlcIixcclxuICAgICAgICBoYW5kbGVyOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHByb3BzLnNlbGVjdGVkID0gbnVsbFxyXG4gICAgICAgICAgICBBcHAubW9kYWwuY2xvc2UoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzZWxlY3RCdXR0b24gPSB7XHJcbiAgICAgICAgbGFiZWw6IFwiQ3JlYXRlXCIsXHJcbiAgICAgICAgY2xhc3M6IFwiYWRkaXRpb25hbFwiLFxyXG4gICAgICAgIGhhbmRsZXI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKHByb3BzLnNlbGVjdGVkLnVybCwge1xyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlLCBuby1zdG9yZSwgbXVzdC1yZXZhbGlkYXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAnUHJhZ21hJzogJ25vLWNhY2hlJyxcclxuICAgICAgICAgICAgICAgICAgICAnRXhwaXJlcyc6ICcwJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNhY2hlOiAnbm8tc3RvcmUnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGNvbnN0IGogPSBhd2FpdCByZXNwLmpzb24oKVxyXG4gICAgICAgICAgICBjb25zdCB1aWQgPSBhd2FpdCBBcHAucHJvamVjdHMuY3JlYXRlUHJvamVjdChqKVxyXG4gICAgICAgICAgICBBcHAucHJvamVjdHMuZ290byh1aWQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJ1dHRvbnMgPSByZWFjdGl2ZShbXHJcbiAgICAgICAgc2VsZWN0QnV0dG9uLCBjbG9zZUJ1dHRvblxyXG4gICAgXSlcclxuXHJcbiAgICBBcHAubW9kYWwub3Blbih7XHJcbiAgICAgICAgaGVhZGVyOiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiAnJyxcclxuICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgQXBwLm1vZGFsLmNsb3NlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICBjb21wb25lbnQ6IFwiSXRlbXNMaWJcIixcclxuICAgICAgICAgICAgcHJvcHMsXHJcbiAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGFzeW5jICh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc2VsZWN0ZWQgPSB0XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgb3BlbjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcHJvcHMubGlzdCA9IGF3YWl0IHByZXZpZXcoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzbG90czoge1xyXG4gICAgICAgICAgICAgICAgaXRlbToge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogXCJUZW1wbGF0ZUl0ZW1cIixcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlZGl0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBcIlRlbXBsYXRlVmlld1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb3BzLnNlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGFuZ2U6dHlwZVwiOiAoYSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3JjID0gX2RhdGEubGlicmFyeS5maW5kKGQgPT4gZC5jb21wb25lbnQgPT09IGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5zZWxlY3RlZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zcmMudGVtcGxhdGUsIHR5cGU6IHNyYy5jb21wb25lbnQsIGdyb3VwOiBzcmMudHlwZSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHNyYy5kZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0OiAocHJvcCwgdmFsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gcHJvcC5zcGxpdCgnLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSBwcm9wcy5zZWxlY3RlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gcHJvcGVydGllc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRbcF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtwXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFtwXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbcHJvcGVydGllc1twcm9wZXJ0aWVzLmxlbmd0aCAtIDFdXSA9IHZhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZShwcm9wcy5zZWxlY3RlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9vdGVyOiB7IGJ1dHRvbnMgfVxyXG4gICAgfSlcclxufVxyXG5cclxuY29uc3QgX2RhdGEgPSByZWFjdGl2ZSh7XHJcbiAgICBpbml0LFxyXG4gICAgcHJldmlldyxcclxuICAgIGxvYWRcclxufSlcclxuXHJcbkFwcC5PbihcImluaXRcIiwgKCkgPT4ge1xyXG4gICAgd2luZG93LnZ1ZS5jb21wb25lbnQoXCJUZW1wbGF0ZUl0ZW1cIiwgVGVtcGxhdGVDYXJkKVxyXG4gICAgd2luZG93LnZ1ZS5jb21wb25lbnQoXCJUZW1wbGF0ZVZpZXdcIiwgVGVtcGxhdGVJbmZvKVxyXG5cclxuICAgIEFwcC5tZW51LmFkZE1lbnUoJ2FwcCcsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwYXRoOiAnYXBwLmxpc3QubGlicmFyaWVzJyxcclxuICAgICAgICAgICAgaWNvbjogJycsXHJcbiAgICAgICAgICAgIHRleHQ6ICdMaWJyYXJpZXMnLFxyXG4gICAgICAgICAgICBsaW5rOiAnIycsXHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogJ2FwcC5saXN0LmxpYnJhcmllcy50ZW1wbGF0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdjb2RlcGVuJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnVGVtcGxhdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dMaWIoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH1cclxuICAgIClcclxuXHJcbiAgICAvKkFwcC5tZW51LmhpZXJhcmh5Lmxpc3QucHVzaCh7XHJcbiAgICAgICAgaWNvbjogXCJoaXN0b3J5XCIsXHJcbiAgICAgICAgdG9vbHRpcDogXCJUZW1wbGF0ZXMgbGlicmFyeVwiLFxyXG4gICAgICAgIGhhbmRsZXI6IHNob3dMaWJcclxuICAgIH0pKi9cclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IF9kYXRhIiwiaW1wb3J0IHsgcmVhY3RpdmUsIHJlc29sdmVDb21wb25lbnQgfSBmcm9tICd2dWUnXHJcbmltcG9ydCBBcHBNb2QgZnJvbSBcIkByZW5lb3MvYXBwXCJcclxuY29uc3QgQXBwID0gQXBwTW9kLmRlZmF1bHQgfHwgQXBwTW9kXHJcblxyXG5jb25zdCBfcmVzb2x2ZXJzID0ge31cclxuXHJcbmNvbnN0IF9kYXRhID0gcmVhY3RpdmUoe1xyXG4gIGVsZW1lbnRzOiBbXSxcclxuICBvbkVsZW1lbnRNb3VudCh2KSB7XHJcbiAgICBpZiAoX3Jlc29sdmVyc1t2LnBhdGhdKSB7XHJcbiAgICAgIF9yZXNvbHZlcnNbdi5wYXRoXSh2LmVsZW1lbnQpXHJcbiAgICAgIGRlbGV0ZSBfcmVzb2x2ZXJzW3YucGF0aF1cclxuICAgIH1cclxuICB9LFxyXG4gIGFkZEVsZW1lbnQoY29tcG9uZW50LCBkKSB7XHJcbiAgICBjb25zb2xlLmxvZyhjb21wb25lbnQpXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCBjbXAgPSB3aW5kb3cudnVlLl9jb250ZXh0LmNvbXBvbmVudHNbY29tcG9uZW50XVxyXG5cclxuICAgICAgaWYgKCFjbXApIHtcclxuICAgICAgICBBcHAudG9hc3RzLmFkZCh7XHJcbiAgICAgICAgICBtZXNzYWdlOiBgQ29tcG9uZW50IFwiJHtjb21wb25lbnR9XCIgaXMgbm90IHJlZ2lzdGVyZWRgXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZWplY3QobmV3IEVycm9yKGBDb21wb25lbnQgXCIke2NvbXBvbmVudH1cIiBpcyBub3QgcmVnaXN0ZXJlZGApKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IGRhdGEgPSByZWFjdGl2ZShkLmRhdGEpXHJcbiAgICAgIGNvbnN0IGVsID0ge1xyXG4gICAgICAgIGNvbXBvbmVudCxcclxuICAgICAgICBkYXRhLFxyXG4gICAgICAgIGV2ZW50czogZC5ldmVudHNcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmVsZW1lbnRzLnB1c2goZWwpXHJcbiAgICAgIF9yZXNvbHZlcnNbZC5kYXRhLnBhdGhdID0gZWxlbWVudCA9PiB7XHJcbiAgICAgICAgZWwuZWxlbWVudCA9IGVsZW1lbnRcclxuICAgICAgICByZXNvbHZlKHsgZGF0YSwgZWxlbWVudCB9KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICB9LFxyXG5cclxuICByZW1vdmVFbGVtZW50KGNvbXBvbmVudCkge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmVsZW1lbnRzLmZpbmRJbmRleChlbCA9PiBlbC5lbGVtZW50ID09PSBjb21wb25lbnQpXHJcbiAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnRzLnNwbGljZShpbmRleCwgMSlcclxuICAgIH1cclxuICB9XHJcbn0pXHJcblxyXG5BcHAuT24oXCJpbml0XCIsICgpID0+IHtcclxuICBfZGF0YS5lbGVtZW50cy5sZW5ndGggPSAwXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBfZGF0YSJdLCJuYW1lcyI6WyJjbGFzcyIsImlkIiwicmVmIiwiZGF0YSIsInNlbGVjdGVkRWxlbWVudCIsImxvYWRDb21wb25lbnQiLCJtb2R1bGVzTG9hZGVkIiwicHJvZ3Jlc3MiLCJjb21wdXRlZCIsInVpIiwidGhpcyIsIiRhcHAiLCJoaWVyYXJoeUFsbG93IiwiZW5naW5lIiwiaW5zdGFuY2VzIiwibGVuZ3RoIiwib3B0aW9ucyIsImFwcCIsInRvb2xzIiwidG9vbHNlIiwibW9kZWxzIiwicmVhZHkiLCJ0b2FzdHMiLCJtb2RhbCIsInRyYW5zbGF0aW9ucyIsIm1ldGhvZHMiLCJzdGFydCIsIndhaXRDYW52YXNTaXplIiwiY2FudmFzZXMiLCJkcHIiLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwibW91bnRlZCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiVEhSRUUiLCJpbml0IiwibW9kdWxlcyIsImVkaXRvcmNhbnZhcyIsIiRyZWZzIiwicGxheWNhbnZhcyIsImNvbGxlY3Rpb25zIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJzcmMiLCJnZXQiLCJwcm9qZWN0RGF0YSIsInRlbXBsYXRlcyIsInByb2plY3QiLCJ1aWQiLCJJbml0IiwiZGJkYXRhIiwiaSIsImQiLCJnZXRBbGxJdGVtcyIsInB1c2giLCJhY3Rpb25zIiwiYXNzZXRzIiwic2xpZGVzIiwiZiIsImZldGNoIiwianNvbiIsInByb2plY3RzIiwiUHJvbWlzZSIsInJlc29sdmUiLCIkbmV4dFRpY2siLCJjb25zb2xlIiwibG9nIiwibG9hZCIsImxvYWRVc2VyTW9kdWxlcyIsImFsbCIsInAiLCJQcm9qZWN0IiwiU3RhcnQiLCJjc3NNYW5hZ2VyIiwiQ3NzTWFuYWdlciIsInBsYXl1aSIsIm9uIiwiZWwiLCJPbkNyZWF0ZSIsInBhdGhzIiwiT25SZW1vdmUiLCJlcnJvciIsIndhcm4iLCJhZGQiLCJtZXNzYWdlIiwidHlwZSIsInRpbWVoaWRlIiwic2wiLCJuYW1lIiwicHJvcHMiLCJnb3RvIiwiY29tcG9uZW50cyIsIlVJIiwiZWxlbWVudHMiLCJjbXAiLCJpbmRleCIsImNvbXBvbmVudCIsIm9uRWxlbWVudE1vdW50Iiwia2V5IiwiZXZlbnRzIiwibG9hZGluZ1Byb2dyZXNzIiwiQXBwIiwiX2lkIiwiX2RhdGEiLCJyZWFjdGl2ZSIsImxpc3QiLCJpY29uIiwib25jbGljayIsInZhbHVlcyIsIm1hcmtSYXciLCJ0b2FzdCIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwiYmluZCIsInNwbGljZSIsIk9uIiwidnVlIiwicXVlcnl0b2FzdCIsImlzVmlzaWJsZSIsImhlYWRlciIsImNvbnRlbnQiLCJmb290ZXIiLCJvcGVuIiwiY2xvc2FibGUiLCJ2YWx1ZSIsImNsb3NlIiwib25vdmVybGF5IiwicXVlcnlUZXh0IiwiYnV0dG9ucyIsIm9uVXBkYXRlIiwidGl0bGUiLCJoYW5kbGVyIiwibWFwIiwiYiIsImNhbGxiYWNrIiwiYW5zd2VyIiwibGFiZWwiLCJjb25maXJtUmVxIiwiUmVxRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJpc1JlcUVycm9yIiwiRXhpc3RFcnJvciIsImlzRXhpc3RFcnJvciIsIl9wcmVkZWZpbmVkIiwiZW50cnkiLCJzeXN0ZW0iLCJfbW9kdWxlcyIsIl9nbG9iYWwiLCJkZXNjcmlwdGlvbiIsImdsb2JhbCIsIl9tb2RzIiwiYXN5bmMiLCJBZGRNb2R1bGUiLCJtb2R1bGUiLCJmaW5kIiwibSIsInJlZ2lzdGVyUmVtb3RlcyIsImxvYWRSZW1vdGUiLCJtb2QiLCJzYXZlRGF0YSIsInVwc2VydEl0ZW1Qcm9wZXJ0aWVzIiwiU2F2ZVVzZXJNb2R1bGUiLCJzaG93TGliIiwic2VsZWN0ZWQiLCJwcm9jZXNzZWQiLCJzdHlsZXMiLCJpdGVtIiwic2F2ZUJ1dHRvbiIsImhpZGRlbiIsInJlZ2J1dHRvbiIsImNhbmNlbGJ1dHRvbiIsInJlbW92ZWJ1dHRvbiIsInByb3BVSUQiLCJmaW5kSW5kZXgiLCJkZWxldGVJdGVtIiwiY2xvc2VCdXR0b24iLCJhc3NldCIsInNsb3RzIiwiZWRpdCIsInByb3AiLCJ2YWwiLCJjcmVhdGVJbnN0YW5jZSIsInJlbW90ZXMiLCJ0aGVuIiwiZ2V0TW9kIiwicHJvbXMiLCJBZGRNb2R1bGVzIiwibW9kRGF0YSIsIm1lbnUiLCJoaWVyYXJoeSIsInRvb2x0aXAiLCJkZWZpbmVBc3luY0NvbXBvbmVudCIsImRlZmF1bHQiLCJhZGRNZW51IiwicGF0aCIsInRleHQiLCJsaW5rIiwiY2hpbGRyZW4iLCJjYW5hZGQiLCJoZWFkIiwiY2FuY2VsQnV0dG9uIiwiU2hvd0dsb2JhbExpYiIsIl9lbW1pdGVyIiwiX2ZhY3RvcnkiLCJidWlsZCIsInBhcnNlZCIsInBhcmVudElkIiwicGFyZW50IiwibCIsImNyZWF0ZUVsZW1lbnQiLCJCdWlsZEVsZW1lbnQiLCJnZXRNYW5hZ2VyIiwiUm9vdCIsInN0YXRlcyIsInByb3BlcnRpZXMiLCJqb2luIiwiZW1pdCIsInNhdmUiLCJtb2RlbCIsIkpTT04iLCJwYXJzZSIsImNvbGxlY3QiLCJzbGlkZSIsIm91dGxpc3QiLCJpc0VsZW1lbnQiLCJ2IiwiaW5mbyIsIm1vZGVsc0RhdGEiLCJnZXRGYWN0b3J5IiwibW9kZWxEYXRhIiwicyIsImZpbmRTdGF0ZXMiLCJzbGlkZVVJRCIsIm91dExpc3QiLCJnZXRTdGF0ZSIsInRhcmdldCIsInNlbGVjdGlvbiIsInNlbGVjdCIsInQiLCJjaGlsZCIsIlJlbW92ZU1vZGVsIiwiaGFuZGxlQXNzZXQiLCJhY3RpdmVkIiwic291cmNlIiwiRGF0ZSIsIm5vdyIsInJlcGxhY2UiLCJyZXNvdXJjZSIsImFkZEVsZW1lbnQiLCJuZXdFbGVtZW50RGF0YSIsIm1vZGVsVmFsdWUiLCJPYmplY3QiLCJrZXlzIiwiayIsImMiLCJmaW5kT2JqZWN0c0J5VHlwZSIsInJlc3VsdCIsInRyYXZlcnNlIiwibm9kZSIsIkFycmF5IiwiaXNBcnJheSIsImV4cG9ydFRvSnNvbiIsImJsb2IiLCJCbG9iIiwic3RyaW5naWZ5IiwiZmlsZW5hbWUiLCJuYXZpZ2F0b3IiLCJtc1NhdmVPck9wZW5CbG9iIiwibXNTYXZlQmxvYiIsImEiLCJocmVmIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJzdHlsZSIsImNsaWNrIiwiaW1wb3J0UHJvamVjdCIsImZpbGUiLCJhY2NlcHQiLCJpbnB1dCIsImRpc3BsYXkiLCJhZGRFdmVudExpc3RlbmVyIiwiZmlsZXMiLCJib2R5IiwicmVtb3ZlQ2hpbGQiLCJhcHBlbmRDaGlsZCIsIm9wZW5GaWxlRGlhbG9nIiwianNvbkRhdGEiLCJyZWplY3QiLCJlbmRzV2l0aCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJldmVudCIsIm9uZXJyb3IiLCJyZWFkQXNUZXh0IiwicGFyc2VKc29uRmlsZSIsImFkZEl0ZW1zIiwidXJsIiwidG9TdHJpbmciLCJwbGF5IiwiZnVsbHNjcmVlbiIsInBsYXllcldpbmRvdyIsInNlbmREYXRhIiwiYXR0ZW1wdCIsImNsb3NlZCIsInBvc3RNZXNzYWdlIiwicGF5bG9hZCIsIm9yaWdpbiIsIm9mZiIsImNhbWVyYSIsImNyZWF0ZSIsImJhY2tncm91bmQiLCJlbnZpcm9ubWVudCIsIm91dGRhdGEiLCJvbGRTbGlkZSIsIm9sZFN0YXRlcyIsIm5leHRTdGF0ZXMiLCJjb250aW51ZUxpc3QiLCJkaXNhYmxlTGlzdCIsInN0YXRlIiwiZnVsbExpc3QiLCJBY3Rpb25zTWFuYWdlciIsIkV4ZWN1dGUiLCJSdW4iLCJEZWN0aXZhdGVTdGF0ZSIsIlNsaWRlT3V0IiwiZW5hYmxlTGlzdCIsIkNhbWVyYSIsImNhbVBhdGhzIiwic3BsaXQiLCJjYW0iLCJTZXRDYW1lcmEiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiaXNBc3NldCIsIlNjZW5lIiwiQWN0aXZhdGVTdGF0ZSIsIlNsaWRlSW4iLCJBY3RpdmF0ZSIsInBvc2l0aW9uIiwicm90YXRpb24iLCJzY2FsZSIsInZpc2libGUiLCJjb3B5Iiwic2V0RnJvbVZlY3RvcjMiLCJwcm9taXNlcyIsIkNyZWF0ZUVsZW1lbnQiLCJzdWNjZXNzIiwidHlwZURhdGEiLCJGYWN0b3J5IiwiVHJlZVR5cGVzIiwib25jaGFuZ2UiLCJzbHMiLCJzb3J0IiwiUmVzZXRDYW1lcmEiLCJsaW5rZWQiLCJuZXh0Iiwic2xudW0iLCJiYWNrIiwiX21hbmFnZXIiLCJtYW5hZ2VycyIsIl9vbkxvYWRlZCIsIl9vbkluaXQiLCJnZXRBc3NldHNNYW5hZ2VyIiwiQXNzZXRzTWFuYWdlciIsImdldFNsaWRlc01hbmFnZXIiLCJTbGlkZXNNYW5hZ2VyIiwiTW91c2VNYW5hZ2VyIiwiY2IiLCJvbkluaXQiLCJQcm94eSIsIl9kZWZhdWx0Iiwib25TZWxlY3QiLCJjcmVhdGVCdXR0b24iLCJsaWJyYXJ5IiwiZ3JvdXAiLCJ0YXJnZXRzIiwidGVtcGxhdGUiLCJsaWIiLCJjaGVjayIsIkFkZCIsInJlbW92ZUJ1dHRvbiIsInNlbGVjdEJ1dHRvbiIsImFjdGlvbiIsImN1cnJlbnQiLCJhY3Rpb25zRGF0YSIsImFjdHMiLCJMaWJyYXJ5IiwicmVtb3ZlRnJvbSIsImhvb2siLCJob29rcyIsImdyb3VwcyIsInJlZHVjZSIsImFjYyIsImluY2x1ZGVzIiwiQSIsImluc3BlY3RvciIsImFkZFRvTW9kZWxzIiwicmVhZG9ubHkiLCJfaW5zcGVjdG9yIiwib251cGRhdGUiLCJVcGRhdGUiLCJpbnNwZWN0b3JPbmx5IiwiaW1hZ2UiLCJhY2NlcHRlZFR5cGVzIiwic2VsZWN0YWJsZSIsImltZyIsImhkciIsIl9jaGVrZXJzIiwiaWNvbnMiLCJpbmNsdWRlQXNzZXRzIiwiaW5jbHVkZSIsImZpbHRlciIsInJlcyIsImFkZEl0ZW0iLCJ1cGRhdGVJdGVtIiwiY291bnQiLCJDaGVja1VzZUFzc2V0IiwiZW52TWFwIiwiUmVtb3ZlIiwic2VsZWN0QXNzZXQiLCJzaG93U2VsZWN0IiwiYnVzeSIsInR5cGVzIiwiYXNzZXRzRGF0YSIsImZyb20iLCJBc3NldHMiLCJzZXRBc3NldCIsIkFkZEFzc2V0IiwiZ2V0SW5zcGVjdG9yIiwiZ2V0RGVmYXVsdCIsInVwc2VydE1hbnkiLCJkYiIsIm9wZW5EYXRhYmFzZSIsImV4cG9ydERhdGEiLCJFbGVtZW50cyIsImNvbGwiLCJnZXRJdGVtIiwiZHJhZ2dlZE5vZGUiLCJjYW1lcmFzIiwiR2V0VHlwZXMiLCJ1c2VyIiwicmVnaXN0ZXJlZCIsIm1hbnVhbCIsImxvY2FsU3RvcmFnZSIsInNldFBhc3N3b3JkIiwicGFzcyIsIm1lIiwiZ3FsYyIsIlNldCIsInBhc3N3b3JkIiwiJGFyZ3MiLCJsb2dvdXQiLCJyZXNwIiwiaiIsInJlbG9hZCIsIl9hbGxNb2RlbHMiLCJfYWxsQXNzZXRzIiwiX2Fzc2V0c0Jsb2NrcyIsIl90eXBlcyIsIk9iamVjdDNEIiwiTWVzaCIsImNhc3RTaGFkb3ciLCJjYXN0IiwicmVjZWl2ZVNoYWRvdyIsInJlY2VpdmUiLCJEaXJlY3Rpb25hbExpZ2h0Iiwic2VsIiwic3RlcCIsIm1pbiIsIkFtYmllbnRMaWdodCIsImdldEhleFN0cmluZyIsImxhYmVsMmQiLCJ2aWRlb3BsYW5lIiwiQ2FtZXJhSGVscGVyIiwidXBkYXRlIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJPcnRob2dyYXBoaWNDYW1lcmEiLCJfaGFuZGxlcnMiLCJibG9ja3NGb3IiLCJmbGF0TWFwIiwidHAiLCJoYW5kbGVycyIsInNldEhhbmRsZXIiLCJtZXRob2QiLCJnZXRIYW5kbGVycyIsImFkZEJsb2NrcyIsImJsb2NrcyIsImNoZWNrZXIiLCJfYmxvY2tzIiwiYWRkVG9Bc3NldHMiLCJzZXRNb2RlIiwibW9kZSIsIlRyYW5zZm9ybWVyIiwibWVyZ2VUcmVlcyIsInNOb2RlIiwidE5vZGUiLCJuIiwicGFydCIsInBhcmVudE5vZGUiLCJ0b3AiLCJoaW50Iiwic2V0U3BhY2UiLCJzcGFjZSIsIkZvY3VzVG9TZWxlY3QiLCJzaXplIiwiX2V4YW1wbGVzIiwiX3Byb2plY3RJZCIsImNyZWF0ZVByb2plY3QiLCJidG4iLCJkaXNhYmxlZCIsInIiLCJDcmVhdGUiLCJjcmVhdGVkIiwibGFzdCIsInByb2plY3RJZCIsInNlYXJjaFBhcmFtcyIsInNldCIsImdldExpc3QiLCJHZXRGcm9tQWxsIiwidW5kZWZpbmVkIiwibHMiLCJEZWxldGVEYXRhYmFzZSIsInBhdGhuYW1lIiwibG9hZEV4YW1wbGUiLCJudW0iLCJleGFtcGxlIiwibWVyZ2VkIiwiaW1wb3J0TGlzdCIsIm1lcmdlIiwiY2hhbmdlbGlzdCIsInByb2plY3ROYW1lIiwicGxheWVyIiwiZ2V0VHlwZXMiLCJTZWxlY3QiLCJpc09iamVjdDNEIiwiX2ZsaWVBY2Nlc3MiLCJoYW5kbGUiLCJyZXF1ZXN0QWNjZXNzIiwic2hvd0RpcmVjdG9yeVBpY2tlciIsInVwZGF0ZUhhbmRsZSIsIndyaXRlRmlsZSIsImNvbnRlbnRzIiwiZmlsZUhhbmRsZSIsImdldEZpbGVIYW5kbGUiLCJ3cml0YWJsZSIsImNyZWF0ZVdyaXRhYmxlIiwid3JpdGUiLCJyZWFkRmlsZSIsImdldEZpbGUiLCJsaXN0RmlsZXMiLCJlbnRyaWVzIiwia2luZCIsIl9yZXNvbHZlIiwiZ2V0SGFuZGxlIiwiYWNjZXNzIiwiX3RlbXBsYXRlcyIsInByZXZpZXciLCJ0aGVtZSIsInNraXAiLCJsaW1pdCIsInJlbW90ZSIsImxvY2FsIiwiaGVhZGVycyIsImNhY2hlIiwiR2V0REIiLCJfcmVzb2x2ZXJzIiwiX2NvbnRleHQiLCJyZW1vdmVFbGVtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==