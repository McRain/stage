"use strict";(self.webpackChunk_reneos_3d_editor_engine=self.webpackChunk_reneos_3d_editor_engine||[]).push([[328],{328:(e,i,t)=>{t.r(i),t.d(i,{default:()=>d});var r=t(909),s=t(30);class o extends s.default{constructor(e){super(e),console.log(e),this.prototypes.push("videoplane"),this.isVideoMesh=!0,this.type="videoplane",this.properties=e.properties||{url:"#"},this.video=document.createElement("video"),this.video.crossOrigin="anonymous",this.video.loop=!0,this.video.muted=!0,this.video.playsInline=!0,this.video.addEventListener("canplay",()=>{this.video.play().catch(e=>console.error("Autoplay failed:",e))}),this.video.addEventListener("error",e=>{console.error("Video error:",e),console.error("Error details:",this.video.error)}),console.log(this.properties.url),this.video.src=this.properties.url||"https://s3.eu-west-1.amazonaws.com/3dbuilder.reneos.com/video/sintel.mp4",this.videoTexture=new r.VideoTexture(this.video),this.videoTexture.minFilter=r.LinearFilter,this.videoTexture.magFilter=r.LinearFilter,this.videoTexture.format=r.RGBFormat,this.geometry=new r.PlaneGeometry(1,1,10,10),this.material=new r.MeshBasicMaterial({map:this.videoTexture,side:r.DoubleSide}),this._mesh=new r.Mesh(this.geometry,this.material),this.add(this._mesh)}get url(){return this.properties.url}set url(e){this.properties.url=e,this.video.src=e,this.play()}play(){this.video.readyState>=2?this.video.play().catch(e=>console.error("Play failed:",e)):this.video.addEventListener("canplay",()=>{this.video.play().catch(e=>console.error("Play failed:",e))})}}const d=o}}]);