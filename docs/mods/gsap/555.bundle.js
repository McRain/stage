"use strict";(self.webpackChunk_reneos_3d_mod_gsap=self.webpackChunk_reneos_3d_mod_gsap||[]).push([[9,555],{262:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,i]of t)a[e]=i;return a}},454:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var i=a(554);function o(e,t,a=!1){return e.sinfle&&t.gsapPosition&&(t.gsapPosition.kill(),t.gsapPosition=null),new Promise(o=>{console.log("TweenRotate with GSAP");let l=t.model;const n="accurate"===e.from.type?{...e.from.value}:{x:l.position.x+e.from.value.x,y:l.position.y+e.from.value.y,z:l.position.z+e.from.value.z};let s=e.position||t.position||l.position;const r="accurate"===e.to.type?e.to.value:{x:s.x+e.to.value.x,y:s.y+e.to.value.y,z:s.z+e.to.value.z};l.position.copy(n),l.visible=!0,function(e){const t=e.split(".");let a=t[0];const i={Linear:"none",Quadratic:"power1",Cubic:"power2",Quartic:"power3",Quintic:"power4",Sinusoidal:"sine",Exponential:"expo",Circular:"circ",Elastic:"elastic",Back:"back",Bounce:"bounce"};i[a]&&(a=i[a]),t.length>1?a+=t[1].toLowerCase():a+=".inOut"}(e.easing);const c={x:r.x,y:r.y,z:r.z,duration:a?0:(e.time||1e3)/1e3,delay:a?0:(e.delay||0)/1e3,ease:"none",yoyo:Boolean(e.yoyo),repeat:Number.isInteger(e.repeat)?e.repeat:-1,onStart:()=>{e.nowait&&o()},onUpdate:function(){l.position.copy(n)},onComplete:()=>{o&&o()},onRepeat:()=>{o&&o()}};t.gsapPosition=i.gsap.to({x:n.x,y:n.y,z:n.z},c),o()})}a(500)},572:(e,t,a)=>{a.d(t,{A:()=>q});var i=a(27);const o={class:"flex-line"},l={class:"line-title"},n={class:"value-title"},s={value:"accurate"},r={value:"relative"},c={class:"flex-fit"},p={class:"flex-line"},d={class:"line-title"},u={class:"value-title"},m={value:"accurate"},y={value:"relative"},h={class:"flex-fit"},v={class:"flex-line"},f={class:"line-title"},g={class:"value-title"},V={class:"flex-line"},N={class:"line-title"},E={class:"value-title"},k={class:"flex-line"},b={class:"line-title"},x={class:"value-title"},$=["value"],w={class:"flex-line"},B={class:"line-title"},C={class:"value-title"},S=["checked"],z={class:"flex-line"},I={class:"flex-line"},D={class:"line-title"},U={class:"value-title"},j=["checked"],O={class:"flex-line"},_={class:"line-title"},M={class:"value-title"},P=["checked"],T={style:{display:"flex","flex-wrap":"nowrap",gap:"10px","justify-content":"flex-end","align-items":"center"}},A={style:{display:"flex","align-items":"center",gap:"5px"}},F={props:{repeat:{type:[Number,String],default:0}},data(){return{numericValue:"number"==typeof this.repeat&&isFinite(this.repeat)?this.repeat:0,isInfinite:this.repeat===1/0||"Infinity"===this.repeat}},watch:{repeat(e){e===1/0||"Infinity"===e?this.isInfinite=!0:(this.isInfinite=!1,this.numericValue=e)}},methods:{handleNumericInput(){this.numericValue<0&&(this.numericValue=0),this.$emit("update:repeat",this.numericValue)},handleInfinityChange(){this.isInfinite?this.$emit("update:repeat",1/0):this.$emit("update:repeat",this.numericValue>=0?this.numericValue:0)}}};var L=a(262);const R=(0,L.A)(F,[["render",function(e,t,a,o,l,n){const s=(0,i.resolveComponent)("icon");return(0,i.openBlock)(),(0,i.createElementBlock)("div",T,[l.isInfinite?(0,i.createCommentVNode)("v-if",!0):(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("input",{key:0,style:{width:"42px",height:"0.98em"},type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>l.numericValue=e),min:"0",onInput:t[1]||(t[1]=(...e)=>n.handleNumericInput&&n.handleNumericInput(...e))},null,544)),[[i.vModelText,l.numericValue,void 0,{number:!0}]]),(0,i.createElementVNode)("div",A,[(0,i.createVNode)(s,{style:(0,i.normalizeStyle)({opacity:l.isInfinite?1:.5}),value:"infinite",size:"1em"},null,8,["style"]),(0,i.withDirectives)((0,i.createElementVNode)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.isInfinite=e),type:"checkbox",onChange:t[3]||(t[3]=(...e)=>n.handleInfinityChange&&n.handleInfinityChange(...e))},null,544),[[i.vModelCheckbox,l.isInfinite]])])])}]]);var Q=a(554);const G={name:"GsapUI",props:{labels:{type:Object},property:{type:String},name:{type:String},from:{type:Object,default:{type:"accurate",value:{x:0,y:0,z:0}}},to:{type:Object,default:{type:"accurate",value:{x:0,y:0,z:0}}},delay:{type:Number},time:{type:Number},easing:{type:String,default:"none"},repeat:{type:Number},yoyo:{type:Boolean},options:{type:Object,default:{inspector:!1}},nowait:{type:Boolean},single:{type:Boolean,default:!0}},computed:{labs(){return{accurate:"Точная позиция",relative:"Относительная позиция",delay:"Отсрочка (мсек)",time:"Время (мсек)",easing:"Затухание",yoyo:"Замыкание",repeat:"Повторы",nowait:"Без ожидания",single:"Один экземпляр",...this.labels}},fromtype:{get(){return this.from.type},set(e){this.$emit("update","from",{value:this.fromvalue,type:e})}},fromvalue:{get(){return this.from.value},set(e){this.$emit("update","from",{value:e,type:this.fromtype})}},totype:{get(){return this.to.type},set(e){this.$emit("update","to",{...this.to,type:e})}},tovalue:{get(){return this.to.value},set(e){this.$emit("update","to",{value:e,type:this.totype})}},easingval:{get(){return this.easing},set(e){this.$emit("update","easing",e)}},target(){return this.$app.selection.selected}},methods:{copyFromModel(e){const t=this.target.model[this.property].clone(),a=this[e];a.value.x=t.x,a.value.y=t.y,a.value.z=t.z,this.$emit("update",e,a)},reset(){const e=this.target[this.property]||this.target.model[this.property];this.target.model?this.target.model[this.property].copy(e):this.target[this.property].copy(e)},async play(){if(this.played)return this.played=!1,void this.$emit("play",this.played);this.played=!0,this.$emit("play",this.played),this.reset(),await TweenPos({from:this.from,to:this.to,delay:this.delay,time:this.time,easing:this.easing,repeat:this.repeat,yoyo:this.yoyo},this.target,!1),this.played=!1,this.$emit("play",this.played)}},data:()=>({easingList:[]}),components:{RepeatSelector:R},mounted(){Object.keys(Q.Easing).forEach(e=>{let t=e;Object.keys(Q.Easing[e]).forEach(e=>{this.easingList.push(`${t}.${e}`)})})}},q=(0,L.A)(G,[["render",function(e,t,a,T,A,F){const L=(0,i.resolveComponent)("icon"),R=(0,i.resolveComponent)("V3"),Q=(0,i.resolveComponent)("Float"),G=(0,i.resolveComponent)("RepeatSelector");return(0,i.openBlock)(),(0,i.createElementBlock)("div",null,[(0,i.createElementVNode)("div",o,[(0,i.createElementVNode)("div",l,[t[13]||(t[13]=(0,i.createTextVNode)("Из: ")),a.options.inspector&&["accurate"].includes(a.from.type)?((0,i.openBlock)(),(0,i.createElementBlock)("button",{key:0,onClick:t[0]||(t[0]=e=>F.copyFromModel("from"))},[(0,i.createVNode)(L,{value:"target",size:"0.9em"})])):(0,i.createCommentVNode)("v-if",!0)]),(0,i.createElementVNode)("div",n,[(0,i.withDirectives)((0,i.createElementVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>F.fromtype=e)},[(0,i.createElementVNode)("option",s,(0,i.toDisplayString)(F.labs.accurate),1),(0,i.createElementVNode)("option",r,(0,i.toDisplayString)(F.labs.relative),1)],512),[[i.vModelSelect,F.fromtype]])])]),(0,i.createElementVNode)("div",c,[["accurate","relative"].includes(a.from.type)?((0,i.openBlock)(),(0,i.createBlock)(R,{key:0,"onUpdate:modelValue":t[2]||(t[2]=e=>F.fromvalue=e),step:.1,modelValue:F.fromvalue},null,8,["modelValue"])):(0,i.createCommentVNode)("v-if",!0)]),(0,i.createElementVNode)("div",p,[(0,i.createElementVNode)("div",d,[t[14]||(t[14]=(0,i.createTextVNode)("В:")),a.options.inspector&&["accurate"].includes(a.to.type)?((0,i.openBlock)(),(0,i.createElementBlock)("button",{key:0,onClick:t[3]||(t[3]=e=>F.copyFromModel("to"))},[(0,i.createVNode)(L,{value:"target",size:"0.9em"})])):(0,i.createCommentVNode)("v-if",!0)]),(0,i.createElementVNode)("div",u,[(0,i.withDirectives)((0,i.createElementVNode)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>F.totype=e)},[(0,i.createElementVNode)("option",m,(0,i.toDisplayString)(F.labs.accurate),1),(0,i.createElementVNode)("option",y,(0,i.toDisplayString)(F.labs.relative),1)],512),[[i.vModelSelect,F.totype]])])]),(0,i.createElementVNode)("div",h,[["accurate","relative"].includes(a.to.type)?((0,i.openBlock)(),(0,i.createBlock)(R,{key:0,"onUpdate:modelValue":t[5]||(t[5]=e=>F.tovalue=e),step:.1,modelValue:F.tovalue},null,8,["modelValue"])):(0,i.createCommentVNode)("v-if",!0)]),(0,i.createElementVNode)("div",v,[(0,i.createElementVNode)("div",f,(0,i.toDisplayString)(F.labs.delay)+": ",1),(0,i.createElementVNode)("div",g,[(0,i.createVNode)(Q,{modelValue:a.delay,min:0,decimals:0,step:10,"onUpdate:modelValue":t[6]||(t[6]=t=>e.$emit("update","delay",t))},null,8,["modelValue"])])]),(0,i.createElementVNode)("div",V,[(0,i.createElementVNode)("div",N,(0,i.toDisplayString)(F.labs.time)+": ",1),(0,i.createElementVNode)("div",E,[(0,i.createVNode)(Q,{modelValue:a.time,min:0,decimals:0,step:10,"onUpdate:modelValue":t[7]||(t[7]=t=>e.$emit("update","time",t))},null,8,["modelValue"])])]),(0,i.createElementVNode)("div",k,[(0,i.createElementVNode)("div",b,(0,i.toDisplayString)(F.labs.easing)+":",1),(0,i.createElementVNode)("div",x,[(0,i.withDirectives)((0,i.createElementVNode)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>F.easingval=e)},[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(A.easingList,e=>((0,i.openBlock)(),(0,i.createElementBlock)("option",{value:e},(0,i.toDisplayString)(e),9,$))),256))],512),[[i.vModelSelect,F.easingval]])])]),(0,i.createElementVNode)("div",w,[(0,i.createElementVNode)("div",B,(0,i.toDisplayString)(F.labs.yoyo)+":",1),(0,i.createElementVNode)("div",C,[(0,i.createElementVNode)("input",{checked:a.yoyo,onChange:t[9]||(t[9]=t=>e.$emit("update","yoyo",t.target.checked)),type:"checkbox"},null,40,S)])]),(0,i.createElementVNode)("div",z,[(0,i.createElementVNode)("div",null,(0,i.toDisplayString)(F.labs.repeat)+":",1),(0,i.createElementVNode)("div",null,[(0,i.createVNode)(G,{repeat:a.repeat,"onUpdate:repeat":t[10]||(t[10]=t=>e.$emit("update","repeat",t))},null,8,["repeat"])])]),(0,i.createElementVNode)("div",I,[(0,i.createElementVNode)("div",D,(0,i.toDisplayString)(F.labs.nowait)+":",1),(0,i.createElementVNode)("div",U,[(0,i.createElementVNode)("input",{checked:a.nowait,onChange:t[11]||(t[11]=t=>e.$emit("update","nowait",t.target.checked)),type:"checkbox"},null,40,j)])]),(0,i.createElementVNode)("div",O,[(0,i.createElementVNode)("div",_,(0,i.toDisplayString)(F.labs.single)+":",1),(0,i.createElementVNode)("div",M,[(0,i.createElementVNode)("input",{checked:a.single,onChange:t[12]||(t[12]=t=>e.$emit("update","single",t.target.checked)),type:"checkbox"},null,40,P)])])])}]])},939:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var i=a(27);const o={class:"vertflex"},l={class:"flex-fit",style:{"justify-content":"center"}},n={key:0,class:"flex-fit",style:{"justify-content":"center"}};a(454);var s=a(572);const r={name:"TweenPos",props:{name:{type:String},from:{type:Object,default:{type:"accurate",value:{x:0,y:0,z:0}}},to:{type:Object,default:{type:"accurate",value:{x:0,y:0,z:0}}},delay:{type:Number},time:{type:Number},easing:{type:String,default:"Linear.InOut"},repeat:{type:Number},yoyo:{type:Boolean},options:{type:Object,default:{inspector:!1}}},data:()=>({labels:{accurate:"Точная позиция",relative:"Относительная позиция"},played:!1}),computed:{fromtype:{get(){return this.from.type},set(e){this.$emit("update","from",{value:this.fromvalue,type:e})}},fromvalue:{get(){return this.from.value},set(e){this.$emit("update","from",{value:e,type:this.fromtype})}},totype:{get(){return this.to.type},set(e){this.$emit("update","to.type",e)}},tovalue:{get(){return this.to.value},set(e){this.$emit("update","to",{value:e,type:this.totype})}},easingval:{get(){return this.easing},set(e){this.$emit("update","easing",e)}},target(){return this.$app.selection.selected}},methods:{onUpdate(e,t){this.$emit("update",e,t)},copyFromModel(e){const t=this.target.model.position.clone(),a=this[e];a.value.x=t.x,a.value.y=t.y,a.value.z=t.z,this.$emit("update",e,a)},reset(){const e=this.target.position||this.target.model.position;this.target.model?this.target.model.position.copy(e):this.target.position.copy(e)},async play(){if(this.played)return this.played=!1,void this.$emit("play",this.played);this.played=!0,this.$emit("play",this.played),this.reset(),await TweenPos({from:this.from,to:this.to,delay:this.delay,time:this.time,easing:this.easing,repeat:this.repeat,yoyo:this.yoyo},this.target,!1),this.played=!1,this.$emit("play",this.played)}},components:{Inspector:s.A}},c=(0,a(262).A)(r,[["render",function(e,t,a,s,r,c){const p=(0,i.resolveComponent)("TweenUI");return(0,i.openBlock)(),(0,i.createElementBlock)("div",o,[(0,i.createElementVNode)("div",l,[(0,i.renderSlot)(e.$slots,"default")]),(0,i.createVNode)(p,{labels:r.labels,property:"position",name:a.name,from:a.from,to:a.to,delay:a.delay,time:a.time,easing:a.easing,repeat:a.repeat,yoyo:a.yoyo,options:a.options,onUpdate:c.onUpdate},null,8,["labels","name","from","to","delay","time","easing","repeat","yoyo","options","onUpdate"]),(0,i.createCommentVNode)(' <div class="flex-line">\r\n            <div class="line-title">Последовательность: </div>\r\n            <div class="value-title">\r\n                <input type="checkbox">\r\n            </div>\r\n        </div> '),a.options.inspector?((0,i.openBlock)(),(0,i.createElementBlock)("div",n)):(0,i.createCommentVNode)("v-if",!0)])}]])}}]);