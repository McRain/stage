"use strict";(self.webpackChunk_reneos_3d_mod_tweens=self.webpackChunk_reneos_3d_mod_tweens||[]).push([[84,261,637,908],{70:(e,t,n)=>{n.d(t,{A:()=>s});const o=new(n(40).YJ);let a=!1;class i{static get Group(){return o}static Add(e){o.add(e),a||(a=!0,i.Update())}static Remove(e){o.remove(e),0===o.getAll().length&&(a=!1)}static Update(e){a&&(o.update(e),requestAnimationFrame(i.Update))}static ToDegrees(e){return 180*e/Math.PI}static ToRadians(e){return e*Math.PI/180}static ToRadiansV3(e){return{x:e.x*Math.PI/180,y:e.y*Math.PI/180,z:e.z*Math.PI/180}}}const s=i},155:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(40),a=n(70);const i=`${Date.now()}_${Math.random()}`;function s(e,t,n=!1){return new Promise(s=>{e.tween&&e.tween.uid===i&&(e.tween.stop(),a.A.Remove(e.tween));let r=t.model;const l="accurate"===e.from.type?{...e.from.value}:{x:r.scale.x+e.from.value.x,y:r.scale.y+e.from.value.y,z:r.scale.z+e.from.value.z};let c=e.scale||t.scale||r.scale;const u="accurate"===e.to.type?e.to.value:{x:c.x+e.to.value.x,y:c.y+e.to.value.y,z:c.z+e.to.value.z};r.model.scale.copy(l);const w=e.easing.split(".");let y=o.GS;for(let e=0;e<w.length;e++)y=y[w[e]];r.visible=!0,e.tween=new o.K(l).to(u,n?0:e.time||1e3).delay(n?0:e.delay||0).easing(y).yoyo(e.yoyo).repeat(e.repeat||0).onStart(()=>{e.nowait&&s()}).onUpdate(()=>{r.scale.copy(l)}).onComplete(()=>{a.A.Remove(e.tween),e.tween=null,s()}).onStop(()=>{a.A.Remove(e.tween),e.tween=null,s()}),e.tween.uid=i,e.tween.start(),a.A.Add(e.tween)})}},195:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(40),a=n(70);const i=`${Date.now()}_${Math.random()}`;function s(e,t,n=!1){return new Promise(s=>{e.tween&&e.tween.uid===i&&(e.tween.stop(),a.A.Remove(e.tween));let r=t.model;const l="accurate"===e.from.type?{...e.from.value}:{x:r.position.x+e.from.value.x,y:r.position.y+e.from.value.y,z:r.position.z+e.from.value.z};let c=e.position||t.position||r.position;const u="accurate"===e.to.type?e.to.value:{x:c.x+e.to.value.x,y:c.y+e.to.value.y,z:c.z+e.to.value.z};r.position.copy(l);const w=e.easing.split(".");let y=o.GS;for(let e=0;e<w.length;e++)y=y[w[e]];r.visible=!0,e.tween=new o.K(l).to(u,n?0:e.time||1e3).delay(n?0:e.delay||0).easing(y).yoyo(e.yoyo).repeat(e.repeat||0).onStart(()=>{e.nowait&&s()}).onUpdate(()=>{r.position.copy(l)}).onComplete(()=>{a.A.Remove(e.tween),e.tween=null,s()}).onStop(()=>{a.A.Remove(e.tween),e.tween=null,s()}),e.tween.uid=i,e.tween.start(),a.A.Add(e.tween)})}},470:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var o=n(40),a=n(70),i=n(500);const s=[];function r(e,t,n){const o="accurate"===t?a.A.ToRadiansV3({...e}):{x:(n?.x||0)+a.A.ToRadians(e?.x||0),y:(n?.y||0)+a.A.ToRadians(e?.y||0),z:(n?.z||0)+a.A.ToRadians(e?.z||0)};return new i.Euler(o.x,o.y,o.z,"XYZ")}function l(e,t,n=!1){return t.tweenRotation&&(console.log(`RotationTween ${t.tweenRotation.isPlaying()}`),t.tweenRotation.stop(),a.A.Remove(t.tweenRotation),console.log(`RotationTween ${t.tweenRotation.isPlaying()}`),t.tweenRotation=null),new Promise(l=>{console.log("TweenRotate");let c=t.model,u=e.rotation||t.rotation||c.rotation;const w=r(e.from.value,e.from.type,c.rotation),y=r(e.to?.value||{},e.from.type,u),p=(new i.Quaternion).setFromEuler(w),d=e.easing.split(".");let m=o.GS;for(let e=0;e<d.length;e++)m=m[d[e]];c.quaternion.copy(p),c.visible=!0;const v=new i.Vector3(w.x,w.y,w.z),g=new i.Vector3(y.x,y.y,y.z);"TweenRotate1751041132910"===e.uid&&console.log("TweenRotate1751041132910");const f=t.tweenRotation=new o.K(v).to(g,n?0:e.time||1e3).delay(n?0:e.delay||0).easing(m).yoyo(Boolean(e.yoyo)).repeat(Number.isInteger(e.repeat)?e.repeat:1/0).onStart(()=>{console.log(`TweenRotate ${e.name} On Start`),e.nowait&&l()}).onUpdate(()=>{w.setFromVector3(v),c.quaternion.setFromEuler(w)}).onComplete(()=>{a.A.Remove(f),l&&l()}).onEveryStart(()=>{}).onRepeat(()=>{l&&l()}).onStop(()=>{console.log("Stop"),a.A.Remove(f),l&&l()});f.start(),s.push(f),a.A.Add(f)})}},844:(e,t,n)=>{n.r(t);var o=n(320),a=n(27),i=n(155),s=n(195),r=n(470),l=n(40);const c=o.default||o;console.log("tween"),function e(){if(c.engine.ready){if(console.log(c.engine),c.engine.ActionsManager.RegisterAction("TweenScale",i.default),c.engine.ActionsManager.RegisterAction("TweenPos",s.default),c.engine.ActionsManager.RegisterAction("TweenRotate",r.default),!window.isEditor)return;const e=(0,a.defineAsyncComponent)(async()=>{const e=await n.e(821).then(n.t.bind(n,202,19));return e.default||e});window.vue.component("TweenScale",e);const t=(0,a.defineAsyncComponent)(async()=>{const e=await n.e(341).then(n.t.bind(n,341,19));return e.default||e});window.vue.component("TweenPos",t);const o=(0,a.defineAsyncComponent)(async()=>{const e=await n.e(812).then(n.t.bind(n,812,19));return e.default||e});window.vue.component("TweenRotate",o),c.actions.register({component:"TweenPos",type:"tweens",name:"Animate Position",template:{name:"New Tween Position",from:{type:"accurate",value:{x:0,y:0,z:0}},to:{type:"accurate",value:{x:0,y:0,z:0}},delay:0,time:1e3,easing:"Linear.InOut",repeat:0,yoyo:!0,nowait:!1},check:async()=>!0}),c.actions.register({component:"TweenRotate",type:"tweens",name:"Animate Rotation",template:{name:"New Tween Rotation",from:{type:"accurate",value:{x:0,y:0,z:0}},to:{type:"accurate",value:{x:0,y:0,z:0}},delay:0,time:1e3,easing:"Easing.Linear.InOut",repeat:0,yoyo:!0,nowait:!1}}),c.actions.register({component:"TweenScale",type:"tweens",name:"Animate Scale",template:{name:"New Tween Scale",from:{type:"accurate",value:{x:1,y:1,z:1}},to:{type:"accurate",value:{x:1,y:1,z:1}},delay:0,time:1e3,easing:"Easing.Linear.InOut",repeat:0,yoyo:!0,nowait:!1}}),window.TWEEN=l.Ay}else c.engine.onload(e)}()}}]);