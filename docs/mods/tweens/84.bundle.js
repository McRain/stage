"use strict";(self.webpackChunk_reneos_3d_mod_tweens=self.webpackChunk_reneos_3d_mod_tweens||[]).push([[84],{70:(e,t,o)=>{o.d(t,{A:()=>s});const n=new(o(40).YJ);let a=!1;class r{static get Group(){return n}static Add(e){n.add(e),a||(a=!0,r.Update())}static Remove(e){n.remove(e),0===n.getAll().length&&(a=!1)}static Update(e){a&&(n.update(e),requestAnimationFrame(r.Update))}static ToDegrees(e){return 180*e/Math.PI}static ToRadians(e){return e*Math.PI/180}static ToRadiansV3(e){return{x:e.x*Math.PI/180,y:e.y*Math.PI/180,z:e.z*Math.PI/180}}}const s=r},470:(e,t,o)=>{o.r(t),o.d(t,{default:()=>l});var n=o(40),a=o(70),r=o(500);const s=[];function i(e,t,o){const n="accurate"===t?a.A.ToRadiansV3({...e}):{x:(o?.x||0)+a.A.ToRadians(e?.x||0),y:(o?.y||0)+a.A.ToRadians(e?.y||0),z:(o?.z||0)+a.A.ToRadians(e?.z||0)};return new r.Euler(n.x,n.y,n.z,"XYZ")}function l(e,t,o=!1){return t.tweenRotation&&(console.log(`RotationTween ${t.tweenRotation.isPlaying()}`),t.tweenRotation.stop(),a.A.Remove(t.tweenRotation),console.log(`RotationTween ${t.tweenRotation.isPlaying()}`),t.tweenRotation=null),new Promise(l=>{console.log("TweenRotate");let c=t.model,u=e.rotation||t.rotation||c.rotation;const d=i(e.from.value,e.from.type,c.rotation),w=i(e.to?.value||{},e.from.type,u),R=(new r.Quaternion).setFromEuler(d),p=e.easing.split(".");let m=n.GS;for(let e=0;e<p.length;e++)m=m[p[e]];c.quaternion.copy(R),c.visible=!0;const y=new r.Vector3(d.x,d.y,d.z),g=new r.Vector3(w.x,w.y,w.z);"TweenRotate1751041132910"===e.uid&&console.log("TweenRotate1751041132910");const A=t.tweenRotation=new n.K(y).to(g,o?0:e.time||1e3).delay(o?0:e.delay||0).easing(m).yoyo(Boolean(e.yoyo)).repeat(Number.isInteger(e.repeat)?e.repeat:1/0).onStart(()=>{console.log(`TweenRotate ${e.name} On Start`),e.nowait&&l()}).onUpdate(()=>{d.setFromVector3(y),c.quaternion.setFromEuler(d)}).onComplete(()=>{a.A.Remove(A),l&&l()}).onEveryStart(()=>{}).onRepeat(()=>{l&&l()}).onStop(()=>{console.log("Stop"),a.A.Remove(A),l&&l()});A.start(),s.push(A),a.A.Add(A)})}}}]);